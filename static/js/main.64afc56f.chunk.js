(this.webpackJsonptacotab=this.webpackJsonptacotab||[]).push([[0],{49:function(e){e.exports=JSON.parse('{"name":"tacotab","version":"0.4.3","author":{"name":"Rayo Verweij","email":"rayo.verweij@live.nl","url":"https://rayo.dev"},"license":"MIT","description":"A tabbing app for small World Schools-like debating tournaments","private":true,"homepage":".","dependencies":{"@types/jest":"^24.9.1","@types/node":"^12.12.41","@types/react":"^16.9.35","@types/react-dom":"^16.9.8","bootstrap":"^4.5.0","bs-custom-file-input":"^1.3.4","gh-pages":"^2.2.0","node-sass":"^4.14.1","react":"^16.13.1","react-bootstrap":"^1.0.1","react-bootstrap-icons":"^1.0.2-alpha4","react-dom":"^16.13.1","react-scripts":"3.4.1","typescript":"^3.7.5"},"scripts":{"predeploy":"npm run build","deploy":"gh-pages -d build","start":"react-scripts start","build":"react-scripts build","test":"react-scripts test","eject":"react-scripts eject"},"eslintConfig":{"extends":"react-app"},"browserslist":{"production":[">0.2%","not dead","not op_mini all"],"development":["last 1 chrome version","last 1 firefox version","last 1 safari version"]}}')},54:function(e,a,t){e.exports=t.p+"static/media/logo.15863a1a.svg"},73:function(e,a,t){},75:function(e,a,t){e.exports=t.p+"static/media/icon-github.026cb8cd.svg"},79:function(e,a,t){e.exports=t(96)},84:function(e,a,t){},85:function(e,a,t){},86:function(e,a,t){},87:function(e,a,t){},91:function(e,a,t){},92:function(e,a,t){},93:function(e,a,t){},94:function(e,a,t){},95:function(e,a,t){},96:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),o=t(28),l=t.n(o),s=(t(84),t(85),t(19)),i=t(27),c=t(9),m=t(10),u=t(5),d=t(12),p=t(11),h=(t(86),t(54)),g=t.n(h),f=t(49),v=t(13),b=(t(87),JSON.stringify),E=function(e){if(e.length<=0)return!1;var a=new FileReader;a.onload=function(e){var a=JSON.parse(e.target.result);if(!("init"in a)||!("tournamentName"in a)&&!("tournament_name"in a)||!("config"in a)||!("speakersOne"in a)&&!("speakers_one"in a)||!("speakersTwo"in a)&&!("speakers_two"in a)||!("teamsOne"in a)&&!("teams_one"in a)||!("teamsTwo"in a)&&!("teams_two"in a)||!("speakerCounter"in a)&&!("speakers_counter"in a)||!("judges"in a)||!("judgeCounter"in a)&&!("judges_counter"in a)||!("draws"in a))return!1;if(localStorage.setItem("init",b(a.init)),a.config.version)localStorage.setItem("tournamentName",b(a.tournamentName)),localStorage.setItem("config",b(a.config)),localStorage.setItem("speakersOne",b(a.speakersOne)),localStorage.setItem("teamsOne",b(a.teamsOne)),localStorage.setItem("speakersTwo",b(a.speakersTwo)),localStorage.setItem("teamsTwo",b(a.teamsTwo)),localStorage.setItem("speakerCounter",b(a.speakerCounter)),localStorage.setItem("teamCounter",b(a.teamCounter)),localStorage.setItem("judges",b(a.judges)),localStorage.setItem("judgeCounter",b(a.judgeCounter)),localStorage.setItem("draws",b(a.draws)),localStorage.setItem("roomCounter",b(a.roomCounter));else{localStorage.setItem("tournamentName",b(a.tournament_name));var t=a.config;t.version=f.version,"1"===t.divisions?t.numDivisions=1:t.numDivisions=2,delete t.divisions,localStorage.setItem("config",b(t));var n=a.speakers_one.map((function(e){var a=Object(v.a)(Object(v.a)({},e),{},{speakerID:e.debaterID});return delete a.debaterID,a}));localStorage.setItem("speakersOne",b(n));var r=a.teams_one.map((function(e){var a=Object(v.a)(Object(v.a)({},e),{},{name:e.teamName,round1:e.round1.map((function(e){return parseInt(e)})),round2:e.round2.map((function(e){return parseInt(e)})),round3:e.round2.map((function(e){return parseInt(e)}))});return delete a.teamName,delete a.sideR1,a}));localStorage.setItem("teamsOne",b(r));var o=a.speakers_two.map((function(e){var a=Object(v.a)(Object(v.a)({},e),{},{speakerID:e.debaterID});return delete a.debaterID,a}));localStorage.setItem("speakersTwo",b(o));var l=a.teams_two.map((function(e){var a=Object(v.a)(Object(v.a)({},e),{},{name:e.teamName,round1:e.round1.map((function(e){return parseInt(e)})),round2:e.round2.map((function(e){return parseInt(e)})),round3:e.round2.map((function(e){return parseInt(e)}))});return delete a.teamName,delete a.sideR1,a}));localStorage.setItem("teamsTwo",b(l)),localStorage.setItem("speakerCounter",b(a.speakers_counter)),localStorage.setItem("teamCounter",b(a.teams_counter));var s=a.judges.map((function(e){var a=Object(v.a)(Object(v.a)({},e),{},{atRound1:e.r1,atRound2:e.r2,atRound3:e.r3});return delete a.r1,delete a.r2,delete a.r3,a}));localStorage.setItem("judges",b(s)),localStorage.setItem("judgeCounter",b(a.judges_counter));var i=0,c=a.draws.map((function(e){var a=Object(v.a)(Object(v.a)({},e),{},{roomsOne:e.pairings_one.map((function(e){var a=Object(v.a)(Object(v.a)({},e),{},{roomID:i++,name:e.room});return delete a.room,a})),roomsTwo:e.pairings_two.map((function(e){var a=Object(v.a)(Object(v.a)({},e),{},{roomID:i++,name:e.room});return delete a.room,a}))});return delete a.pairings_one,delete a.pairings_two,a}));localStorage.setItem("draws",b(c)),localStorage.setItem("roomCounter",b(i))}},a.readAsText(e.item(0)),window.location.reload()},k=t(18),w=t(78),y=t(16),S=t(4),j=t(66),O=t(8),I=t(17),N=function(e){Object(d.a)(t,e);var a=Object(p.a)(t);function t(e){var n;return Object(c.a)(this,t),(n=a.call(this,e)).state={setupForm:{tournamentName:"",numDivisions:1,divisionOneName:"",divisionTwoName:""},setupFormValidated:!1,importFormValidated:!1},n.handleSetupFormChange=n.handleSetupFormChange.bind(Object(u.a)(n)),n.handleSetupFormSubmit=n.handleSetupFormSubmit.bind(Object(u.a)(n)),n.importData=n.importData.bind(Object(u.a)(n)),n}return Object(m.a)(t,[{key:"handleSetupFormChange",value:function(e){var a=e.target.name,t=e.target.value;"numDivisions"===a&&(t=Number(t));var n=Object(v.a)({},this.state.setupForm);n[a]=t,this.setState({setupForm:n})}},{key:"handleSetupFormSubmit",value:function(e){if(e.preventDefault(),!1===e.currentTarget.checkValidity())return e.stopPropagation(),this.setState({setupFormValidated:!0}),!1;var a=this.state.setupForm.numDivisions,t=[this.state.setupForm.divisionOneName,this.state.setupForm.divisionTwoName];if(2===a&&(""===t[0]||""===t[1]))return!1;this.setState({setupFormValidated:!1}),this.props.initializeTournament(this.state.setupForm.tournamentName,a,t)}},{key:"importData",value:function(e){if(e.preventDefault(),!1===e.currentTarget.checkValidity())return e.stopPropagation(),this.setState({importFormValidated:!0}),!1;var a=document.getElementById("importSetup").files;if(null===a)return!1;this.setState({importFormValidated:!1}),E(a)}},{key:"render",value:function(){return r.a.createElement(k.a,{show:!this.props.init,backdrop:"static",animation:!1,className:"setup-modal",dialogClassName:"setup-modal-dialog",backdropClassName:"setup-modal-backdrop","aria-labelledby":"setup-modal-title"},r.a.createElement(k.a.Header,null,r.a.createElement(k.a.Title,{id:"setup-modal-title"},r.a.createElement("img",{src:g.a,alt:"TacoTab logo",id:"setup-logo"}),"Welcome to TacoTab!")),r.a.createElement(k.a.Body,null,r.a.createElement("p",null,r.a.createElement("strong",null,"This is prerelease software, still under active development. Use at your own risk\u2014this app might bite.")," For more information, see the ",r.a.createElement("a",{href:"https://github.com/rayoverweij/tacotab",rel:"noopener noreferrer",target:"_blank"},"GitHub repository"),"."),r.a.createElement("p",null,"You can create a new tournament from scratch, or import data from a previous TacoTab tournament."),r.a.createElement(w.a,{defaultActiveKey:"createnew",id:"setup-tabs"},r.a.createElement(y.a,{eventKey:"createnew",title:"New tournament"},r.a.createElement(S.a,{noValidate:!0,validated:this.state.setupFormValidated,onSubmit:this.handleSetupFormSubmit},r.a.createElement(S.a.Group,{controlId:"setupFormTournamentName"},r.a.createElement(S.a.Label,{className:"h5"},"Tournament name"),r.a.createElement(S.a.Control,{name:"tournamentName",type:"text",required:!0,placeholder:"e.g. 'Bard MS-HS 2020'",value:this.state.setupForm.name,onChange:this.handleSetupFormChange}),r.a.createElement(S.a.Control.Feedback,{type:"invalid"},"Please enter a name for the tournament.")),r.a.createElement("h5",{id:"setup-form-div-h5"},"Speaker divisions"),r.a.createElement(S.a.Group,{controlId:"setupFormNumDivisions",id:"setup-form-num-div"},r.a.createElement(S.a.Label,null,"Number of speaker divisions:\xa0\xa0"),r.a.createElement(S.a.Check,{inline:!0,custom:!0,name:"numDivisions",label:"1",value:1,type:"radio",id:"setup-form-divisions-1",checked:1===this.state.setupForm.numDivisions,onChange:this.handleSetupFormChange}),r.a.createElement(S.a.Check,{inline:!0,custom:!0,name:"numDivisions",label:"2",value:2,type:"radio",id:"setup-form-divisions-2",checked:2===this.state.setupForm.numDivisions,onChange:this.handleSetupFormChange})),r.a.createElement(j.a,{in:2===this.state.setupForm.numDivisions},r.a.createElement("div",null,r.a.createElement(S.a.Group,{controlId:"setupFormDivisionNames"},r.a.createElement(S.a.Label,null,"Give both divisions a name for easy identification."),r.a.createElement(S.a.Row,null,r.a.createElement(O.a,{md:6},r.a.createElement(S.a.Label,{srOnly:!0},"Name for division one"),r.a.createElement(S.a.Control,{name:"divisionOneName",type:"text",placeholder:"e.g. 'Novice'",required:2===this.state.setupForm.numDivisions,value:this.state.setupForm.divisionOneName,onChange:this.handleSetupFormChange}),r.a.createElement(S.a.Control.Feedback,{type:"invalid"},"Please enter a name.")),r.a.createElement(O.a,{md:6},r.a.createElement(S.a.Label,{srOnly:!0},"Name for division two"),r.a.createElement(S.a.Control,{name:"divisionTwoName",type:"text",placeholder:"e.g. 'Open'",required:2===this.state.setupForm.numDivisions,value:this.state.setupForm.divisionTwoName,onChange:this.handleSetupFormChange}),r.a.createElement(S.a.Control.Feedback,{type:"invalid"},"Please enter a name.")))))),r.a.createElement(I.a,{variant:"primary",type:"submit",id:"setup-form-submit"},"Create the tournament"))),r.a.createElement(y.a,{eventKey:"importnew",title:"Import tournament"},r.a.createElement("p",null,"Open files generated with the Export function."),r.a.createElement(S.a,{noValidate:!0,validated:this.state.importFormValidated,onSubmit:this.importData},r.a.createElement(S.a.Row,null,r.a.createElement(O.a,{md:9},r.a.createElement("div",{className:"custom-file"},r.a.createElement(S.a.Control,{name:"import",id:"importSetup",className:"custom-file-input",type:"file",required:!0,accept:".tournament,.json"}),r.a.createElement("label",{className:"custom-file-label",htmlFor:"importSetup"},"Choose file"),r.a.createElement(S.a.Control.Feedback,{type:"invalid"},"Please select a file from your computer."))),r.a.createElement(O.a,{md:3},r.a.createElement(I.a,{variant:"primary",type:"submit"},"Import"))))))))}}]),t}(r.a.Component),T=t(20),C=function(e){Object(d.a)(t,e);var a=Object(p.a)(t);function t(){return Object(c.a)(this,t),a.apply(this,arguments)}return Object(m.a)(t,[{key:"render",value:function(){return r.a.createElement(T.a,null,r.a.createElement(O.a,null,r.a.createElement("h2",null,"Welcome!"),r.a.createElement("p",null,r.a.createElement("strong",null,"This is prerelease software, still under active development. Use at your own risk.")," For more information, see the ",r.a.createElement("a",{href:"https://github.com/rayoverweij/tacotab",rel:"noopener noreferrer",target:"_blank"},"GitHub repository"),".")))}}]),t}(r.a.PureComponent),D=(t(91),t(75)),F=t.n(D),R=t(76),P=t.n(R),J=t(15),x=function(e){Object(d.a)(t,e);var a=Object(p.a)(t);function t(e){var n;return Object(c.a)(this,t),(n=a.call(this,e)).state={nameForm:"",nameFormValidated:!1,nameSaved:!1,importFormValidated:!1,showWhatsNew:!1,showPrivacy:!1},n.handleNameFormChange=n.handleNameFormChange.bind(Object(u.a)(n)),n.handleNameFormSubmit=n.handleNameFormSubmit.bind(Object(u.a)(n)),n.importData=n.importData.bind(Object(u.a)(n)),n.exportData=n.exportData.bind(Object(u.a)(n)),n.clearData=n.clearData.bind(Object(u.a)(n)),n.showWhatsNew=n.showWhatsNew.bind(Object(u.a)(n)),n.hideWhatsNew=n.hideWhatsNew.bind(Object(u.a)(n)),n.showPrivacy=n.showPrivacy.bind(Object(u.a)(n)),n.hidePrivacy=n.hidePrivacy.bind(Object(u.a)(n)),n}return Object(m.a)(t,[{key:"componentDidMount",value:function(){P.a.init()}},{key:"handleNameFormChange",value:function(e){this.setState({nameForm:e.target.value})}},{key:"handleNameFormSubmit",value:function(e){var a=this;if(e.preventDefault(),!1===e.currentTarget.checkValidity())return e.stopPropagation(),this.setState({nameFormValidated:!0}),!1;var t=this.state.nameForm;this.props.updateTournamentName(t),this.setState({nameForm:""}),this.setState({nameFormValidated:!1}),this.setState({nameSaved:!0}),setTimeout((function(){return a.setState({nameSaved:!1})}),3e3)}},{key:"importData",value:function(e){if(e.preventDefault(),!1===e.currentTarget.checkValidity())return e.stopPropagation(),this.setState({importFormValidated:!0}),!1;var a=document.getElementById("import-settings").files;if(null===a)return!1;this.setState({importFormValidated:!1}),E(a)}},{key:"exportData",value:function(){var e="data:text/json;charset=utf-8,";e+=encodeURIComponent("{"),e+=encodeURIComponent('"init": '+localStorage.getItem("init")+","),e+=encodeURIComponent('"tournamentName": '+localStorage.getItem("tournamentName")+","),e+=encodeURIComponent('"config": '+localStorage.getItem("config")+","),e+=encodeURIComponent('"speakersOne": '+localStorage.getItem("speakersOne")+","),e+=encodeURIComponent('"teamsOne": '+localStorage.getItem("teamsOne")+","),e+=encodeURIComponent('"speakersTwo": '+localStorage.getItem("speakersTwo")+","),e+=encodeURIComponent('"teamsTwo": '+localStorage.getItem("teamsTwo")+","),e+=encodeURIComponent('"speakerCounter": '+localStorage.getItem("speakerCounter")+","),e+=encodeURIComponent('"teamCounter": '+localStorage.getItem("teamCounter")+","),e+=encodeURIComponent('"judges": '+localStorage.getItem("judges")+","),e+=encodeURIComponent('"judgeCounter": '+localStorage.getItem("judgeCounter")+","),e+=encodeURIComponent('"draws": '+localStorage.getItem("draws")),e+=encodeURIComponent("}");var a=this.props.tournamentName;a=a.replace(/\s+/g,"-").toLowerCase(),a+=".tournament";var t=document.createElement("a");t.setAttribute("href",e),t.setAttribute("download",a),document.body.appendChild(t),t.click(),t.remove()}},{key:"clearData",value:function(){if(!window.confirm("Are you sure you want to delete all data?"))return!1;localStorage.clear(),window.location.reload()}},{key:"showWhatsNew",value:function(){this.setState({showWhatsNew:!0})}},{key:"hideWhatsNew",value:function(){this.setState({showWhatsNew:!1})}},{key:"showPrivacy",value:function(){this.setState({showPrivacy:!0})}},{key:"hidePrivacy",value:function(){this.setState({showPrivacy:!1})}},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",null,r.a.createElement("h2",null,"Settings"),r.a.createElement(T.a,null,r.a.createElement(O.a,{lg:8,className:"col-settings"},r.a.createElement("p",null,"Manage your tournament."),r.a.createElement("section",null,r.a.createElement("h3",null,"Change tournament name"),r.a.createElement(S.a,{noValidate:!0,validated:this.state.nameFormValidated,onSubmit:this.handleNameFormSubmit},r.a.createElement(S.a.Row,null,r.a.createElement(O.a,{sm:9,xl:6},r.a.createElement(S.a.Label,{srOnly:!0},"Tournament name"),r.a.createElement(S.a.Control,{name:"tournamentName",type:"text",placeholder:"New name",required:!0,value:this.state.nameForm,onChange:this.handleNameFormChange}),r.a.createElement(S.a.Control.Feedback,{type:"invalid"},"Please enter a name for the tournament.")),r.a.createElement(O.a,null,r.a.createElement(I.a,{variant:this.state.nameSaved?"success":"primary",disabled:this.state.nameSaved,id:"btn-save-tournament-name",type:"submit"},this.state.nameSaved?r.a.createElement(J.e,null):"Save"))))),r.a.createElement("section",null,r.a.createElement("h3",null,"Import tournament data"),r.a.createElement("p",null,"Open files generated with the Export function below. ",r.a.createElement("strong",null,"Note:")," this will override all current data!"),r.a.createElement(S.a,{noValidate:!0,validated:this.state.importFormValidated,onSubmit:this.importData},r.a.createElement(S.a.Row,null,r.a.createElement(O.a,{xs:9,xl:6},r.a.createElement("div",{className:"custom-file"},r.a.createElement(S.a.Label,{srOnly:!0},"Select tournament file"),r.a.createElement(S.a.Control,{name:"import",id:"import-settings",className:"custom-file-input",type:"file",required:!0,accept:".tournament,.json"}),r.a.createElement("label",{className:"custom-file-label",htmlFor:"customFile"},"Choose file"),r.a.createElement(S.a.Control.Feedback,{type:"invalid"},"Please select a file from your computer."))),r.a.createElement(O.a,null,r.a.createElement(I.a,{variant:"primary",type:"submit"},"Import"))))),r.a.createElement("section",null,r.a.createElement("h3",null,"Export tournament data"),r.a.createElement("p",null,"Save all tournament data to a file on your PC."),r.a.createElement(I.a,{variant:"primary",onClick:this.exportData},r.a.createElement(J.g,{className:"btn-icon"}),"Export data")),r.a.createElement("section",{id:"section-cleardata"},r.a.createElement("h3",null,"Clear tournament data"),r.a.createElement("p",null,"Warning: this will delete ",r.a.createElement("strong",null,"all")," entered data. Save your data using the Export function first."),r.a.createElement(I.a,{variant:"danger",onClick:this.clearData},r.a.createElement(J.p,{className:"btn-icon"}),"Clear data"))),r.a.createElement(O.a,{lg:4,className:"col-settings"},r.a.createElement("section",{id:"section-about"},r.a.createElement("h3",null,"About"),r.a.createElement("p",null,"TacoTab \u03b2 version 0.4.3",r.a.createElement("br",null),"\xa9 ",(new Date).getFullYear()," Rayo Verweij",r.a.createElement("br",null),r.a.createElement("img",{src:F.a,alt:"GitHub logo",id:"logo-github"}),"\xa0",r.a.createElement("a",{href:"https://github.com/rayoverweij/tacotab",rel:"noopener noreferrer",target:"_blank"},"GitHub"),"\xa0\xb7\xa0",r.a.createElement(I.a,{variant:"link",onClick:this.showWhatsNew},"What's new"),"\xa0\xb7\xa0",r.a.createElement(I.a,{variant:"link",onClick:this.showPrivacy},"Privacy")),r.a.createElement("p",null,r.a.createElement("a",{href:"https://rayo.dev",rel:"noopener noreferrer",target:"_blank"},"Check out more of Rayo's work")," or ",r.a.createElement("a",{href:"https://debate.bard.edu",rel:"noopener noreferrer",target:"_blank"},"visit the Bard Debate Union"),"\u2014Bard's best sports team!"))))),r.a.createElement(k.a,{show:this.state.showWhatsNew,onHide:this.hideWhatsNew,className:"whatsnew-modal","aria-labelledby":"whatsnew-modal-title"},r.a.createElement(k.a.Header,{closeButton:!0},r.a.createElement(k.a.Title,{id:"whatsnew-modal-title"},"What's new")),r.a.createElement(k.a.Body,null,r.a.createElement("p",null,"New in version 0.4.3:",r.a.createElement("ul",null,r.a.createElement("li",null,"General: from now on, when a new update to TacoTab is available, a message will tell you and let you reload"),r.a.createElement("li",null,"General: in text fields, pressing 'Enter' now submits your input rather than entering a newline"),r.a.createElement("li",null,"General: if a form can't be submitted, for example because you left crucial fields empty, the app will now give you feedback"),r.a.createElement("li",null,"General: many performance improvements, especially around editing text fields"),r.a.createElement("li",null,"Teams: when trying to add a team without any speakers, now the app tells you this is impossible, instead of simply crashing"),r.a.createElement("li",null,"Accessibility: removed transitions and animations when prefers-reduced-motion is set"),r.a.createElement("li",null,"Accessibility: each interactive element is now properly focusable"),r.a.createElement("li",null,"Accessibility: each form input should now be properly labeled for screen readers"),r.a.createElement("li",null,"Minor visual tweaks and bug fixes")),"For an overview of changes made in previous versions, see ",r.a.createElement("a",{href:"https://github.com/rayoverweij/tacotab/releases",target:"_blank",rel:"noreferrer noopener"},"GitHub"),"."))),r.a.createElement(k.a,{show:this.state.showPrivacy,onHide:this.hidePrivacy,className:"privacy-modal","aria-labelledby":"privacy-modal-title"},r.a.createElement(k.a.Header,{closeButton:!0},r.a.createElement(k.a.Title,{id:"privacy-modal-title"},"Privacy Policy")),r.a.createElement(k.a.Body,null,r.a.createElement("p",null,"We don't collect or store any of your data."),r.a.createElement("p",null,"It is, quite frankly, impossible for us to do so. There are no servers, no accounts, and no analytics. All data that you enter is stored in the local storage of your browser, and never leaves the instance of the browser you are runnning right now. (In fact, you could download the app and use it without even needing an internet connection!)"),r.a.createElement("p",null,"There are also no third-party services or scripts running in the background that might collect your data, or cookies of any kind. The only way for data to leave this app is if you ",r.a.createElement("em",null,"manually"),' use the "export" function on the Settings page.'),r.a.createElement("p",null,"What happens on your computer stays on your computer!"))))}}]),t}(r.a.PureComponent),W=t(14),A=function(e){Object(d.a)(t,e);var a=Object(p.a)(t);function t(){return Object(c.a)(this,t),a.apply(this,arguments)}return Object(m.a)(t,[{key:"render",value:function(){return r.a.createElement(y.a.Container,{id:"home-view",defaultActiveKey:"welcome",transition:!1},r.a.createElement(T.a,null,r.a.createElement(O.a,{md:3,lg:2},r.a.createElement(W.a,{variant:"pills",className:"sub-nav"},r.a.createElement(W.a.Item,null,r.a.createElement(W.a.Link,{eventKey:"welcome",className:"sub-nav-link"},r.a.createElement(J.j,{className:"btn-icon"}),"Welcome")),r.a.createElement(W.a.Item,null,r.a.createElement(W.a.Link,{eventKey:"settings",className:"sub-nav-link"},r.a.createElement(J.i,{className:"btn-icon"}),"Settings")))),r.a.createElement(O.a,{md:9,lg:10},r.a.createElement(y.a.Content,null,r.a.createElement(y.a.Pane,{eventKey:"welcome"},r.a.createElement(C,null)),r.a.createElement(y.a.Pane,{eventKey:"settings"},r.a.createElement(x,{config:this.props.config,tournamentName:this.props.tournamentName,updateTournamentName:this.props.updateTournamentName,updateConfig:this.props.updateConfig}))))))}}]),t}(r.a.PureComponent),U=t(29),L=(t(92),t(43)),M=function(e){var a=e.name,t=e.init,o=e.cols,l=e.maxLength,s=e.placeholder,i=e.fn,c=e.baggage,m=Object(n.useState)(t),u=Object(L.a)(m,2),d=u[0],p=u[1];return r.a.createElement("textarea",{className:"editText",name:a,rows:1,cols:o||(d.length>8?d.length:8),maxLength:l,value:d,autoComplete:"off",spellCheck:!1,placeholder:s||a,onChange:function(e){p(e.target.value)},onKeyDown:function(e){13===e.which&&e.target.blur()},onBlur:function(e){e.preventDefault(),i(a,d,c)}})},K=function(e){var a=e.id,t=e.name,o=e.init,l=e.fn,s=Object(n.useState)(o),i=Object(L.a)(s,2),c=i[0],m=i[1];return r.a.createElement(S.a.Check,{id:"toggle-".concat(t,"-").concat(a),className:c?"on":"off",name:t,type:"switch",label:"",checked:c,onChange:function(e){m(e.target.checked),l(t,!c)}})},H=function(e){Object(d.a)(t,e);var a=Object(p.a)(t);function t(e){var n;return Object(c.a)(this,t),(n=a.call(this,e)).handleSpeakerUpdate=n.handleSpeakerUpdate.bind(Object(u.a)(n)),n}return Object(m.a)(t,[{key:"handleSpeakerUpdate",value:function(e,a){var t=Object(v.a)(Object(v.a)({},this.props.speaker),{},Object(i.a)({},e,a));this.props.updateSpeaker(t)}},{key:"render",value:function(){var e=this,a=this.props.speaker;return r.a.createElement("tr",{key:"speaker-row-".concat(a.speakerID)},r.a.createElement("td",{className:"editable"},r.a.createElement(M,{name:"name",init:a.name,fn:this.handleSpeakerUpdate})),r.a.createElement("td",{className:"editable"},r.a.createElement(M,{name:"school",init:a.school,fn:this.handleSpeakerUpdate})),r.a.createElement("td",{className:"cell-low-padding"},r.a.createElement(K,{id:a.speakerID,name:"disqualified",init:a.disqualified,fn:this.handleSpeakerUpdate})),r.a.createElement("td",{className:"table-delete"},r.a.createElement("button",{className:"btn-none",title:"Remove ".concat(a.name),onClick:function(){return e.props.deleteSpeaker(a)}},r.a.createElement(J.p,{className:"icon trash"}))))}}]),t}(r.a.PureComponent),V=t(30),B=t(21),_=t(36),q=function(e){Object(d.a)(t,e);var a=Object(p.a)(t);function t(e){var n;return Object(c.a)(this,t),(n=a.call(this,e)).state={addSpeakerForm:{speakerName:"",school:""}},n.handleAddSpeakerFormChange=n.handleAddSpeakerFormChange.bind(Object(u.a)(n)),n.handleAddSpeakerFormSubmit=n.handleAddSpeakerFormSubmit.bind(Object(u.a)(n)),n.updateSpeaker=n.updateSpeaker.bind(Object(u.a)(n)),n.deleteSpeaker=n.deleteSpeaker.bind(Object(u.a)(n)),n}return Object(m.a)(t,[{key:"handleAddSpeakerFormChange",value:function(e){var a=e.target,t=a.name,n=a.value,r=Object(v.a)({},this.state.addSpeakerForm);r[t]=n,this.setState({addSpeakerForm:r})}},{key:"handleAddSpeakerFormSubmit",value:function(e){e.preventDefault();var a=JSON.parse(localStorage.getItem("speakerCounter")),t={speakerID:a++,name:this.state.addSpeakerForm.speakerName,school:this.state.addSpeakerForm.school,scores:[0,0,0],ranks:[0,0,0],wins:0,disqualified:!1},n=[].concat(Object(s.a)(this.props.speakers),[t]);this.props.updateSpeakers(n),localStorage.setItem("speakerCounter",JSON.stringify(a));var r=Object(v.a)({},this.state.addSpeakerForm);r.speakerName="",this.setState({addSpeakerForm:r})}},{key:"updateSpeaker",value:function(e){var a=Object(s.a)(this.props.speakers),t=a.findIndex((function(a){return a.speakerID===e.speakerID}));a[t]=e,this.props.updateSpeakers(a)}},{key:"deleteSpeaker",value:function(e){var a,t=Object(U.a)(this.props.teams);try{for(t.s();!(a=t.n()).done;){var n=a.value;if(n.round1.includes(e.speakerID)||n.round2.includes(e.speakerID)||n.round3.includes(e.speakerID))return void window.alert("This speaker is still part of team ".concat(n.name,". You need to remove them from the team before you can delete them."))}}catch(l){t.e(l)}finally{t.f()}if(window.confirm("Are you sure you want to delete speaker ".concat(e.name,"?"))){var r=Object(s.a)(this.props.speakers),o=r.findIndex((function(a){return a.speakerID===e.speakerID}));r.splice(o,1),this.props.updateSpeakers(r)}}},{key:"render",value:function(){var e,a=this;return e=0===this.props.speakers.length?r.a.createElement("p",{className:"none-yet"},"No speakers yet!"):r.a.createElement(V.a,{className:"speaker-table",hover:!0,bordered:!0},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Name"),r.a.createElement("th",null,"School"),r.a.createElement("th",null,r.a.createElement(B.a,{placement:"top",overlay:r.a.createElement(_.a,{id:"tooltip-disqualify-info"},"Disqualified speakers can still be added to teams and receive scores, but won't be listed in the ranking")},r.a.createElement("abbr",{title:""},"Disq"))),r.a.createElement("th",{className:"table-delete"},r.a.createElement(J.q,{className:"icon"})))),r.a.createElement("tbody",null,this.props.speakers.map((function(e){return r.a.createElement(H,{key:"speaker-row-".concat(e.speakerID),speaker:e,updateSpeaker:a.updateSpeaker,deleteSpeaker:a.deleteSpeaker})})))),r.a.createElement("div",null,r.a.createElement("h2",null,"Speakers"),r.a.createElement(T.a,null,r.a.createElement(O.a,null,r.a.createElement(S.a,{onSubmit:this.handleAddSpeakerFormSubmit},r.a.createElement(S.a.Row,null,r.a.createElement(O.a,{md:4},r.a.createElement(S.a.Label,{srOnly:!0},"Speaker name"),r.a.createElement(S.a.Control,{name:"speakerName",type:"text",placeholder:"Name",value:this.state.addSpeakerForm.speakerName,onChange:this.handleAddSpeakerFormChange})),r.a.createElement(O.a,{md:4},r.a.createElement(S.a.Label,{srOnly:!0},"Speaker school"),r.a.createElement(S.a.Control,{name:"school",type:"text",placeholder:"School",value:this.state.addSpeakerForm.school,onChange:this.handleAddSpeakerFormChange})),r.a.createElement(O.a,null,r.a.createElement(I.a,{variant:"primary",className:"btn-submit",type:"submit"},"Add speaker")))))),r.a.createElement(T.a,null,r.a.createElement(O.a,{lg:10,xl:8,className:"table-col"},e)))}}]),t}(r.a.PureComponent),G=(t(93),function(e){Object(d.a)(t,e);var a=Object(p.a)(t);function t(e){var n,r;return Object(c.a)(this,t),r=1===(n=a.call(this,e)).props.round?"round1":2===n.props.round?"round2":"round3",n.state={value:n.props.team[r][n.props.speakerPos]},n.handleFormChange=n.handleFormChange.bind(Object(u.a)(n)),n}return Object(m.a)(t,[{key:"handleFormChange",value:function(e){var a=parseInt(e.target.value);this.setState({value:a}),this.props.handleUpdateTeamFormChange(a,this.props.speakerPos,this.props.round)}},{key:"render",value:function(){return r.a.createElement(O.a,null,r.a.createElement(S.a.Group,{controlId:"form-update-team-".concat(this.props.team.teamID,"-speaker-").concat(this.props.speakerPos,"-round-").concat(this.props.round)},r.a.createElement(S.a.Label,null,"Round ",this.props.round),r.a.createElement(S.a.Control,{as:"select",name:"speaker-".concat(this.props.speakerPos,"-round-").concat(this.props.round),value:this.state.value,onChange:this.handleFormChange},2===this.props.speakerPos?r.a.createElement("option",{value:-1},"[averaged third speaker]"):"",this.props.children)))}}]),t}(r.a.PureComponent)),Y=function(e){Object(d.a)(t,e);var a=Object(p.a)(t);function t(e){var n;return Object(c.a)(this,t),(n=a.call(this,e)).state={win:n.props.team.wins[n.props.round-1]},n.handleWinFormUpdate=n.handleWinFormUpdate.bind(Object(u.a)(n)),n}return Object(m.a)(t,[{key:"handleWinFormUpdate",value:function(e){var a=Object(v.a)({},this.props.team);"true"===e.target.value?(a.wins[this.props.round-1]=!0,a.totalWins+=1,this.setState({win:!0})):(a.wins[this.props.round-1]=!1,a.totalWins-=1,this.setState({win:!1})),this.props.updateTeam(a)}},{key:"render",value:function(){return r.a.createElement(S.a,null,r.a.createElement(S.a.Label,{srOnly:!0},"Win or loss round ",this.props.round),r.a.createElement(S.a.Control,{as:"select",name:"win-form-".concat(this.props.team.teamID,"-round-").concat(this.props.round),value:this.state.win.toString(),onChange:this.handleWinFormUpdate},r.a.createElement("option",{value:"true"},"Win"),r.a.createElement("option",{value:"false"},"Loss")))}}]),t}(r.a.PureComponent),z=t(24),$=function(e){Object(d.a)(t,e);var a=Object(p.a)(t);function t(){return Object(c.a)(this,t),a.apply(this,arguments)}return Object(m.a)(t,[{key:"render",value:function(){return r.a.createElement(B.a,{placement:"top",overlay:r.a.createElement(z.a,{className:"popover-explainer",id:"tooltip-totalspeakerpoints"},r.a.createElement(z.a.Content,null,'There are two ways to handle two-person teams. When choosing "averaged third speaker", the points and ranks for both speakers will be averaged. If instead you want the speeches of one team member to count double, create a new "ghost" speaker in the Speakers tab, disqualify them, and add them here.'))},r.a.createElement(J.k,{tabIndex:0,className:"icon-info"}))}}]),t}(r.a.Component),Q=function(e){var a=e.speakers;return r.a.createElement(r.a.Fragment,null,a.map((function(e){return r.a.createElement("option",{value:e.speakerID,key:"option-".concat(e.speakerID)},e.name)})))};function X(e){for(var a=[],t=0;t<3;t++)a.push(e.round1[t]),a.push(e.round2[t]),a.push(e.round3[t]);return Object(s.a)(new Set(a))}var Z=function(e){Object(d.a)(t,e);var a=Object(p.a)(t);function t(e){var n;return Object(c.a)(this,t),(n=a.call(this,e)).state={speakers:X(n.props.team),updateTeamForm:[[n.props.team.round1[0],n.props.team.round2[0],n.props.team.round3[0]],[n.props.team.round1[1],n.props.team.round2[1],n.props.team.round3[1]],[n.props.team.round1[2],n.props.team.round2[2],n.props.team.round3[2]]],showModal:!1,showWarning:!1},n.handleTeamUpdate=n.handleTeamUpdate.bind(Object(u.a)(n)),n.modalShow=n.modalShow.bind(Object(u.a)(n)),n.modalHide=n.modalHide.bind(Object(u.a)(n)),n.handleUpdateTeamFormChange=n.handleUpdateTeamFormChange.bind(Object(u.a)(n)),n.handleTeamMembersUpdate=n.handleTeamMembersUpdate.bind(Object(u.a)(n)),n}return Object(m.a)(t,[{key:"handleTeamUpdate",value:function(e,a,t){a&&!isNaN(Number(a))||(a="0");var n=Number(a),r=Object(s.a)(this.props.speakers);"score"===e?r.find((function(e){return e.speakerID===t[0].speakerID})).scores[t[1]]=n:"rank"===e&&(r.find((function(e){return e.speakerID===t[0].speakerID})).ranks[t[1]]=n),this.props.updateSpeakers(r)}},{key:"modalShow",value:function(){this.setState({showModal:!0})}},{key:"modalHide",value:function(){this.setState({showModal:!1})}},{key:"handleUpdateTeamFormChange",value:function(e,a,t){var n=this.state.updateTeamForm;n[a][t-1]=e,this.setState({updateTeamForm:n})}},{key:"handleTeamMembersUpdate",value:function(e){e.preventDefault();var a=Object(s.a)(this.state.updateTeamForm);if(a[0][0]===a[1][0]||a[0][0]===a[2][0]||a[1][0]===a[2][0]||a[0][1]===a[1][1]||a[0][1]===a[2][1]||a[1][1]===a[2][1]||a[0][2]===a[1][2]||a[0][2]===a[2][2]||a[1][2]===a[2][2])return this.setState({showWarning:!0}),!1;var t=Object(v.a)({},this.props.team);t.round1=[a[0][0],a[1][0],a[2][0]],t.round2=[a[0][1],a[1][1],a[2][1]],t.round3=[a[0][2],a[1][2],a[2][2]],this.props.updateTeam(t),this.setState({speakers:X(this.props.team)}),this.setState({showWarning:!1}),this.modalHide()}},{key:"render",value:function(){var e=this,a=this.props.team,t=this.state.speakers.map((function(a){return-1===a?null:e.props.speakers.find((function(e){return e.speakerID===a}))}));if(t.includes(null)){var n=t.indexOf(null);t[n]={speakerID:-1,name:"[averaged third speaker]",school:"",scores:[(t[0].scores[0]+t[1].scores[0])/2,(t[0].scores[1]+t[1].scores[1])/2,(t[0].scores[2]+t[1].scores[2])/2],ranks:[(t[0].ranks[0]+t[1].ranks[0])/2,(t[0].ranks[1]+t[1].ranks[1])/2,(t[0].ranks[2]+t[1].ranks[2])/2],wins:0,disqualified:!0}}var o=t.map((function(t){if(-1===(t=t).speakerID)return r.a.createElement("tr",{key:"".concat(a.teamID,"-average-third")});var n=e.props.team.round1.includes(t.speakerID),o=e.props.team.round2.includes(t.speakerID),l=e.props.team.round3.includes(t.speakerID),s=0;n&&(s+=t.scores[0]),o&&(s+=t.scores[1]),l&&(s+=t.scores[2]);var i=0;return n&&(i+=t.ranks[0]),o&&(i+=t.ranks[1]),l&&(i+=t.ranks[2]),r.a.createElement("tr",{key:"".concat(t.name,"-").concat(e.props.div,"-row")},r.a.createElement("td",null,t.name),[n,o,l].map((function(a,n){return r.a.createElement(r.a.Fragment,{key:"cells-score-n-rank-".concat(t.speakerID,"-").concat(n)},r.a.createElement("td",{className:a?"editable":"disabled"},r.a.createElement(M,{name:"score",init:t.scores[n].toString(),cols:2,maxLength:2,placeholder:"#",fn:e.handleTeamUpdate,baggage:[t,n]})),r.a.createElement("td",{className:a?"editable":"disabled"},r.a.createElement(M,{name:"rank",init:t.ranks[n].toString(),cols:1,maxLength:1,placeholder:"#",fn:e.handleTeamUpdate,baggage:[t,n]})))})),r.a.createElement("td",null,s),r.a.createElement("td",null,i))})),l=0;t.forEach((function(a){e.props.team.round1.includes(a.speakerID)&&(l+=a.scores[0])}));var s=0;t.forEach((function(a){e.props.team.round2.includes(a.speakerID)&&(s+=a.scores[1])}));var i=0;t.forEach((function(a){e.props.team.round3.includes(a.speakerID)&&(i+=a.scores[2])}));var c=0;t.forEach((function(a){e.props.team.round1.includes(a.speakerID)&&(c+=a.ranks[0])}));var m=0;t.forEach((function(a){e.props.team.round2.includes(a.speakerID)&&(m+=a.ranks[1])}));var u=0;t.forEach((function(a){e.props.team.round3.includes(a.speakerID)&&(u+=a.ranks[2])})),a.totalPoints=l+s+i;var d=this.props.teams,p=d.findIndex((function(e){return e.teamID===a.teamID}));d[p]=a,1===this.props.div?localStorage.setItem("teamsOne",JSON.stringify(d)):localStorage.setItem("teamsTwo",JSON.stringify(d));var h=[0,1,2].map((function(t){return r.a.createElement("div",{key:"teamSpeakerSelectRow-team-".concat(a.teamID,"-speaker-").concat(t),className:"form-update-team-speaker"},r.a.createElement("p",null,"Speaker ",t+1),2===t?r.a.createElement($,null):"",r.a.createElement(S.a.Row,null,[1,2,3].map((function(n){return r.a.createElement(G,{key:"teamSpeakerSelect-team-".concat(a.teamID,"-speaker-").concat(n,"-round-").concat(n),team:a,speakerPos:t,round:n,value:e.state.updateTeamForm,handleUpdateTeamFormChange:e.handleUpdateTeamFormChange},r.a.createElement(Q,{speakers:e.props.speakers}))}))))}));return r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("td",{rowSpan:this.state.speakers.length+3,className:"cell-teamname"},r.a.createElement(M,{name:"name",init:a.name,fn:this.handleTeamUpdate}),r.a.createElement("br",null),r.a.createElement("button",{className:"icon-wrapper btn-none",title:"Change team members of ".concat(a.name),onClick:this.modalShow},r.a.createElement(J.m,{className:"icon people"})),r.a.createElement("button",{className:"icon-wrapper btn-none",title:"Remove ".concat(a.name),onClick:function(){return e.props.deleteTeam(a)}},r.a.createElement(J.p,{className:"icon trash"})))),o,r.a.createElement("tr",{className:"row-total"},r.a.createElement("td",null,"Team total"),r.a.createElement("td",null,l),r.a.createElement("td",null,c),r.a.createElement("td",null,s),r.a.createElement("td",null,m),r.a.createElement("td",null,i),r.a.createElement("td",null,u),r.a.createElement("td",null,l+s+i),r.a.createElement("td",null,c+m+u)),r.a.createElement("tr",{className:"row-wins"},r.a.createElement("td",null,"Team wins"),r.a.createElement("td",{colSpan:2},r.a.createElement(Y,{team:this.props.team,round:1,updateTeam:this.props.updateTeam})),r.a.createElement("td",{colSpan:2},r.a.createElement(Y,{team:this.props.team,round:2,updateTeam:this.props.updateTeam})),r.a.createElement("td",{colSpan:2},r.a.createElement(Y,{team:this.props.team,round:3,updateTeam:this.props.updateTeam})),r.a.createElement("td",{colSpan:2,className:"cell-totalwins"},"Total wins: ",a.totalWins)),r.a.createElement(k.a,{show:this.state.showModal,size:"lg",onHide:this.modalHide},r.a.createElement(k.a.Header,{closeButton:!0},r.a.createElement(k.a.Title,null,"Specify team members per round")),r.a.createElement(k.a.Body,null,r.a.createElement(S.a,{onSubmit:this.handleTeamMembersUpdate},h,r.a.createElement("p",{className:"red ".concat(this.state.showWarning?"":"hidden")},"You can't add a speaker to the same round more than once."),r.a.createElement(I.a,{variant:"primary",className:"btn-submit",type:"submit"},"Save")))))}}]),t}(r.a.PureComponent),ee=function(e){Object(d.a)(t,e);var a=Object(p.a)(t);function t(){return Object(c.a)(this,t),a.apply(this,arguments)}return Object(m.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement(V.a,{hover:!0,className:"team-table table-no-top-margin"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Team"),r.a.createElement("th",null,"Speakers"),r.a.createElement("th",null,"R1 Score"),r.a.createElement("th",null,"R1 Rank"),r.a.createElement("th",null,"R2 Score"),r.a.createElement("th",null,"R2 Rank"),r.a.createElement("th",null,"R3 Score"),r.a.createElement("th",null,"R3 Rank"),r.a.createElement("th",null,"Total Score"),r.a.createElement("th",null,"Total Rank"))),this.props.teams.map((function(a){return r.a.createElement(Z,{key:"".concat(a.name,"-row"),team:a,div:e.props.div,speakers:e.props.speakers,teams:e.props.teams,updateSpeakers:e.props.updateSpeakers,updateTeam:e.props.updateTeam,deleteTeam:e.props.deleteTeam})})))}}]),t}(r.a.PureComponent),ae=function(e){Object(d.a)(t,e);var a=Object(p.a)(t);function t(e){var n;return Object(c.a)(this,t),(n=a.call(this,e)).state={addTeamForm:{teamName:"",speaker1:"",speaker2:"",speaker3:""},addTeamFormValidated:!1,showModal:!1,showWarning:!1},n.modalShow=n.modalShow.bind(Object(u.a)(n)),n.modalHide=n.modalHide.bind(Object(u.a)(n)),n.handleAddTeamFormChange=n.handleAddTeamFormChange.bind(Object(u.a)(n)),n.handleAddTeamFormSubmit=n.handleAddTeamFormSubmit.bind(Object(u.a)(n)),n.updateTeam=n.updateTeam.bind(Object(u.a)(n)),n.deleteTeam=n.deleteTeam.bind(Object(u.a)(n)),n}return Object(m.a)(t,[{key:"modalShow",value:function(){this.setState({showModal:!0})}},{key:"modalHide",value:function(){this.setState({showModal:!1})}},{key:"handleAddTeamFormChange",value:function(e){var a=e.target.name,t=e.target.value;"teamName"!==a&&(t=Number(t));var n=Object(v.a)({},this.state.addTeamForm);n[a]=t,this.setState({addTeamForm:n})}},{key:"handleAddTeamFormSubmit",value:function(e){if(e.preventDefault(),!1===e.currentTarget.checkValidity())return e.stopPropagation(),this.setState({addTeamFormValidated:!0}),!1;var a=Object(v.a)({},this.state.addTeamForm);if(a.speaker1===a.speaker2||a.speaker1===a.speaker3||a.speaker2===a.speaker3)return this.setState({showWarning:!0}),!1;var t=JSON.parse(localStorage.getItem("teamCounter")),n=[a.speaker1,a.speaker2,a.speaker3],r={teamID:t++,name:a.teamName,round1:n,round2:n,round3:n,totalPoints:0,wins:[!1,!1,!1],totalWins:0},o=[].concat(Object(s.a)(this.props.teams),[r]);localStorage.setItem("teamCounter",JSON.stringify(t)),this.props.updateTeams(o),this.setState({addTeamForm:{teamName:"",speaker1:"",speaker2:"",speaker3:""}}),this.setState({showWarning:!1}),this.setState({addTeamFormValidated:!1}),this.modalHide()}},{key:"updateTeam",value:function(e){var a=Object(s.a)(this.props.teams),t=a.findIndex((function(a){return a.teamID===e.teamID}));a[t]=e,this.props.updateTeams(a)}},{key:"deleteTeam",value:function(e){var a=JSON.parse(localStorage.getItem("draws"));for(var t in a){var n=void 0;n=1===this.props.div?a[t].roomsOne:a[t].roomsTwo;var r,o=Object(U.a)(n);try{for(o.s();!(r=o.n()).done;){var l=r.value;if(l.prop===e.teamID||l.opp===e.teamID)return void alert("This team has already started the tournament. You can't delete it anymore. You can still replace its speakers.")}}catch(c){o.e(c)}finally{o.f()}}if(window.confirm("Are you sure you want to delete team ".concat(e.name,"?"))){var i=Object(s.a)(this.props.teams).filter((function(a){return a.teamID!==e.teamID}));this.props.updateTeams(i)}}},{key:"render",value:function(){var e,a=!1;return 0===this.props.teams.length&&(a=!0),e=a?r.a.createElement("p",{className:"none-yet"},"No teams yet!"):r.a.createElement(ee,{div:this.props.div,speakers:this.props.speakers,teams:this.props.teams,updateSpeakers:this.props.updateSpeakers,updateTeam:this.updateTeam,deleteTeam:this.deleteTeam}),r.a.createElement("div",null,r.a.createElement("h2",null,"Teams",r.a.createElement(I.a,{onClick:this.modalShow},"Add team"),r.a.createElement("div",{className:"hint-add-team ".concat(a?"":"hidden")},r.a.createElement("span",null,">"),r.a.createElement("span",null,">"),r.a.createElement("span",null,">"))),e,r.a.createElement(k.a,{show:this.state.showModal,onHide:this.modalHide},r.a.createElement(k.a.Header,{closeButton:!0},r.a.createElement(k.a.Title,null,"Add a team")),r.a.createElement(k.a.Body,null,r.a.createElement(S.a,{noValidate:!0,validated:this.state.addTeamFormValidated,onSubmit:this.handleAddTeamFormSubmit},r.a.createElement(S.a.Group,{controlId:"form-add-team-".concat(this.props.div,"-name")},r.a.createElement(S.a.Label,null,"Team name"),r.a.createElement(S.a.Control,{type:"text",name:"teamName",required:!0,value:this.state.addTeamForm.teamName,onChange:this.handleAddTeamFormChange}),r.a.createElement(S.a.Control.Feedback,{type:"invalid"},"Please give the team a name.")),r.a.createElement(S.a.Group,{controlId:"form-add-team-".concat(this.props.div,"-speaker-1")},r.a.createElement(S.a.Label,null,"Speaker 1"),r.a.createElement(S.a.Control,{as:"select",name:"speaker1",required:!0,value:this.state.addTeamForm.speaker1,onChange:this.handleAddTeamFormChange},r.a.createElement("option",{value:"",disabled:!0,hidden:!0},"-- pick a speaker --"),r.a.createElement(Q,{speakers:this.props.speakers})),r.a.createElement(S.a.Control.Feedback,{type:"invalid"},"Please choose a speaker from the list.")),r.a.createElement(S.a.Group,{controlId:"form-add-team-".concat(this.props.div,"-speaker-2")},r.a.createElement(S.a.Label,null,"Speaker 2"),r.a.createElement(S.a.Control,{as:"select",name:"speaker2",required:!0,value:this.state.addTeamForm.speaker2,onChange:this.handleAddTeamFormChange},r.a.createElement("option",{value:"",disabled:!0,hidden:!0},"-- pick a speaker --"),r.a.createElement(Q,{speakers:this.props.speakers})),r.a.createElement(S.a.Control.Feedback,{type:"invalid"},"Please choose a speaker from the list.")),r.a.createElement(S.a.Group,{controlId:"form-add-team-".concat(this.props.div,"-speaker-3")},r.a.createElement(S.a.Label,null,"Speaker 3"),r.a.createElement($,null),r.a.createElement(S.a.Control,{as:"select",name:"speaker3",required:!0,value:this.state.addTeamForm.speaker3,onChange:this.handleAddTeamFormChange},r.a.createElement("option",{value:"",disabled:!0,hidden:!0},"-- pick a speaker --"),r.a.createElement("option",{value:"avg"},"[averaged third speaker]"),r.a.createElement(Q,{speakers:this.props.speakers})),r.a.createElement(S.a.Control.Feedback,{type:"invalid"},"Please choose a speaker from the list, or select [averaged third speaker] for a two-person team.")),r.a.createElement("p",{className:"red ".concat(this.state.showWarning?"":"hidden")},"You can't add a speaker to a team more than once."),r.a.createElement(I.a,{variant:"primary",className:"btn-submit",type:"submit"},"Add")))))}}]),t}(r.a.PureComponent),te=function(e){Object(d.a)(t,e);var a=Object(p.a)(t);function t(){return Object(c.a)(this,t),a.apply(this,arguments)}return Object(m.a)(t,[{key:"render",value:function(){var e=this.props.speakers,a=this.props.teams,t=e.slice(0).filter((function(e){return!1===e.disqualified})).sort((function(e,t){var n=e.scores.reduce((function(e,a){return e+a}),0),r=t.scores.reduce((function(e,a){return e+a}),0);if(n>r)return-1;if(n<r)return 1;var o=e.ranks.reduce((function(e,a){return e+a}),0),l=t.ranks.reduce((function(e,a){return e+a}),0);if(o<l)return-1;if(o>l)return 1;var s=a.find((function(a){return a.round1.includes(e.speakerID)})),i=a.find((function(e){return e.round1.includes(t.speakerID)})),c=void 0===s?0:s.totalWins,m=void 0===i?0:i.totalWins;if(c>m)return-1;if(c<m)return 1;var u=void 0===s?0:s.totalPoints,d=void 0===i?0:i.totalPoints;return u>d?-1:1})).map((function(e,t){var n=a.find((function(a){return a.round1.includes(e.speakerID)}));return void 0===n&&(n={teamID:-1,name:"",round1:[],round2:[],round3:[],totalPoints:0,wins:[],totalWins:0}),r.a.createElement("tr",{key:"speaker-rank-".concat(t+1)},r.a.createElement("td",null,t+1),r.a.createElement("td",null,e.name),r.a.createElement("td",null,e.school),r.a.createElement("td",null,e.scores.reduce((function(e,a){return e+a}),0)),r.a.createElement("td",null,e.ranks.reduce((function(e,a){return e+a}),0)),r.a.createElement("td",null,n.totalWins),r.a.createElement("td",null,n.totalPoints))})),n=a.slice(0).sort((function(e,a){var t=e.totalWins,n=a.totalWins;if(t>n)return-1;if(t<n)return 1;var r=e.totalPoints,o=a.totalPoints;return r>o?-1:1})).map((function(a,t){var n,o=X(a),l=[],s=Object(U.a)(o);try{var i=function(){var a=n.value,t=e.find((function(e){return e.speakerID===a}));return void 0===t||!0===t.disqualified?"continue":void l.push(t.name)};for(s.s();!(n=s.n()).done;)i()}catch(m){s.e(m)}finally{s.f()}var c=l.map((function(e,a){return a<l.length-1?r.a.createElement(r.a.Fragment,{key:"speaker-".concat(a)},e,",\xa0"):r.a.createElement(r.a.Fragment,{key:"speaker-".concat(a)},e)}));return r.a.createElement("tr",{key:"team-rank-".concat(t+1)},r.a.createElement("td",null,t+1),r.a.createElement("td",null,r.a.createElement(B.a,{placement:"top",overlay:r.a.createElement(_.a,{id:"tooltip-rank-teamName-".concat(t+1)},c)},r.a.createElement("abbr",{title:"",tabIndex:0},a.name))),r.a.createElement("td",null,a.totalWins),r.a.createElement("td",null,a.totalPoints))}));return r.a.createElement("div",null,r.a.createElement("h2",null,"Ranking"),r.a.createElement(T.a,null,r.a.createElement(O.a,{lg:7,className:"table-col"},r.a.createElement("h3",null,"Speakers"),r.a.createElement(V.a,{striped:!0,className:"speaker-ranking-table table-no-top-margin table-less-bottom-margin-sm"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"#"),r.a.createElement("th",null,"Name"),r.a.createElement("th",null,"School"),r.a.createElement("th",null,r.a.createElement(B.a,{placement:"top",overlay:r.a.createElement(_.a,{id:"tooltip-totalspeakerpoints"},"Total speaker points")},r.a.createElement("abbr",{title:"",tabIndex:0},"\u03a3SP"))),r.a.createElement("th",null,r.a.createElement(B.a,{placement:"top",overlay:r.a.createElement(_.a,{id:"tooltip-totalspeakerranks"},"Total speaker ranks",r.a.createElement("br",null),"(lower is better)")},r.a.createElement("abbr",{title:"",tabIndex:0},"\u03a3SR"))),r.a.createElement("th",null,r.a.createElement(B.a,{placement:"top",overlay:r.a.createElement(_.a,{id:"tooltip-totalteamwins"},"Total team wins")},r.a.createElement("abbr",{title:"",tabIndex:0},"\u03a3TW"))),r.a.createElement("th",null,r.a.createElement(B.a,{placement:"top",overlay:r.a.createElement(_.a,{id:"tooltip-totalteampoints"},"Total team points")},r.a.createElement("abbr",{title:"",tabIndex:0},"\u03a3TP"))))),r.a.createElement("tbody",null,t))),r.a.createElement(O.a,{lg:5,className:"table-col table-col-margin-lg"},r.a.createElement("h3",null,"Teams"),r.a.createElement(V.a,{striped:!0,className:"table-no-top-margin"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"#"),r.a.createElement("th",null,"Name"),r.a.createElement("th",null,r.a.createElement(B.a,{placement:"top",overlay:r.a.createElement(_.a,{id:"tooltip-totalteamwins"},"Total team wins")},r.a.createElement("abbr",{title:"",tabIndex:0},"\u03a3TW"))),r.a.createElement("th",null,r.a.createElement(B.a,{placement:"top",overlay:r.a.createElement(_.a,{id:"tooltip-totalteampoints"},"Total team points")},r.a.createElement("abbr",{title:"",tabIndex:0},"\u03a3TP"))))),r.a.createElement("tbody",null,n)))))}}]),t}(r.a.PureComponent),ne=function(e){Object(d.a)(t,e);var a=Object(p.a)(t);function t(){return Object(c.a)(this,t),a.apply(this,arguments)}return Object(m.a)(t,[{key:"render",value:function(){return r.a.createElement(y.a.Container,{id:"part-view-".concat(this.props.div),defaultActiveKey:"speakers",transition:!1},r.a.createElement(T.a,null,r.a.createElement(O.a,{md:3,lg:2},r.a.createElement(W.a,{variant:"pills",className:"sub-nav"},r.a.createElement(W.a.Item,null,r.a.createElement(W.a.Link,{eventKey:"speakers",className:"sub-nav-link"},r.a.createElement(J.o,{className:"btn-icon"}),"Speakers")),r.a.createElement(W.a.Item,null,r.a.createElement(W.a.Link,{eventKey:"teams",className:"sub-nav-link"},r.a.createElement(J.n,{className:"btn-icon"}),"Teams")),r.a.createElement(W.a.Item,null,r.a.createElement(W.a.Link,{eventKey:"ranking",className:"sub-nav-link"},r.a.createElement(J.r,{className:"btn-icon"}),"Ranking")))),r.a.createElement(O.a,{md:9,lg:10},r.a.createElement(y.a.Content,null,r.a.createElement(y.a.Pane,{eventKey:"speakers"},r.a.createElement(q,{speakers:this.props.speakers,teams:this.props.teams,updateSpeakers:this.props.updateSpeakers})),r.a.createElement(y.a.Pane,{eventKey:"teams"},r.a.createElement(ae,{div:this.props.div,speakers:this.props.speakers,teams:this.props.teams,updateSpeakers:this.props.updateSpeakers,updateTeams:this.props.updateTeams})),r.a.createElement(y.a.Pane,{eventKey:"ranking"},r.a.createElement(te,{speakers:this.props.speakers,teams:this.props.teams}))))))}}]),t}(r.a.PureComponent),re=(t(94),function(e){Object(d.a)(t,e);var a=Object(p.a)(t);function t(e){var n;return Object(c.a)(this,t),(n=a.call(this,e)).handleJudgeUpdate=n.handleJudgeUpdate.bind(Object(u.a)(n)),n}return Object(m.a)(t,[{key:"handleJudgeUpdate",value:function(e,a){var t=Object(v.a)(Object(v.a)({},this.props.judge),{},Object(i.a)({},e,a));this.props.updateJudge(t)}},{key:"render",value:function(){var e=this,a=this.props.judge;return r.a.createElement("tr",null,r.a.createElement("td",{className:"judge-table-name editable"},r.a.createElement(M,{name:"name",init:a.name,fn:this.handleJudgeUpdate})),r.a.createElement("td",{className:"judge-table-school editable"},r.a.createElement(M,{name:"school",init:a.school,fn:this.handleJudgeUpdate})),r.a.createElement("td",{className:"judge-table-toggle cell-low-padding"},r.a.createElement(K,{id:a.judgeID,name:"canChair",init:a.canChair,fn:this.handleJudgeUpdate})),r.a.createElement("td",{className:"judge-table-toggle cell-low-padding"},r.a.createElement(K,{id:a.judgeID,name:"atRound1",init:a.atRound1,fn:this.handleJudgeUpdate})),r.a.createElement("td",{className:"judge-table-toggle cell-low-padding"},r.a.createElement(K,{id:a.judgeID,name:"atRound2",init:a.atRound2,fn:this.handleJudgeUpdate})),r.a.createElement("td",{className:"judge-table-toggle cell-low-padding"},r.a.createElement(K,{id:a.judgeID,name:"atRound3",init:a.atRound3,fn:this.handleJudgeUpdate})),r.a.createElement("td",{className:"table-delete"},r.a.createElement("button",{className:"btn-none",title:"Remove ".concat(a.name),onClick:function(){return e.props.deleteJudge(a)}},r.a.createElement(J.p,{className:"icon trash"}))))}}]),t}(r.a.PureComponent)),oe=function(e){Object(d.a)(t,e);var a=Object(p.a)(t);function t(e){var n;return Object(c.a)(this,t),(n=a.call(this,e)).state={addJudgeForm:{judgeName:"",school:""}},n.handleAddJudgeFormChange=n.handleAddJudgeFormChange.bind(Object(u.a)(n)),n.handleAddJudgeFormSubmit=n.handleAddJudgeFormSubmit.bind(Object(u.a)(n)),n.updateJudge=n.updateJudge.bind(Object(u.a)(n)),n.deleteJudge=n.deleteJudge.bind(Object(u.a)(n)),n}return Object(m.a)(t,[{key:"handleAddJudgeFormChange",value:function(e){var a=e.target,t=a.name,n=a.value,r=Object(v.a)({},this.state.addJudgeForm);r[t]=n,this.setState({addJudgeForm:r})}},{key:"handleAddJudgeFormSubmit",value:function(e){e.preventDefault();var a=JSON.parse(localStorage.getItem("judgeCounter")),t={judgeID:a++,name:this.state.addJudgeForm.judgeName,school:this.state.addJudgeForm.school,canChair:!1,atRound1:!0,atRound2:!0,atRound3:!0},n=[].concat(Object(s.a)(this.props.judges),[t]);this.props.updateJudges(n),localStorage.setItem("judgeCounter",JSON.stringify(a));var r=Object(v.a)({},this.state.addJudgeForm);r.name="",this.setState({addJudgeForm:r})}},{key:"updateJudge",value:function(e){var a=Object(s.a)(this.props.judges),t=a.findIndex((function(a){return a.judgeID===e.judgeID}));a[t]=e,this.props.updateJudges(a)}},{key:"deleteJudge",value:function(e){var a,t=JSON.parse(localStorage.getItem("draws")),n=!1,r=Object(U.a)(t);try{for(r.s();!(a=r.n()).done;){var o,l=a.value,i=Object(U.a)(l.roomsOne);try{for(i.s();!(o=i.n()).done;){var c=o.value;(c.chair===e.judgeID||c.wings.includes(e.judgeID))&&(n=!0)}}catch(g){i.e(g)}finally{i.f()}var m,u=Object(U.a)(l.roomsTwo);try{for(u.s();!(m=u.n()).done;){var d=m.value;(d.chair===e.judgeID||d.wings.includes(e.judgeID))&&(n=!0)}}catch(g){u.e(g)}finally{u.f()}}}catch(g){r.e(g)}finally{r.f()}if(n)return alert("This judge has already taken part in a round. You can't delete them anymore. You can still change their availability for each round."),!1;if(window.confirm("Are you sure you want to delete judge ".concat(e.name,"?"))){var p=Object(s.a)(this.props.judges),h=p.findIndex((function(a){return a.judgeID===e.judgeID}));p.splice(h,1),this.props.updateJudges(p)}}},{key:"render",value:function(){var e,a=this,t=this.props.judges;0!==this.props.judges.length&&(e=r.a.createElement(V.a,{className:"judge-table table-no-top-margin",hover:!0,bordered:!0},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{className:"judge-table-name"},"Name"),r.a.createElement("th",null,"School"),r.a.createElement("th",{className:"judge-table-toggle"},"Chair?"),r.a.createElement("th",{className:"judge-table-toggle"},"Round 1?"),r.a.createElement("th",{className:"judge-table-toggle"},"Round 2?"),r.a.createElement("th",{className:"judge-table-toggle"},"Round 3?"),r.a.createElement("th",{className:"table-delete"},r.a.createElement(J.q,{className:"icon"})))),r.a.createElement("tbody",null,this.props.judges.map((function(e){return r.a.createElement(re,{key:"judge-row-".concat(e.name),judge:e,updateJudge:a.updateJudge,deleteJudge:a.deleteJudge})})))));var n=Math.round(this.props.getTotalTeams()/2),o=t.filter((function(e){return e.canChair&&e.atRound1})).length,l=t.filter((function(e){return e.canChair&&e.atRound2})).length,s=t.filter((function(e){return e.canChair&&e.atRound3})).length;return r.a.createElement(y.a.Container,{id:"judges-view",defaultActiveKey:"judges",transition:!1},r.a.createElement(T.a,null,r.a.createElement(O.a,{md:3,lg:2},r.a.createElement(W.a,{variant:"pills",className:"sub-nav no-show-sm"},r.a.createElement(W.a.Item,null,r.a.createElement(W.a.Link,{eventKey:"judges",className:"sub-nav-link"},r.a.createElement(J.c,{className:"btn-icon"}),"Judges")))),r.a.createElement(O.a,{md:9,lg:10},r.a.createElement(y.a.Content,null,r.a.createElement(y.a.Pane,{eventKey:"judges"},r.a.createElement("h2",null,"Judges"),r.a.createElement(T.a,null,r.a.createElement(O.a,null,r.a.createElement(S.a,{onSubmit:this.handleAddJudgeFormSubmit},r.a.createElement(S.a.Row,null,r.a.createElement(O.a,{md:4},r.a.createElement(S.a.Label,{srOnly:!0},"Judge name"),r.a.createElement(S.a.Control,{name:"judgeName",type:"text",placeholder:"Name",value:this.state.addJudgeForm.judgeName,onChange:this.handleAddJudgeFormChange})),r.a.createElement(O.a,{md:4},r.a.createElement(S.a.Label,{srOnly:!0},"Judge school"),r.a.createElement(S.a.Control,{name:"school",type:"text",placeholder:"School",value:this.state.addJudgeForm.school,onChange:this.handleAddJudgeFormChange})),r.a.createElement(O.a,null,r.a.createElement(I.a,{variant:"primary",className:"btn-submit",type:"submit"},"Add judge")))),r.a.createElement("div",{id:"total-judges"},r.a.createElement("p",null,"Total judges each round: ",this.props.judges.filter((function(e){return e.atRound1})).length," \xb7 ",this.props.judges.filter((function(e){return e.atRound2})).length," \xb7 ",this.props.judges.filter((function(e){return e.atRound3})).length,r.a.createElement("br",null),"Total chairs each round: ",o," \xb7 ",l," \xb7 ",s,r.a.createElement("br",null),r.a.createElement("span",{className:n>o||n>l||n>s?"red":""},"Total chairs needed: ",n))))),r.a.createElement(T.a,null,r.a.createElement(O.a,{lg:10,xl:9,className:"table-col"},e)))))))}}]),t}(r.a.PureComponent),le=(t(95),t(73),function(e){Object(d.a)(t,e);var a=Object(p.a)(t);function t(e){var n;return Object(c.a)(this,t),(n=a.call(this,e)).state={swapTeamID:n.props.team.teamID},n.handleRoomFormChange=n.handleRoomFormChange.bind(Object(u.a)(n)),n.handleRoomFormSubmit=n.handleRoomFormSubmit.bind(Object(u.a)(n)),n.popFocus=n.popFocus.bind(Object(u.a)(n)),n.returnFocus=n.returnFocus.bind(Object(u.a)(n)),n}return Object(m.a)(t,[{key:"handleRoomFormChange",value:function(e){this.setState({swapTeamID:parseInt(e.target.value)})}},{key:"handleRoomFormSubmit",value:function(e){e.preventDefault(),this.props.updateRoom(this.props.team.teamID,this.state.swapTeamID),document.body.click()}},{key:"popFocus",value:function(){var e;null===(e=document.getElementById("team-check-".concat(this.props.team.teamID)))||void 0===e||e.focus()}},{key:"returnFocus",value:function(){var e;null===(e=document.getElementById("teampill-btn-".concat(this.props.team.teamID)))||void 0===e||e.focus()}},{key:"render",value:function(){var e=this,a=this.props.team,t=r.a.createElement(z.a,{id:"teampill-popover"},r.a.createElement(z.a.Title,{as:"h3"},"Switch teams"),r.a.createElement(z.a.Content,null,r.a.createElement(S.a,{onSubmit:this.handleRoomFormSubmit},r.a.createElement(S.a.Label,{srOnly:!0},"Team to swap with"),this.props.teams.map((function(a){return r.a.createElement(S.a.Check,{custom:!0,key:"team-check-".concat(a.teamID),id:"team-check-".concat(a.teamID),name:"room",type:"radio",label:a.name,value:a.teamID,checked:e.state.swapTeamID===a.teamID,onChange:e.handleRoomFormChange})})),r.a.createElement(I.a,{className:"btn-popover",variant:"primary",type:"submit"},"Change"))));return r.a.createElement(B.a,{trigger:"click",placement:"right",overlay:t,onEntered:this.popFocus,onExited:this.returnFocus,rootClose:!0},r.a.createElement("button",{id:"teampill-btn-".concat(a.teamID),className:"pill btn-none ".concat(this.props.hasConflict?"orange":"")},a.name))}}]),t}(r.a.PureComponent)),se=function(e){Object(d.a)(t,e);var a=Object(p.a)(t);function t(e){var n;return Object(c.a)(this,t),(n=a.call(this,e)).state={roomID:n.props.room.roomID},n.handleRoomFormChange=n.handleRoomFormChange.bind(Object(u.a)(n)),n.handleRoomFormSubmit=n.handleRoomFormSubmit.bind(Object(u.a)(n)),n.popFocus=n.popFocus.bind(Object(u.a)(n)),n.returnFocus=n.returnFocus.bind(Object(u.a)(n)),n}return Object(m.a)(t,[{key:"handleRoomFormChange",value:function(e){this.setState({roomID:parseInt(e.target.value)})}},{key:"handleRoomFormSubmit",value:function(e){e.preventDefault(),this.props.updateRoom(this.props.judge.judgeID,this.props.isChair,this.state.roomID),document.body.click()}},{key:"popFocus",value:function(){var e;null===(e=document.getElementById("room-check-".concat(this.props.room.roomID)))||void 0===e||e.focus()}},{key:"returnFocus",value:function(){var e;null===(e=document.getElementById("judgepill-btn-".concat(this.props.judge.judgeID)))||void 0===e||e.focus()}},{key:"render",value:function(){var e=this,a=this.props.judge,t=r.a.createElement(z.a,{id:"judgepill-popover"},r.a.createElement(z.a.Title,{as:"h3"},"Switch rooms"),r.a.createElement(z.a.Content,null,this.props.draw.roomsOne.map((function(e){return e.name})).includes("")||this.props.draw.roomsTwo.map((function(e){return e.name})).includes("")?r.a.createElement("p",null,"You need to assign each debate to a room before you can switch judges."):r.a.createElement(S.a,{onSubmit:this.handleRoomFormSubmit},r.a.createElement(S.a.Label,{srOnly:!0},"Room"),this.props.draw.roomsOne.map((function(a){return r.a.createElement(S.a.Check,{custom:!0,key:"room-check-".concat(a.roomID),id:"room-check-".concat(a.roomID),name:"room",type:"radio",label:a.name,value:a.roomID,checked:e.state.roomID===a.roomID,onChange:e.handleRoomFormChange})})),this.props.draw.roomsTwo.map((function(a){return r.a.createElement(S.a.Check,{custom:!0,key:"room-check-".concat(a.roomID),id:"room-check-".concat(a.roomID),name:"room",type:"radio",label:a.name,value:a.roomID,checked:e.state.roomID===a.roomID,onChange:e.handleRoomFormChange})})),r.a.createElement(I.a,{className:"btn-popover",variant:"primary",type:"submit"},"Change"))));return r.a.createElement(B.a,{trigger:"click",placement:"right",overlay:t,onEntered:this.popFocus,onExited:this.returnFocus,rootClose:!0},r.a.createElement("button",{id:"judgepill-btn-".concat(a.judgeID),className:"pill btn-none\n                        ".concat(this.props.hasConflict?"red":"","\n                        ").concat(this.props.hasChairedBefore?"orange":"")},a.name,this.props.isChair?"\xa9":""))}}]),t}(r.a.Component),ie=function(e){Object(d.a)(t,e);var a=Object(p.a)(t);function t(e){var n;return Object(c.a)(this,t),(n=a.call(this,e)).handleRoomUpdate=n.handleRoomUpdate.bind(Object(u.a)(n)),n.updateRoomTeam=n.updateRoomTeam.bind(Object(u.a)(n)),n.updateRoomJudge=n.updateRoomJudge.bind(Object(u.a)(n)),n}return Object(m.a)(t,[{key:"handleRoomUpdate",value:function(e,a){var t=Object(v.a)(Object(v.a)({},this.props.room),{},Object(i.a)({},e,a));this.props.updateRooms(t,this.props.div)}},{key:"updateRoomTeam",value:function(e,a){var t,n=this.props.div,r=this.props.round-1,o=this.props.draws[r],l=this.props.room;t=1===n?o.roomsOne:o.roomsTwo;var s,i="prop";l.opp===e&&(i="opp");var c,m=Object(U.a)(t);try{for(m.s();!(c=m.n()).done;){var u=c.value;if(u.prop===a){if("prop"===i){var d=[u.prop,l.prop];l.prop=d[0],u.prop=d[1]}else{var p=[u.prop,l.opp];l.opp=p[0],u.prop=p[1]}s=u;break}if(u.opp===a){if("prop"===i){var h=[u.opp,l.prop];l.prop=h[0],u.opp=h[1]}else{var g=[u.opp,l.opp];l.opp=g[0],u.opp=g[1]}s=u;break}}}catch(f){m.e(f)}finally{m.f()}this.props.updateRooms(s,n),this.props.updateRooms(l,n)}},{key:"updateRoomJudge",value:function(e,a,t){var n,r=this.props.round-1,o=Object(v.a)({},this.props.room),l=this.props.draws[r],i=l.roomsOne.map((function(e){return e.roomID})).includes(t)?1:2,c=(n=1===i?Object(s.a)(l.roomsOne):Object(s.a)(l.roomsTwo)).findIndex((function(e){return e.roomID===t}));if(a){var m=n[c].chair;if(m===e)return!1;if(!window.confirm("You are about to swap the chairs ".concat(this.props.judges.find((function(a){return a.judgeID===e})).name," and ").concat(this.props.judges.find((function(e){return e.judgeID===m})).name,". Do you wish to continue?")))return!1;n[c].chair=e,o.chair=m}else{n[c].wings.push(e);var u=o.wings.indexOf(e);o.wings.splice(u,1)}this.props.updateRooms(n[c],i),this.props.updateRooms(o,this.props.div)}},{key:"render",value:function(){var e=this,a=this.props.speakers,t=this.props.teams,n=this.props.judges,o=this.props.room,l=this.props.round,s=this.props.draws,i=this.props.div,c=t.find((function(e){return e.teamID===o.prop})),m=t.find((function(e){return e.teamID===o.opp})),u=n.find((function(e){return e.judgeID===o.chair})),d=[];1===l?(c.round1.forEach((function(e){return d.push(a.find((function(a){return a.speakerID===e})))})),m.round1.forEach((function(e){return d.push(a.find((function(a){return a.speakerID===e})))}))):2===l?(c.round2.forEach((function(e){return d.push(a.find((function(a){return a.speakerID===e})))})),m.round2.forEach((function(e){return d.push(a.find((function(a){return a.speakerID===e})))}))):(c.round3.forEach((function(e){return d.push(a.find((function(a){return a.speakerID===e})))})),m.round3.forEach((function(e){return d.push(a.find((function(a){return a.speakerID===e})))})));var p,h=[];d.filter((function(e){return void 0!==e})).forEach((function(e){return h.push(e.school)})),p=1===i?"roomsOne":"roomsTwo";var g=!1;if(2===l||3===l){var f=s[0][p];if(f.map((function(e){return e.prop})).includes(c.teamID))f.find((function(e){return e.prop===c.teamID})).opp===m.teamID&&(g=!0);else f.find((function(e){return e.opp===c.teamID})).prop===m.teamID&&(g=!0)}if(3===l){var v=s[1][p];if(v.map((function(e){return e.prop})).includes(c.teamID))v.find((function(e){return e.prop===c.teamID})).opp===m.teamID&&(g=!0);else v.find((function(e){return e.opp===c.teamID})).prop===m.teamID&&(g=!0)}var b=!1;if(2===l||3===l){var E=s[0][p];if(E.map((function(e){return e.chair})).includes(u.judgeID)){var k=E.find((function(e){return e.chair===u.judgeID}));k.prop!==c.teamID&&k.prop!==m.teamID&&k.opp!==c.teamID&&k.opp!==m.teamID||(b=!0)}}if(3===l){var w=s[1][p];if(w.map((function(e){return e.chair})).includes(u.judgeID)){var y=w.find((function(e){return e.chair===u.judgeID}));y.prop!==c.teamID&&y.prop!==m.teamID&&y.opp!==c.teamID&&y.opp!==m.teamID||(b=!0)}}return r.a.createElement("tr",null,r.a.createElement("td",{className:"editable draw-table-room-cell"},r.a.createElement(M,{name:"name",init:o.name,placeholder:"room",fn:this.handleRoomUpdate})),r.a.createElement("td",{className:"draw-table-team-cell"},r.a.createElement(le,{team:c,hasConflict:g,teams:this.props.teams,updateRoom:this.updateRoomTeam})),r.a.createElement("td",{className:"draw-table-team-cell"},r.a.createElement(le,{team:m,hasConflict:g,teams:this.props.teams,updateRoom:this.updateRoomTeam})),r.a.createElement("td",null,r.a.createElement("div",{className:"judgepill-container"},r.a.createElement(se,{judge:u,isChair:!0,hasConflict:h.includes(u.school),hasChairedBefore:b,room:o,draw:s[l-1],updateRoom:this.updateRoomJudge})),0!==o.wings.length?",\xa0":"",o.wings.map((function(a,t){var i=n.find((function(e){return e.judgeID===a}));return r.a.createElement("div",{key:"judgepil-".concat(t),className:"judgepill-container"},r.a.createElement(se,{judge:i,isChair:!1,hasConflict:h.includes(i.school),hasChairedBefore:!1,room:o,draw:s[l-1],updateRoom:e.updateRoomJudge}),t<o.wings.length-1?",\xa0":"")}))))}}]),t}(r.a.PureComponent),ce=function(e){Object(d.a)(t,e);var a=Object(p.a)(t);function t(e){var n;return Object(c.a)(this,t),(n=a.call(this,e)).state={fullScreen:!1},n.generateDraw=n.generateDraw.bind(Object(u.a)(n)),n.regenerateDraw=n.regenerateDraw.bind(Object(u.a)(n)),n.deleteDraw=n.deleteDraw.bind(Object(u.a)(n)),n.updateRooms=n.updateRooms.bind(Object(u.a)(n)),n.fullScreenDraw=n.fullScreenDraw.bind(Object(u.a)(n)),n.modalHide=n.modalHide.bind(Object(u.a)(n)),n}return Object(m.a)(t,[{key:"generateDraw",value:function(){var e=this.props.round,a=Object(s.a)(this.props.draws);if(1===e){if(a[1].generated||a[2].generated)return alert("You can't regenerate a draw after you've generated the next one."),!1}else if(2===e){if(!a[0].generated)return alert("You can't generate the draw for round 2 before generating the draw for round 1."),!1;if(a[2].generated)return alert("You can't regenerate a draw after you've generated the next one."),!1}else if(3===e&&(!a[0].generated||!a[1].generated))return alert("You can't generate the draw for round 3 before generating the draws for rounds 1 and 2."),!1;var t=this.props.teamsOne,n=this.props.teamsTwo,r=this.props.judges,o=t.length,l=n.length;if(0!==o){if(o%2!==0&&l%2!==0)return alert("Both divisions have an odd number of teams. A team from one division debating a team from the other division is not currently supported. Please add or remove a team to/from both in order to continue."),!1;if(o%2!==0)return alert("There is an odd number of ".concat(2===this.props.config.numDivisions?"".concat(this.props.config.divisionNames[0]," "):"","teams\u2014add or remove a team to generate the draw.")),!1;if(l%2!==0)return alert("There is an odd number of ".concat(2===this.props.config.numDivisions?"".concat(this.props.config.divisionNames[1]," "):"","teams\u2014add or remove a team to generate the draw.")),!1;var i,c=(i=1===e?r.filter((function(e){return!0===e.atRound1})):2===e?r.filter((function(e){return!0===e.atRound2})):r.filter((function(e){return!0===e.atRound3}))).filter((function(e){return!0===e.canChair})),m=i.filter((function(e){return!1===e.canChair})),u=o+l;if(c.length<u/2)return alert("There are not enough chairs to adjudicate every room. Please add some more."),!1;for(var d=c.length-1;d>0;d--){var p=Math.floor(Math.random()*(d+1)),h=[c[p],c[d]];c[d]=h[0],c[p]=h[1]}for(;c.length>u/2;)m.push(c.pop());var g=JSON.parse(localStorage.getItem("roomCounter")),f=[],v=[],b=t.slice(0),E=n.slice(0);if(1===e){for(var k=o-1;k>0;k--){var w=Math.floor(Math.random()*(k+1)),y=[b[w],b[k]];b[k]=y[0],b[w]=y[1]}for(var S=l-1;S>0;S--){var j=Math.floor(Math.random()*(S+1)),O=[E[j],E[S]];E[S]=O[0],E[j]=O[1]}}else b.sort((function(e,a){return e.totalWins<a.totalWins?1:e.totalWins>a.totalWins?-1:e.totalPoints<a.totalPoints?1:e.totalPoints>a.totalPoints?-1:1})),E.sort((function(e,a){return e.totalWins<a.totalWins?1:e.totalWins>a.totalWins?-1:e.totalPoints<a.totalPoints?1:e.totalPoints>a.totalPoints?-1:1}));if(2===e){var I=a[0].roomsOne,N=a[0].roomsTwo,T=I.map((function(e){return e.prop})),C=N.map((function(e){return e.opp}));b.forEach((function(e,a){var t=!1;if(T.includes(e.teamID)&&(t=!0),a%2===0&&t)for(var n=a+1;n<o;n++){var r=!1;if(T.includes(b[n].teamID)&&(r=!0),!r){var l=[b[n],b[a]];b[a]=l[0],b[n]=l[1];break}}else if(a%2===1&&!t)for(var s=a+1;s<o;s++){var i=!1;if(T.includes(b[s].teamID)&&(i=!0),i){var c=[b[s],b[a]];b[a]=c[0],b[s]=c[1];break}}})),E.forEach((function(e,a){var t=!1;if(C.includes(e.teamID)&&(t=!0),a%2===0&&t)for(var n=a+1;n<l;n++){var r=!1;if(C.includes(E[n].teamID)&&(r=!0),!r){var o=[E[n],E[a]];E[a]=o[0],E[n]=o[1];break}}else if(a%2===1&&!t)for(var s=a+1;s<l;s++){var i=!1;if(C.includes(E[s].teamID)&&(i=!0),i){var c=[E[s],E[a]];E[a]=c[0],E[s]=c[1];break}}}))}for(var D=0;D<o;D+=2){var F={roomID:g++,name:"",prop:b[D].teamID,opp:b[D+1].teamID,chair:c.pop().judgeID,wings:[]};f[D/2]=F}for(var R=0;R<l;R+=2){var P={roomID:g++,name:"",prop:E[R].teamID,opp:E[R+1].teamID,chair:c.pop().judgeID,wings:[]};v[R/2]=P}for(;m.length>0;){for(var J=0;J<f.length&&(f[J].wings.push(m.pop().judgeID),0!==m.length);J++);if(0===m.length)break;for(var x=0;x<v.length&&(v[x].wings.push(m.pop().judgeID),0!==m.length);x++);}for(var W=f.length-1;W>0;W--){var A=Math.floor(Math.random()*(W+1)),U=[f[A],f[W]];f[W]=U[0],f[A]=U[1]}for(var L=v.length-1;L>0;L--){var M=Math.floor(Math.random()*(L+1)),K=[v[M],v[L]];v[L]=K[0],v[M]=K[1]}var H={generated:!0,roomsOne:f,roomsTwo:v};1===e?a[0]=H:2===e?a[1]=H:a[2]=H,this.props.updateDraws(a),localStorage.setItem("roomCounter",JSON.stringify(g))}else alert("Add some teams to generate the draw.")}},{key:"regenerateDraw",value:function(){if(!window.confirm("Do you really want to regenerate the draw?"))return!1;this.generateDraw()}},{key:"deleteDraw",value:function(){var e=this.props.round,a=Object(s.a)(this.props.draws);if(1===e&&(a[1].generated||a[2].generated))return alert("You can't delete a draw after you've generated the next one."),!1;if(2===e&&a[2].generated)return alert("You can't delete a draw after you've generated the next one."),!1;if(!window.confirm("Are you sure you want to delete the draw for round ".concat(e,"?")))return!1;var t={generated:!1,roomsOne:[],roomsTwo:[]};1===e?a[0]=t:2===e?a[1]=t:a[2]=t,this.props.updateDraws(a)}},{key:"updateRooms",value:function(e,a){var t,n=Object(s.a)(this.props.draws),r=(t=1===a?n[this.props.round-1].roomsOne:n[this.props.round-1].roomsTwo).findIndex((function(a){return a.roomID===e.roomID}));t[r]=e,1===a?n[this.props.round-1].roomsOne=t:n[this.props.round-1].roomsTwo=t,this.props.updateDraws(n)}},{key:"fullScreenDraw",value:function(){this.setState({fullScreen:!0}),document.documentElement.requestFullscreen()}},{key:"modalHide",value:function(){this.setState({fullScreen:!1}),null!==document.fullscreenElement&&document.exitFullscreen()}},{key:"render",value:function(){var e,a=this,t=this.props.draws[this.props.round-1].generated;return e=t?r.a.createElement("div",null,r.a.createElement("h3",null,2===this.props.config.numDivisions?this.props.config.divisionNames[0]:"Draw"),r.a.createElement(V.a,{className:"table-no-top-margin draw-table-one",hover:!0,striped:!0},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Room"),r.a.createElement("th",{className:"draw-table-team-cell"},"Proposition"),r.a.createElement("th",{className:"draw-table-team-cell"},"Opposition"),r.a.createElement("th",null,"Judges"))),r.a.createElement("tbody",null,this.props.draws[this.props.round-1].roomsOne.map((function(e,t){return r.a.createElement(ie,{key:"one-room-".concat(t),room:e,div:1,round:a.props.round,speakers:a.props.speakersOne,teams:a.props.teamsOne,judges:a.props.judges,draws:a.props.draws,updateRooms:a.updateRooms})})))),r.a.createElement("h3",null,2===this.props.config.numDivisions?this.props.config.divisionNames[1]:""),r.a.createElement(V.a,{className:"table-no-top-margin ".concat(1===this.props.config.numDivisions?"hidden":""),hover:!0,striped:!0},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Room"),r.a.createElement("th",{className:"draw-table-team-cell"},"Proposition"),r.a.createElement("th",{className:"draw-table-team-cell"},"Opposition"),r.a.createElement("th",null,"Judges"))),r.a.createElement("tbody",null,this.props.draws[this.props.round-1].roomsTwo.map((function(e,t){return r.a.createElement(ie,{key:"two-room-".concat(t),room:e,div:2,round:a.props.round,speakers:a.props.speakersTwo,teams:a.props.teamsTwo,judges:a.props.judges,draws:a.props.draws,updateRooms:a.updateRooms})}))))):r.a.createElement("div",{className:"draw-placeholder"}),r.a.createElement("div",null,r.a.createElement("h2",null,"Round ",this.props.round),r.a.createElement(T.a,{className:"draw-header"},r.a.createElement(O.a,null,r.a.createElement(I.a,{onClick:this.generateDraw,className:t?"hidden":""},r.a.createElement(J.d,{className:"btn-icon"}),"Generate draw"),r.a.createElement(I.a,{variant:"secondary",onClick:this.regenerateDraw,className:t?"":"hidden"},r.a.createElement(J.a,{className:"btn-icon"}),"Regenerate draw"),r.a.createElement(I.a,{variant:"danger",onClick:this.deleteDraw,className:t?"":"hidden"},r.a.createElement(J.p,{className:"btn-icon"}),"Delete draw"),r.a.createElement(I.a,{variant:"primary",onClick:this.fullScreenDraw,className:t?"":"hidden"},r.a.createElement(J.b,{className:"btn-icon"}),"Display fullscreen"),r.a.createElement("div",{className:"draw-legend ".concat(t?"":"hidden")},r.a.createElement(B.a,{placement:"bottom-start",overlay:r.a.createElement(z.a,{className:"popover-explainer",id:"draw-legend-popover"},r.a.createElement(z.a.Content,null,"Teams in ",r.a.createElement("span",{className:"orange"},"orange")," have already debated each other before.",r.a.createElement("br",null),"Chairs in ",r.a.createElement("span",{className:"orange"},"orange")," have already chaired one of the teams in their room before.",r.a.createElement("br",null),"Judges in ",r.a.createElement("span",{className:"red"},"red")," clash with one of the teams in their room.",r.a.createElement("br",null),"Note that these colors do not show up when the draw is displayed fullscreen.")),rootClose:!0},r.a.createElement("abbr",{title:"",tabIndex:0},r.a.createElement("p",null,r.a.createElement(J.k,{className:"icon-info"}),"\xa0\xa0",r.a.createElement("span",null,"Legend"))))))),r.a.createElement(T.a,null,r.a.createElement(O.a,{lg:10,xl:9,className:"table-col"},e)),r.a.createElement(k.a,{show:this.state.fullScreen,onHide:this.modalHide,backdrop:"static",size:"xl",className:"draw-modal",dialogClassName:"draw-modal-dialog",backdropClassName:"draw-modal-backdrop"},r.a.createElement(k.a.Header,{closeButton:!0},"Draw Round ",this.props.round),r.a.createElement(k.a.Body,null,r.a.createElement("div",{className:"draw-modal-table"},e))))}}]),t}(r.a.PureComponent),me=function(e){Object(d.a)(t,e);var a=Object(p.a)(t);function t(){return Object(c.a)(this,t),a.apply(this,arguments)}return Object(m.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement(y.a.Container,{id:"draw-view",defaultActiveKey:"round-1",transition:!1},r.a.createElement(T.a,null,r.a.createElement(O.a,{md:3,lg:2},r.a.createElement(W.a,{variant:"pills",className:"sub-nav"},[1,2,3].map((function(e){return r.a.createElement(W.a.Item,{key:"draw-nav-".concat(e)},r.a.createElement(W.a.Link,{eventKey:"round-".concat(e),className:"sub-nav-link"},r.a.createElement(J.f,{className:"btn-icon"}),"Round ",e))})))),r.a.createElement(O.a,{md:9,lg:10},r.a.createElement(y.a.Content,null,[1,2,3].map((function(a){return r.a.createElement(y.a.Pane,{key:"draw-pane-".concat(a),eventKey:"round-".concat(a)},r.a.createElement(ce,{round:a,config:e.props.config,speakersOne:e.props.speakersOne,speakersTwo:e.props.speakersTwo,teamsOne:e.props.teamsOne,teamsTwo:e.props.teamsTwo,judges:e.props.judges,draws:e.props.draws,updateDraws:e.props.updateDraws}))}))))))}}]),t}(r.a.PureComponent),ue=t(77),de=JSON.stringify,pe=function(e){Object(d.a)(t,e);var a=Object(p.a)(t);function t(e){var n;return Object(c.a)(this,t),(n=a.call(this,e)).updateStorage=function(e){return function(a){localStorage.setItem(e,JSON.stringify(a)),n.setState(Object(i.a)({},e,a))}},n.updateTournamentName=function(e){n.updateStorage("tournamentName")(e),document.title="".concat(e," - TacoTab")},n.updateInit=n.updateStorage("init"),n.updateConfig=n.updateStorage("config"),n.updateSpeakersOne=n.updateStorage("speakersOne"),n.updateSpeakersTwo=n.updateStorage("speakersTwo"),n.updateTeamsOne=n.updateStorage("teamsOne"),n.updateTeamsTwo=n.updateStorage("teamsTwo"),n.updateJudges=n.updateStorage("judges"),n.updateDraws=n.updateStorage("draws"),n.initializeTournament=function(e,a,t){n.updateTournamentName(e);var r={version:f.version,numDivisions:a};1!==a&&(r.divisionNames=Object(s.a)(t)),n.updateConfig(r),n.updateInit(!0)},localStorage.getItem("init")||localStorage.setItem("init",de(!1)),localStorage.getItem("tournamentName")||localStorage.setItem("tournamentName",de("New tournament")),localStorage.getItem("config")||localStorage.setItem("config",de({version:f.version,numDivisions:0})),localStorage.getItem("speakersOne")||localStorage.setItem("speakersOne",de([])),localStorage.getItem("teamsOne")||localStorage.setItem("teamsOne",de([])),localStorage.getItem("speakersTwo")||localStorage.setItem("speakersTwo",de([])),localStorage.getItem("teamsTwo")||localStorage.setItem("teamsTwo",de([])),localStorage.getItem("speakerCounter")||localStorage.setItem("speakerCounter",de(0)),localStorage.getItem("teamCounter")||localStorage.setItem("teamCounter",de(0)),localStorage.getItem("judges")||localStorage.setItem("judges",de([])),localStorage.getItem("judgeCounter")||localStorage.setItem("judgeCounter",de(0)),localStorage.getItem("draws")||localStorage.setItem("draws",de([{generated:!1,roomsOne:[],roomsTwo:[]},{generated:!1,roomsOne:[],roomsTwo:[]},{generated:!1,roomsOne:[],roomsTwo:[]}])),localStorage.getItem("roomCounter")||localStorage.setItem("roomCounter",de(0)),n.state={showMenu:!1,init:JSON.parse(localStorage.getItem("init")),tournamentName:JSON.parse(localStorage.getItem("tournamentName")),config:JSON.parse(localStorage.getItem("config")),speakersOne:JSON.parse(localStorage.getItem("speakersOne")),speakersTwo:JSON.parse(localStorage.getItem("speakersTwo")),teamsOne:JSON.parse(localStorage.getItem("teamsOne")),teamsTwo:JSON.parse(localStorage.getItem("teamsTwo")),judges:JSON.parse(localStorage.getItem("judges")),draws:JSON.parse(localStorage.getItem("draws"))},n.toggleMenu=n.toggleMenu.bind(Object(u.a)(n)),n.updateStorage=n.updateStorage.bind(Object(u.a)(n)),n.updateTournamentName=n.updateTournamentName.bind(Object(u.a)(n)),n.updateInit=n.updateInit.bind(Object(u.a)(n)),n.updateConfig=n.updateConfig.bind(Object(u.a)(n)),n.updateSpeakersOne=n.updateSpeakersOne.bind(Object(u.a)(n)),n.updateSpeakersTwo=n.updateSpeakersTwo.bind(Object(u.a)(n)),n.updateTeamsOne=n.updateTeamsOne.bind(Object(u.a)(n)),n.updateTeamsTwo=n.updateTeamsTwo.bind(Object(u.a)(n)),n.updateJudges=n.updateJudges.bind(Object(u.a)(n)),n.updateDraws=n.updateDraws.bind(Object(u.a)(n)),n.initializeTournament=n.initializeTournament.bind(Object(u.a)(n)),n.getTotalTeams=n.getTotalTeams.bind(Object(u.a)(n)),document.title="".concat(JSON.parse(localStorage.getItem("tournamentName"))," - TacoTab"),n}return Object(m.a)(t,[{key:"toggleMenu",value:function(){this.state.showMenu?this.setState({showMenu:!1}):this.setState({showMenu:!0})}},{key:"getTotalTeams",value:function(){return this.state.teamsOne.length+this.state.teamsTwo.length}},{key:"render",value:function(){var e,a;return 2!==this.state.config.numDivisions?(e=r.a.createElement(W.a.Item,null,r.a.createElement(W.a.Link,{eventKey:"participants",title:"Participants"},"Participants")),a=r.a.createElement(y.a.Pane,{eventKey:"participants"},r.a.createElement(ne,{div:1,speakers:this.state.speakersOne,teams:this.state.teamsOne,updateSpeakers:this.updateSpeakersOne,updateTeams:this.updateTeamsOne}))):(e=r.a.createElement(r.a.Fragment,null,r.a.createElement(W.a.Item,null,r.a.createElement(W.a.Link,{eventKey:"divone",title:this.state.config.divisionNames[0]},this.state.config.divisionNames[0])),r.a.createElement(W.a.Item,null,r.a.createElement(W.a.Link,{eventKey:"divtwo",title:this.state.config.divisionNames[1]},this.state.config.divisionNames[1]))),a=r.a.createElement(r.a.Fragment,null,r.a.createElement(y.a.Pane,{eventKey:"divone"},r.a.createElement(ne,{div:1,speakers:this.state.speakersOne,teams:this.state.teamsOne,updateSpeakers:this.updateSpeakersOne,updateTeams:this.updateTeamsOne})),r.a.createElement(y.a.Pane,{eventKey:"divtwo"},r.a.createElement(ne,{div:2,speakers:this.state.speakersTwo,teams:this.state.teamsTwo,updateSpeakers:this.updateSpeakersTwo,updateTeams:this.updateTeamsTwo})))),r.a.createElement(r.a.Fragment,null,r.a.createElement(ue.a,{fluid:!0,className:"app"},r.a.createElement("div",{id:"logo"},r.a.createElement("img",{src:g.a,alt:"TacoTab logo"}),r.a.createElement("h1",null,"TacoTab")),r.a.createElement("div",{id:"hamburger"},r.a.createElement(J.l,{onClick:this.toggleMenu,role:"button","aria-controls":"app-nav","aria-expanded":this.state.showMenu})),r.a.createElement(y.a.Container,{id:"app-nav",defaultActiveKey:"home",transition:!1},r.a.createElement(j.a,{in:this.state.showMenu},r.a.createElement(W.a,{className:"main-nav"},r.a.createElement(W.a.Item,null,r.a.createElement(W.a.Link,{eventKey:"home",title:"Home"},"Home")),e,r.a.createElement(W.a.Item,null,r.a.createElement(W.a.Link,{eventKey:"judges",title:"Judges"},"Judges")),r.a.createElement(W.a.Item,null,r.a.createElement(W.a.Link,{eventKey:"draw",title:"Draw"},"Draw")))),r.a.createElement(y.a.Content,null,r.a.createElement(y.a.Pane,{eventKey:"home"},r.a.createElement(A,{tournamentName:this.state.tournamentName,config:this.state.config,updateTournamentName:this.updateTournamentName,updateConfig:this.updateConfig})),a,r.a.createElement(y.a.Pane,{eventKey:"judges"},r.a.createElement(oe,{judges:this.state.judges,updateJudges:this.updateJudges,getTotalTeams:this.getTotalTeams})),r.a.createElement(y.a.Pane,{eventKey:"draw"},r.a.createElement(me,{config:this.state.config,speakersOne:this.state.speakersOne,speakersTwo:this.state.speakersTwo,teamsOne:this.state.teamsOne,teamsTwo:this.state.teamsTwo,judges:this.state.judges,draws:this.state.draws,updateDraws:this.updateDraws}))))),r.a.createElement(N,{init:this.state.init,initializeTournament:this.initializeTournament}))}}]),t}(r.a.Component),he=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function ge(e){if("serviceWorker"in navigator){if(new URL(".",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var a="".concat(".","/service-worker.js");he?(!function(e,a){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(t){var n=t.headers.get("content-type");404===t.status||null!=n&&-1===n.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):fe(e,a)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(a,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):fe(a,e)}))}}function fe(e,a){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var t=e.installing;null!=t&&(t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),a&&a.onUpdate&&a.onUpdate(e)):(console.log("Content is cached for offline use."),a&&a.onSuccess&&a.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}var ve=t(71),be=function(){var e=Object(n.useState)(!1),a=Object(L.a)(e,2),t=a[0],o=a[1],l=Object(n.useState)(null),s=Object(L.a)(l,2),i=s[0],c=s[1],m=function(e){o(!0),c(e.waiting)};Object(n.useEffect)((function(){ge({onUpdate:m})}),[]);return r.a.createElement(ve.a,{show:t,variant:"primary",className:"alert-global"},r.a.createElement(J.h,null),"\xa0\xa0 A new version of TacoTab is available! ",r.a.createElement(ve.a.Link,{onClick:function(){null===i||void 0===i||i.postMessage({type:"SKIP_WAITING"}),o(!1),window.location.reload(!0)}},"Click to reload."))};l.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(be,null),r.a.createElement(pe,null)),document.getElementById("root"))}},[[79,1,2]]]);
//# sourceMappingURL=main.64afc56f.chunk.js.map