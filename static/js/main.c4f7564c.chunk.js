(this.webpackJsonptacotab=this.webpackJsonptacotab||[]).push([[0],{46:function(e){e.exports=JSON.parse('{"name":"tacotab","version":"0.4.1","author":{"name":"Rayo Verweij","email":"rayo.verweij@live.nl","url":"https://rayo.dev"},"license":"MIT","description":"A tabbing app for small World Schools-like debating tournaments","private":true,"homepage":"https://rayo.dev/tacotab","dependencies":{"@types/jest":"^24.9.1","@types/node":"^12.12.41","@types/react":"^16.9.35","@types/react-dom":"^16.9.8","bootstrap":"^4.5.0","bs-custom-file-input":"^1.3.4","gh-pages":"^2.2.0","node-sass":"^4.14.1","react":"^16.13.1","react-bootstrap":"^1.0.1","react-bootstrap-icons":"^1.0.2-alpha4","react-dom":"^16.13.1","react-scripts":"3.4.1","typescript":"^3.7.5"},"scripts":{"predeploy":"npm run build","deploy":"gh-pages -d build","start":"react-scripts start","build":"react-scripts build","test":"react-scripts test","eject":"react-scripts eject"},"eslintConfig":{"extends":"react-app"},"browserslist":{"production":[">0.2%","not dead","not op_mini all"],"development":["last 1 chrome version","last 1 firefox version","last 1 safari version"]}}')},52:function(e,t,a){e.exports=a.p+"static/media/logo.15863a1a.svg"},69:function(e,t,a){},71:function(e,t,a){e.exports=a.p+"static/media/icon-github.026cb8cd.svg"},75:function(e,t,a){e.exports=a(92)},80:function(e,t,a){},81:function(e,t,a){},82:function(e,t,a){},83:function(e,t,a){},87:function(e,t,a){},88:function(e,t,a){},89:function(e,t,a){},90:function(e,t,a){},91:function(e,t,a){},92:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(26),s=a.n(o),l=(a(80),a(81),a(44)),i=a(41),c=a(9),m=a(10),u=a(3),d=a(12),p=a(11),h=(a(82),a(52)),g=a.n(h),f=a(46),v=a(15),E=(a(83),JSON.stringify),b=function(e){if(e.length<=0)return!1;var t=new FileReader;t.onload=function(e){var t=JSON.parse(e.target.result);if(!("init"in t)||!("tournamentName"in t)&&!("tournament_name"in t)||!("config"in t)||!("speakersOne"in t)&&!("speakers_one"in t)||!("speakersTwo"in t)&&!("speakers_two"in t)||!("teamsOne"in t)&&!("teams_one"in t)||!("teamsTwo"in t)&&!("teams_two"in t)||!("speakerCounter"in t)&&!("speakers_counter"in t)||!("judges"in t)||!("judgeCounter"in t)&&!("judges_counter"in t)||!("draws"in t))return!1;if(localStorage.setItem("init",E(t.init)),t.config.version)localStorage.setItem("tournamentName",E(t.tournamentName)),localStorage.setItem("config",E(t.config)),localStorage.setItem("speakersOne",E(t.speakersOne)),localStorage.setItem("teamsOne",E(t.teamsOne)),localStorage.setItem("speakersTwo",E(t.speakersTwo)),localStorage.setItem("teamsTwo",E(t.teamsTwo)),localStorage.setItem("speakerCounter",E(t.speakerCounter)),localStorage.setItem("teamCounter",E(t.teamCounter)),localStorage.setItem("judges",E(t.judges)),localStorage.setItem("judgeCounter",E(t.judgeCounter)),localStorage.setItem("draws",E(t.draws)),localStorage.setItem("roomCounter",E(t.roomCounter));else{localStorage.setItem("tournamentName",E(t.tournament_name));var a=t.config;a.version=f.version,"1"===a.divisions?a.numDivisions=1:a.numDivisions=2,delete a.divisions,localStorage.setItem("config",E(a));var n=t.speakers_one.map((function(e){var t=Object(v.a)(Object(v.a)({},e),{},{speakerID:e.debaterID});return delete t.debaterID,t}));localStorage.setItem("speakersOne",E(n));var r=t.teams_one.map((function(e){var t=Object(v.a)(Object(v.a)({},e),{},{name:e.teamName,round1:e.round1.map((function(e){return parseInt(e)})),round2:e.round2.map((function(e){return parseInt(e)})),round3:e.round2.map((function(e){return parseInt(e)}))});return delete t.teamName,delete t.sideR1,t}));localStorage.setItem("teamsOne",E(r));var o=t.speakers_two.map((function(e){var t=Object(v.a)(Object(v.a)({},e),{},{speakerID:e.debaterID});return delete t.debaterID,t}));localStorage.setItem("speakersTwo",E(o));var s=t.teams_two.map((function(e){var t=Object(v.a)(Object(v.a)({},e),{},{name:e.teamName,round1:e.round1.map((function(e){return parseInt(e)})),round2:e.round2.map((function(e){return parseInt(e)})),round3:e.round2.map((function(e){return parseInt(e)}))});return delete t.teamName,delete t.sideR1,t}));localStorage.setItem("teamsTwo",E(s)),localStorage.setItem("speakerCounter",E(t.speakers_counter)),localStorage.setItem("teamCounter",E(t.teams_counter));var l=t.judges.map((function(e){var t=Object(v.a)(Object(v.a)({},e),{},{atRound1:e.r1,atRound2:e.r2,atRound3:e.r3});return delete t.r1,delete t.r2,delete t.r3,t}));localStorage.setItem("judges",E(l)),localStorage.setItem("judgeCounter",E(t.judges_counter));var i=0,c=t.draws.map((function(e){var t=Object(v.a)(Object(v.a)({},e),{},{roomsOne:e.pairings_one.map((function(e){var t=Object(v.a)(Object(v.a)({},e),{},{roomID:i++,name:e.room});return delete t.room,t})),roomsTwo:e.pairings_two.map((function(e){var t=Object(v.a)(Object(v.a)({},e),{},{roomID:i++,name:e.room});return delete t.room,t}))});return delete t.pairings_one,delete t.pairings_two,t}));localStorage.setItem("draws",E(c)),localStorage.setItem("roomCounter",E(i))}},t.readAsText(e.item(0)),window.location.reload()},k=a(17),w=a(74),S=a(16),y=a(6),O=a(63),j=a(8),N=a(18),I=function(e){Object(d.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).state={setupForm:{tournamentName:"",numDivisions:1,divisionOneName:"",divisionTwoName:""}},n.handleSetupFormChange=n.handleSetupFormChange.bind(Object(u.a)(n)),n.handleSetupFormSubmit=n.handleSetupFormSubmit.bind(Object(u.a)(n)),n.importData=n.importData.bind(Object(u.a)(n)),n}return Object(m.a)(a,[{key:"handleSetupFormChange",value:function(e){var t=e.target.name,a=e.target.value;"numDivisions"===t&&(a=Number(a));var n=Object(v.a)({},this.state.setupForm);n[t]=a,this.setState({setupForm:n})}},{key:"handleSetupFormSubmit",value:function(e){e.preventDefault();var t=this.state.setupForm.tournamentName;if(""===t)return!1;var a=this.state.setupForm.numDivisions,n=[this.state.setupForm.divisionOneName,this.state.setupForm.divisionTwoName];if(2===a&&(""===n[0]||""===n[1]))return!1;this.props.initializeTournament(t,a,n)}},{key:"importData",value:function(e){e.preventDefault();var t=document.getElementById("import-setup").files;if(null===t)return!1;b(t)}},{key:"render",value:function(){return r.a.createElement(k.a,{show:!this.props.init,backdrop:"static",animation:!1,className:"setup-modal",dialogClassName:"setup-modal-dialog",backdropClassName:"setup-modal-backdrop","aria-labelledby":"setup-modal-title"},r.a.createElement(k.a.Header,null,r.a.createElement(k.a.Title,{id:"setup-modal-title"},r.a.createElement("img",{src:g.a,alt:"TacoTab logo",id:"setup-logo"}),"Welcome to TacoTab!")),r.a.createElement(k.a.Body,null,r.a.createElement("p",null,r.a.createElement("strong",null,"This is prerelease software, still under active development. Use at your own risk\u2014this app might bite.")," For more information, see the ",r.a.createElement("a",{href:"https://github.com/rayoverweij/tacotab",rel:"noopener noreferrer",target:"_blank"},"GitHub repository"),"."),r.a.createElement("p",null,"You can create a new tournament from scratch, or import data from a previous TacoTab tournament."),r.a.createElement(w.a,{defaultActiveKey:"createnew",id:"setup-tabs"},r.a.createElement(S.a,{eventKey:"createnew",title:"New tournament"},r.a.createElement(y.a,{onSubmit:this.handleSetupFormSubmit},r.a.createElement("h5",null,"Tournament name"),r.a.createElement(y.a.Group,{controlId:"setupFormTournamentName"},r.a.createElement(y.a.Control,{name:"tournamentName",type:"text",placeholder:"e.g. 'Bard MS-HS 2020'",value:this.state.setupForm.name,onChange:this.handleSetupFormChange})),r.a.createElement("h5",{id:"setup-form-div-h5"},"Speaker divisions"),r.a.createElement(y.a.Group,{controlId:"setupFormNumDivisions",id:"setup-form-num-div"},r.a.createElement(y.a.Label,null,"Number of speaker divisions:\xa0\xa0"),r.a.createElement(y.a.Check,{inline:!0,custom:!0,name:"numDivisions",label:"1",value:1,type:"radio",id:"setup-form-divisions-1",checked:1===this.state.setupForm.numDivisions,onChange:this.handleSetupFormChange}),r.a.createElement(y.a.Check,{inline:!0,custom:!0,name:"numDivisions",label:"2",value:2,type:"radio",id:"setup-form-divisions-2",checked:2===this.state.setupForm.numDivisions,onChange:this.handleSetupFormChange})),r.a.createElement(O.a,{in:2===this.state.setupForm.numDivisions},r.a.createElement("div",null,r.a.createElement(y.a.Group,{controlId:"setupFormDivisionNames"},r.a.createElement(y.a.Label,null,"Give both divisions a name for easy identification."),r.a.createElement(y.a.Row,null,r.a.createElement(j.a,{md:6},r.a.createElement(y.a.Control,{name:"divisionOneName",type:"text",placeholder:"e.g. 'Novice'",value:this.state.setupForm.divisionOneName,onChange:this.handleSetupFormChange})),r.a.createElement(j.a,{md:6},r.a.createElement(y.a.Control,{name:"divisionTwoName",type:"text",placeholder:"e.g. 'Open'",value:this.state.setupForm.divisionTwoName,onChange:this.handleSetupFormChange})))))),r.a.createElement(N.a,{variant:"primary",type:"submit",id:"setup-form-submit"},"Create the tournament"))),r.a.createElement(S.a,{eventKey:"importnew",title:"Import tournament"},r.a.createElement("p",null,"Open files generated with the Export function."),r.a.createElement(y.a,{onSubmit:this.importData},r.a.createElement(y.a.Row,null,r.a.createElement(j.a,{md:9},r.a.createElement("div",{className:"custom-file"},r.a.createElement(y.a.Control,{name:"import",id:"import-setup",className:"custom-file-input",type:"file",accept:".tournament,.json"}),r.a.createElement("label",{className:"custom-file-label",htmlFor:"customFile"},"Choose file"))),r.a.createElement(j.a,{md:3},r.a.createElement(N.a,{variant:"primary",type:"submit"},"Import"))))))))}}]),a}(r.a.Component),T=a(19),C=function(e){Object(d.a)(a,e);var t=Object(p.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(m.a)(a,[{key:"render",value:function(){return r.a.createElement(T.a,null,r.a.createElement(j.a,null,r.a.createElement("h2",null,"Welcome!"),r.a.createElement("p",null,r.a.createElement("strong",null,"This is prerelease software, still under active development. Use at your own risk.")," For more information, see the ",r.a.createElement("a",{href:"https://github.com/rayoverweij/tacotab",rel:"noopener noreferrer",target:"_blank"},"GitHub repository"),".")))}}]),a}(r.a.Component),D=(a(87),a(71)),F=a.n(D),R=a(72),J=a.n(R),M=a(13),x=function(e){Object(d.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).state={nameForm:"",showWhatsNew:!1,showPrivacy:!1},n.handleNameFormChange=n.handleNameFormChange.bind(Object(u.a)(n)),n.handleNameFormSubmit=n.handleNameFormSubmit.bind(Object(u.a)(n)),n.importData=n.importData.bind(Object(u.a)(n)),n.exportData=n.exportData.bind(Object(u.a)(n)),n.clearData=n.clearData.bind(Object(u.a)(n)),n.showWhatsNew=n.showWhatsNew.bind(Object(u.a)(n)),n.hideWhatsNew=n.hideWhatsNew.bind(Object(u.a)(n)),n.showPrivacy=n.showPrivacy.bind(Object(u.a)(n)),n.hidePrivacy=n.hidePrivacy.bind(Object(u.a)(n)),n}return Object(m.a)(a,[{key:"componentDidMount",value:function(){J.a.init()}},{key:"handleNameFormChange",value:function(e){this.setState({nameForm:e.target.value})}},{key:"handleNameFormSubmit",value:function(e){e.preventDefault();var t=this.state.nameForm;this.props.updateTournamentName(t),this.setState({nameForm:""})}},{key:"importData",value:function(e){e.preventDefault();var t=document.getElementById("import-settings").files;if(null===t)return!1;b(t)}},{key:"exportData",value:function(){var e="data:text/json;charset=utf-8,";e+=encodeURIComponent("{"),e+=encodeURIComponent('"init": '+localStorage.getItem("init")+","),e+=encodeURIComponent('"tournamentName": '+localStorage.getItem("tournamentName")+","),e+=encodeURIComponent('"config": '+localStorage.getItem("config")+","),e+=encodeURIComponent('"speakersOne": '+localStorage.getItem("speakersOne")+","),e+=encodeURIComponent('"teamsOne": '+localStorage.getItem("teamsOne")+","),e+=encodeURIComponent('"speakersTwo": '+localStorage.getItem("speakersTwo")+","),e+=encodeURIComponent('"teamsTwo": '+localStorage.getItem("teamsTwo")+","),e+=encodeURIComponent('"speakerCounter": '+localStorage.getItem("speakerCounter")+","),e+=encodeURIComponent('"teamCounter": '+localStorage.getItem("teamCounter")+","),e+=encodeURIComponent('"judges": '+localStorage.getItem("judges")+","),e+=encodeURIComponent('"judgeCounter": '+localStorage.getItem("judgeCounter")+","),e+=encodeURIComponent('"draws": '+localStorage.getItem("draws")),e+=encodeURIComponent("}");var t=this.props.tournamentName;t=t.replace(/\s+/g,"-").toLowerCase(),t+=".tournament";var a=document.createElement("a");a.setAttribute("href",e),a.setAttribute("download",t),document.body.appendChild(a),a.click(),a.remove()}},{key:"clearData",value:function(){if(!window.confirm("Are you sure you want to delete all data?"))return!1;localStorage.clear(),window.location.reload()}},{key:"showWhatsNew",value:function(){this.setState({showWhatsNew:!0})}},{key:"hideWhatsNew",value:function(){this.setState({showWhatsNew:!1})}},{key:"showPrivacy",value:function(){this.setState({showPrivacy:!0})}},{key:"hidePrivacy",value:function(){this.setState({showPrivacy:!1})}},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",null,r.a.createElement("h2",null,"Settings"),r.a.createElement(T.a,null,r.a.createElement(j.a,{lg:8,className:"col-settings"},r.a.createElement("p",null,"Manage your tournament."),r.a.createElement("section",null,r.a.createElement("h3",null,"Change tournament name"),r.a.createElement(y.a,{onSubmit:this.handleNameFormSubmit},r.a.createElement(y.a.Row,null,r.a.createElement(j.a,{sm:9,xl:6},r.a.createElement(y.a.Control,{name:"tournament-name",type:"text",placeholder:"New name",value:this.state.nameForm,onChange:this.handleNameFormChange})),r.a.createElement(j.a,null,r.a.createElement(N.a,{variant:"primary",type:"submit"},"Save"))))),r.a.createElement("section",null,r.a.createElement("h3",null,"Import tournament data"),r.a.createElement("p",null,"Open files generated with the Export function below. ",r.a.createElement("strong",null,"Note:")," this will override all current data!"),r.a.createElement(y.a,{onSubmit:this.importData},r.a.createElement(y.a.Row,null,r.a.createElement(j.a,{xs:9,xl:6},r.a.createElement("div",{className:"custom-file"},r.a.createElement(y.a.Control,{name:"import",id:"import-settings",className:"custom-file-input",type:"file",accept:".tournament,.json"}),r.a.createElement("label",{className:"custom-file-label",htmlFor:"customFile"},"Choose file"))),r.a.createElement(j.a,null,r.a.createElement(N.a,{variant:"primary",type:"submit"},"Import"))))),r.a.createElement("section",null,r.a.createElement("h3",null,"Export tournament data"),r.a.createElement("p",null,"Save all tournament data to a file on your PC."),r.a.createElement(N.a,{variant:"primary",onClick:this.exportData},r.a.createElement(M.f,{className:"btn-icon"}),"Export data")),r.a.createElement("section",{id:"section-cleardata"},r.a.createElement("h3",null,"Clear tournament data"),r.a.createElement("p",null,"Warning: this will delete ",r.a.createElement("strong",null,"all")," entered data. Save your data using the Export function first."),r.a.createElement(N.a,{variant:"danger",onClick:this.clearData},r.a.createElement(M.n,{className:"btn-icon"}),"Clear data"))),r.a.createElement(j.a,{lg:4,className:"col-settings"},r.a.createElement("section",{id:"section-about"},r.a.createElement("h3",null,"About"),r.a.createElement("p",null,"TacoTab \u03b2 version 0.4.1",r.a.createElement("br",null),"\xa9 ",(new Date).getFullYear()," Rayo Verweij",r.a.createElement("br",null),r.a.createElement("img",{src:F.a,alt:"GitHub logo",id:"logo-github"}),"\xa0",r.a.createElement("a",{href:"https://github.com/rayoverweij/tacotab",rel:"noopener noreferrer",target:"_blank"},"GitHub"),"\xa0\xb7\xa0",r.a.createElement("span",{className:"fake-anchor",onClick:this.showWhatsNew},"What's new"),"\xa0\xb7\xa0",r.a.createElement("span",{className:"fake-anchor",onClick:this.showPrivacy},"Privacy")),r.a.createElement("p",null,r.a.createElement("a",{href:"https://rayo.dev",rel:"noopener noreferrer",target:"_blank"},"Check out more of Rayo's work")," or ",r.a.createElement("a",{href:"https://debate.bard.edu",rel:"noopener noreferrer",target:"_blank"},"visit the Bard Debate Union"),"\u2014Bard's best sports team!"))))),r.a.createElement(k.a,{show:this.state.showWhatsNew,onHide:this.hideWhatsNew,className:"whatsnew-modal","aria-labelledby":"whatsnew-modal-title"},r.a.createElement(k.a.Header,{closeButton:!0},r.a.createElement(k.a.Title,{id:"whatsnew-modal-title"},"What's new")),r.a.createElement(k.a.Body,null,r.a.createElement("p",null,"New in version 0.4.1:",r.a.createElement("ul",null,r.a.createElement("li",null,"General: last update's design refresh has been refined, with clearer headings and more space to work"),r.a.createElement("li",null,"General: a new privacy policy, explaining that we never collect any data, has been added to the Settings page"),r.a.createElement("li",null,"Draw: chairs that have already chaired one of the teams in their room before are marked in orange"),r.a.createElement("li",null,"Draw: a new legend explains the colors that teams and judges get when there is a clash"),r.a.createElement("li",null,"Fixed some bugs with team swapping"),r.a.createElement("li",null,"Fixed a bug where teams didn't properly remember their opponents for checking in later draws"),r.a.createElement("li",null,"Under-the-hood: information that can be gathered from looking at previous round (e.g. a team's previous opponents, or a chair's previous rooms) is now only stored in the draw, and not duplicated in the team and judge objects"),r.a.createElement("li",null,"Under-the-hood: sharing TacoTab on social media such as Facebook and Twitter now gives a better preview of the app")),"For an overview of changes made in previous versions, see ",r.a.createElement("a",{href:"https://github.com/rayoverweij/tacotab/releases",target:"_blank",rel:"noreferrer noopener"},"GitHub"),"."))),r.a.createElement(k.a,{show:this.state.showPrivacy,onHide:this.hidePrivacy,className:"privacy-modal","aria-labelledby":"privacy-modal-title"},r.a.createElement(k.a.Header,{closeButton:!0},r.a.createElement(k.a.Title,{id:"privacy-modal-title"},"Privacy Policy")),r.a.createElement(k.a.Body,null,r.a.createElement("p",null,"We don't collect or store any of your data."),r.a.createElement("p",null,"It is, quite frankly, impossible for us to do so. There are no servers, no accounts, and no analytics. All data that you enter is stored in the local storage of your browser, and never leaves the instance of the browser you are runnning right now. (In fact, you could download the app and use it without even needing an internet connection!)"),r.a.createElement("p",null,"There are also no third-party services or scripts running in the background that might collect your data, or cookies of any kind. The only way for data to leave this app is if you ",r.a.createElement("em",null,"manually"),' use the "export" function on the Settings page.'),r.a.createElement("p",null,"What happens on your computer stays on your computer!"))))}}]),a}(r.a.Component),P=a(14),W=function(e){Object(d.a)(a,e);var t=Object(p.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(m.a)(a,[{key:"render",value:function(){return r.a.createElement(S.a.Container,{id:"home-view",defaultActiveKey:"welcome",transition:!1},r.a.createElement(T.a,null,r.a.createElement(j.a,{md:3,lg:2},r.a.createElement(P.a,{variant:"pills",className:"sub-nav"},r.a.createElement(P.a.Item,null,r.a.createElement(P.a.Link,{eventKey:"welcome",className:"sub-nav-link"},r.a.createElement(M.h,{className:"btn-icon"}),"Welcome")),r.a.createElement(P.a.Item,null,r.a.createElement(P.a.Link,{eventKey:"settings",className:"sub-nav-link"},r.a.createElement(M.g,{className:"btn-icon"}),"Settings")))),r.a.createElement(j.a,{md:9,lg:10},r.a.createElement(S.a.Content,null,r.a.createElement(S.a.Pane,{eventKey:"welcome"},r.a.createElement(C,null)),r.a.createElement(S.a.Pane,{eventKey:"settings"},r.a.createElement(x,{config:this.props.config,tournamentName:this.props.tournamentName,updateTournamentName:this.props.updateTournamentName,updateConfig:this.props.updateConfig}))))))}}]),a}(r.a.Component),U=a(27),A=(a(88),function(e){Object(d.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).state={name:n.props.speaker.name,school:n.props.speaker.school,disqualified:n.props.speaker.disqualified,trashFill:!1},n.handleTextEdit=n.handleTextEdit.bind(Object(u.a)(n)),n.handleTextUpdate=n.handleTextUpdate.bind(Object(u.a)(n)),n.handleDisqUpdate=n.handleDisqUpdate.bind(Object(u.a)(n)),n.trashOnMouseEnter=n.trashOnMouseEnter.bind(Object(u.a)(n)),n.trashOnMouseLeave=n.trashOnMouseLeave.bind(Object(u.a)(n)),n}return Object(m.a)(a,[{key:"handleTextEdit",value:function(e){var t=e.target,a=t.name,n=t.value,r=Object(v.a)({},this.state);r[a]=n,this.setState(r)}},{key:"handleTextUpdate",value:function(e){e.preventDefault();var t=e.target.name,a=this.state[t],n=this.props.speaker;n[t]=a,this.props.updateSpeaker(n)}},{key:"handleDisqUpdate",value:function(e){var t=e.target.checked,a=this.props.speaker;a.disqualified=t,this.setState({disqualified:t}),this.props.updateSpeaker(a)}},{key:"trashOnMouseEnter",value:function(){this.setState({trashFill:!0})}},{key:"trashOnMouseLeave",value:function(){this.setState({trashFill:!1})}},{key:"render",value:function(){var e=this,t=this.props.speaker;return r.a.createElement("tr",{key:"speaker-row-".concat(t.speakerID)},r.a.createElement("td",{className:"editable"},r.a.createElement("textarea",{className:"cell-valupdate",name:"name",rows:1,cols:this.state.name.length>8?this.state.name.length:8,autoComplete:"off",spellCheck:"false",value:this.state.name,onChange:this.handleTextEdit,onBlur:this.handleTextUpdate})),r.a.createElement("td",{className:"editable"},r.a.createElement("textarea",{className:"cell-valupdate",name:"school",rows:1,cols:this.state.school.length>8?this.state.school.length:8,autoComplete:"off",spellCheck:"false",value:this.state.school,onChange:this.handleTextEdit,onBlur:this.handleTextUpdate})),r.a.createElement("td",{className:"cell-low-padding"},r.a.createElement(y.a.Check,{id:"speaker-disq-".concat(t.speakerID),type:"switch",name:"disqualified",label:"",onChange:this.handleDisqUpdate,checked:this.state.disqualified,className:this.state.disqualified?"on":"off"})),r.a.createElement("td",{className:"table-delete"},this.state.trashFill?r.a.createElement(M.o,{role:"button",className:"icon red",onMouseEnter:this.trashOnMouseEnter,onMouseLeave:this.trashOnMouseLeave,onClick:function(){return e.props.deleteSpeaker(t)}}):r.a.createElement(M.n,{role:"button",className:"icon",onMouseEnter:this.trashOnMouseEnter,onMouseLeave:this.trashOnMouseLeave,onClick:function(){return e.props.deleteSpeaker(t)}})))}}]),a}(r.a.Component)),L=a(28),K=a(20),H=a(32),B=function(e){Object(d.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).state={addSpeakerForm:{speakerName:"",school:""}},n.handleAddSpeakerFormChange=n.handleAddSpeakerFormChange.bind(Object(u.a)(n)),n.handleAddSpeakerFormSubmit=n.handleAddSpeakerFormSubmit.bind(Object(u.a)(n)),n.updateSpeaker=n.updateSpeaker.bind(Object(u.a)(n)),n.deleteSpeaker=n.deleteSpeaker.bind(Object(u.a)(n)),n}return Object(m.a)(a,[{key:"handleAddSpeakerFormChange",value:function(e){var t=e.target,a=t.name,n=t.value,r=Object(v.a)({},this.state.addSpeakerForm);r[a]=n,this.setState({addSpeakerForm:r})}},{key:"handleAddSpeakerFormSubmit",value:function(e){e.preventDefault();var t=this.props.speakers,a=JSON.parse(localStorage.getItem("speakerCounter")),n={speakerID:a++,name:this.state.addSpeakerForm.speakerName,school:this.state.addSpeakerForm.school,scores:[0,0,0],ranks:[0,0,0],wins:0,disqualified:!1};t.push(n),localStorage.setItem("speakerCounter",JSON.stringify(a)),this.props.updateSpeakers(t);var r=Object(v.a)({},this.state.addSpeakerForm);r.speakerName="",this.setState({addSpeakerForm:r})}},{key:"updateSpeaker",value:function(e){var t=this.props.speakers,a=t.indexOf(e);t[a]=e,this.props.updateSpeakers(t)}},{key:"deleteSpeaker",value:function(e){var t,a=Object(U.a)(this.props.teams);try{for(a.s();!(t=a.n()).done;){var n=t.value;if(n.round1.includes(e.speakerID)||n.round2.includes(e.speakerID)||n.round3.includes(e.speakerID))return void window.alert("This speaker is still part of team ".concat(n.name,". You need to remove them from the team before you can delete them."))}}catch(s){a.e(s)}finally{a.f()}if(window.confirm("Are you sure you want to delete speaker ".concat(e.name,"?"))){var r=this.props.speakers,o=r.indexOf(e);r.splice(o,1),this.props.updateSpeakers(r)}}},{key:"render",value:function(){var e,t=this;return e=0===this.props.speakers.length?r.a.createElement("p",{className:"none-yet"},"No speakers yet!"):r.a.createElement(L.a,{className:"speaker-table",hover:!0,bordered:!0},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Name"),r.a.createElement("th",null,"School"),r.a.createElement("th",null,r.a.createElement(K.a,{placement:"top",overlay:r.a.createElement(H.a,{id:"tooltip-disqualify-info"},"Disqualified speakers can still be added to teams and receive scores, but won't be listed in the ranking")},r.a.createElement("abbr",{title:""},"Disq"))),r.a.createElement("th",{className:"table-delete"},r.a.createElement(M.o,{className:"icon"})))),r.a.createElement("tbody",null,this.props.speakers.map((function(e){return r.a.createElement(A,{key:"speaker-row-".concat(e.speakerID),speaker:e,updateSpeaker:t.updateSpeaker,deleteSpeaker:t.deleteSpeaker})})))),r.a.createElement("div",null,r.a.createElement("h2",null,"Speakers"),r.a.createElement(T.a,null,r.a.createElement(j.a,null,r.a.createElement(y.a,{onSubmit:this.handleAddSpeakerFormSubmit},r.a.createElement(y.a.Row,null,r.a.createElement(j.a,{md:4},r.a.createElement(y.a.Control,{name:"speakerName",type:"text",placeholder:"Name",value:this.state.addSpeakerForm.speakerName,onChange:this.handleAddSpeakerFormChange})),r.a.createElement(j.a,{md:4},r.a.createElement(y.a.Control,{name:"school",type:"text",placeholder:"School",value:this.state.addSpeakerForm.school,onChange:this.handleAddSpeakerFormChange})),r.a.createElement(j.a,null,r.a.createElement(N.a,{variant:"primary",className:"btn-submit",type:"submit"},"Add speaker")))))),r.a.createElement(T.a,null,r.a.createElement(j.a,{lg:10,xl:8,className:"table-col"},e)))}}]),a}(r.a.Component),_=(a(89),function(e){Object(d.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).state={value:"score"===n.props.type?n.props.speaker.scores[n.props.round].toString():n.props.speaker.ranks[n.props.round].toString()},n.handleEdit=n.handleEdit.bind(Object(u.a)(n)),n.handleUpdate=n.handleUpdate.bind(Object(u.a)(n)),n}return Object(m.a)(a,[{key:"handleEdit",value:function(e){this.setState({value:e.target.value})}},{key:"handleUpdate",value:function(e){e.preventDefault();var t=this.state.value;t&&!isNaN(Number(t))||(t="0"),this.props.fn(this.props.speaker,this.props.round,Number(t))}},{key:"render",value:function(){return r.a.createElement("textarea",{rows:1,cols:"score"===this.props.type?2:1,maxLength:"score"===this.props.type?2:1,autoComplete:"off",value:this.state.value,onChange:this.handleEdit,onBlur:this.handleUpdate})}}]),a}(r.a.Component)),q=function(e){Object(d.a)(a,e);var t=Object(p.a)(a);function a(e){var n,r;return Object(c.a)(this,a),r=1===(n=t.call(this,e)).props.round?"round1":2===n.props.round?"round2":"round3",n.state={value:n.props.team[r][n.props.speakerPos]},n.handleFormChange=n.handleFormChange.bind(Object(u.a)(n)),n}return Object(m.a)(a,[{key:"handleFormChange",value:function(e){var t=parseInt(e.target.value);this.setState({value:t}),this.props.handleUpdateTeamFormChange(t,this.props.speakerPos,this.props.round)}},{key:"render",value:function(){return r.a.createElement(j.a,null,r.a.createElement(y.a.Group,{controlId:"form-update-team-".concat(this.props.team.teamID,"-speaker-").concat(this.props.speakerPos,"-round-").concat(this.props.round)},r.a.createElement(y.a.Label,null,"Round ",this.props.round),r.a.createElement(y.a.Control,{as:"select",name:"speaker-".concat(this.props.speakerPos,"-round-").concat(this.props.round),value:this.state.value,onChange:this.handleFormChange},2===this.props.speakerPos?r.a.createElement("option",{value:-1},"[averaged third speaker]"):"",this.props.speakerPicker)))}}]),a}(r.a.Component),G=function(e){Object(d.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).state={win:n.props.team.wins[n.props.round-1]},n.handleWinFormUpdate=n.handleWinFormUpdate.bind(Object(u.a)(n)),n}return Object(m.a)(a,[{key:"handleWinFormUpdate",value:function(e){var t=this.props.team;"true"===e.target.value?(t.wins[this.props.round-1]=!0,t.totalWins+=1,this.setState({win:!0})):(t.wins[this.props.round-1]=!1,t.totalWins-=1,this.setState({win:!1})),this.props.updateTeam(t)}},{key:"render",value:function(){return r.a.createElement(y.a,null,r.a.createElement(y.a.Control,{as:"select",name:"win-form-".concat(this.props.team.teamID,"-round-").concat(this.props.round),value:this.state.win.toString(),onChange:this.handleWinFormUpdate},r.a.createElement("option",{value:"true"},"Win"),r.a.createElement("option",{value:"false"},"Loss")))}}]),a}(r.a.Component),Y=a(22),z=function(e){Object(d.a)(a,e);var t=Object(p.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(m.a)(a,[{key:"render",value:function(){return r.a.createElement(K.a,{placement:"top",overlay:r.a.createElement(Y.a,{className:"popover-explainer",id:"tooltip-totalspeakerpoints"},r.a.createElement(Y.a.Content,null,'There are two ways to handle two-person teams. When choosing "averaged third speaker", the points and ranks for both speakers will be averaged. If instead you want the speeches of one team member to count double, create a new "ghost" speaker in the Speakers tab, disqualify them, and add them here.'))},r.a.createElement(M.i,{className:"icon-info"}))}}]),a}(r.a.Component);function V(e){for(var t=[],a=0;a<3;a++)t.push(e.round1[a]),t.push(e.round2[a]),t.push(e.round3[a]);return Object(l.a)(new Set(t))}var $=function(e){Object(d.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).state={name:n.props.team.name,speakers:V(n.props.team),updateTeamForm:[[n.props.team.round1[0],n.props.team.round2[0],n.props.team.round3[0]],[n.props.team.round1[1],n.props.team.round2[1],n.props.team.round3[1]],[n.props.team.round1[2],n.props.team.round2[2],n.props.team.round3[2]]],showModal:!1,showWarning:!1,trashFill:!1,peopleFill:!1},n.handleTeamNameEdit=n.handleTeamNameEdit.bind(Object(u.a)(n)),n.handleTeamNameUpdate=n.handleTeamNameUpdate.bind(Object(u.a)(n)),n.setScore=n.setScore.bind(Object(u.a)(n)),n.setRank=n.setRank.bind(Object(u.a)(n)),n.modalShow=n.modalShow.bind(Object(u.a)(n)),n.modalHide=n.modalHide.bind(Object(u.a)(n)),n.handleUpdateTeamFormChange=n.handleUpdateTeamFormChange.bind(Object(u.a)(n)),n.handleTeamUpdate=n.handleTeamUpdate.bind(Object(u.a)(n)),n.trashOnMouseEnter=n.trashOnMouseEnter.bind(Object(u.a)(n)),n.trashOnMouseLeave=n.trashOnMouseLeave.bind(Object(u.a)(n)),n.peopleOnMouseEnter=n.peopleOnMouseEnter.bind(Object(u.a)(n)),n.peopleOnMouseLeave=n.peopleOnMouseLeave.bind(Object(u.a)(n)),n}return Object(m.a)(a,[{key:"handleTeamNameEdit",value:function(e){this.setState({name:e.target.value})}},{key:"handleTeamNameUpdate",value:function(e){e.preventDefault();var t=this.state.name,a=this.props.team;a.name=t,this.props.updateTeam(a)}},{key:"modalShow",value:function(){this.setState({showModal:!0})}},{key:"modalHide",value:function(){this.setState({showModal:!1})}},{key:"setScore",value:function(e,t,a){var n=this.props.speakers;n.find((function(t){return t.speakerID.toString()===e.speakerID.toString()})).scores[t]=a,this.props.updateSpeakers(n)}},{key:"setRank",value:function(e,t,a){var n=this.props.speakers;n.find((function(t){return t.speakerID.toString()===e.speakerID.toString()})).ranks[t]=a,this.props.updateSpeakers(n)}},{key:"handleUpdateTeamFormChange",value:function(e,t,a){var n=this.state.updateTeamForm;n[t][a-1]=e,this.setState({updateTeamForm:n})}},{key:"handleTeamUpdate",value:function(e){e.preventDefault();var t=Object(l.a)(this.state.updateTeamForm);if(t[0][0]===t[1][0]||t[0][0]===t[2][0]||t[1][0]===t[2][0]||t[0][1]===t[1][1]||t[0][1]===t[2][1]||t[1][1]===t[2][1]||t[0][2]===t[1][2]||t[0][2]===t[2][2]||t[1][2]===t[2][2])return this.setState({showWarning:!0}),!1;var a=this.props.team;a.round1=[t[0][0],t[1][0],t[2][0]],a.round2=[t[0][1],t[1][1],t[2][1]],a.round3=[t[0][2],t[1][2],t[2][2]],this.props.updateTeam(a),this.setState({speakers:V(this.props.team)}),this.setState({showWarning:!1}),this.modalHide()}},{key:"trashOnMouseEnter",value:function(){this.setState({trashFill:!0})}},{key:"trashOnMouseLeave",value:function(){this.setState({trashFill:!1})}},{key:"peopleOnMouseEnter",value:function(){this.setState({peopleFill:!0})}},{key:"peopleOnMouseLeave",value:function(){this.setState({peopleFill:!1})}},{key:"render",value:function(){var e=this,t=this.props.team,a=this.state.speakers.map((function(t){return-1===t?null:e.props.speakers.find((function(e){return e.speakerID===t}))}));if(a.includes(null)){var n=a.indexOf(null);a[n]={speakerID:-1,name:"[averaged third speaker]",school:"",scores:[(a[0].scores[0]+a[1].scores[0])/2,(a[0].scores[1]+a[1].scores[1])/2,(a[0].scores[2]+a[1].scores[2])/2],ranks:[(a[0].ranks[0]+a[1].ranks[0])/2,(a[0].ranks[1]+a[1].ranks[1])/2,(a[0].ranks[2]+a[1].ranks[2])/2],wins:0,disqualified:!0}}var o=a.map((function(a){if(-1===(a=a).speakerID)return r.a.createElement("tr",{key:"".concat(t.teamID,"-average-third")});var n=e.props.team.round1.includes(a.speakerID),o=e.props.team.round2.includes(a.speakerID),s=e.props.team.round3.includes(a.speakerID),l=0;n&&(l+=a.scores[0]),o&&(l+=a.scores[1]),s&&(l+=a.scores[2]);var i=0;return n&&(i+=a.ranks[0]),o&&(i+=a.ranks[1]),s&&(i+=a.ranks[2]),r.a.createElement("tr",{key:"".concat(a.name,"-").concat(e.props.div,"-row")},r.a.createElement("td",null,a.name),[n,o,s].map((function(t,n){return["score","rank"].map((function(o){return r.a.createElement("td",{className:t?"editable":"disabled"},r.a.createElement(_,{key:"teamcell-".concat(a.speakerID,"-").concat(n,"-").concat(o),type:o,speaker:a,round:n,fn:"score"===o?e.setScore:e.setRank}))}))})),r.a.createElement("td",null,l),r.a.createElement("td",null,i))})),s=0;a.forEach((function(t){e.props.team.round1.includes(t.speakerID)&&(s+=t.scores[0])}));var l=0;a.forEach((function(t){e.props.team.round2.includes(t.speakerID)&&(l+=t.scores[1])}));var i=0;a.forEach((function(t){e.props.team.round3.includes(t.speakerID)&&(i+=t.scores[2])}));var c=0;a.forEach((function(t){e.props.team.round1.includes(t.speakerID)&&(c+=t.ranks[0])}));var m=0;a.forEach((function(t){e.props.team.round2.includes(t.speakerID)&&(m+=t.ranks[1])}));var u=0;a.forEach((function(t){e.props.team.round3.includes(t.speakerID)&&(u+=t.ranks[2])})),t.totalPoints=s+l+i;var d=this.props.teams,p=d.findIndex((function(e){return e.teamID===t.teamID}));d[p]=t,1===this.props.div?localStorage.setItem("teamsOne",JSON.stringify(d)):localStorage.setItem("teamsTwo",JSON.stringify(d));var h=[0,1,2].map((function(a){return r.a.createElement("div",{key:"teamSpeakerSelectRow-team-".concat(t.teamID,"-speaker-").concat(a),className:"form-update-team-speaker"},r.a.createElement("p",null,"Speaker ",a+1),2===a?r.a.createElement(z,null):"",r.a.createElement(y.a.Row,null,[1,2,3].map((function(n){return r.a.createElement(q,{key:"teamSpeakerSelect-team-".concat(t.teamID,"-speaker-").concat(n,"-round-").concat(n),team:t,speakerPos:a,round:n,value:e.state.updateTeamForm,handleUpdateTeamFormChange:e.handleUpdateTeamFormChange,speakerPicker:e.props.speakerPicker})}))))}));return r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("td",{rowSpan:this.state.speakers.length+3,className:"cell-teamname"},r.a.createElement("textarea",{className:"cell-valupdate",rows:1,cols:this.state.name.length>8?this.state.name.length:8,autoComplete:"off",spellCheck:"false",value:this.state.name,onChange:this.handleTeamNameEdit,onBlur:this.handleTeamNameUpdate}),r.a.createElement("br",null),this.state.peopleFill?r.a.createElement(M.l,{role:"button",className:"icon",onMouseEnter:this.peopleOnMouseEnter,onMouseLeave:this.peopleOnMouseLeave,onClick:this.modalShow}):r.a.createElement(M.k,{role:"button",className:"icon",onMouseEnter:this.peopleOnMouseEnter,onMouseLeave:this.peopleOnMouseLeave,onClick:this.modalShow}),this.state.trashFill?r.a.createElement(M.o,{role:"button",className:"icon red",onMouseEnter:this.trashOnMouseEnter,onMouseLeave:this.trashOnMouseLeave,onClick:function(){return e.props.deleteTeam(t)}}):r.a.createElement(M.n,{role:"button",className:"icon",onMouseEnter:this.trashOnMouseEnter,onMouseLeave:this.trashOnMouseLeave,onClick:function(){return e.props.deleteTeam(t)}}))),o,r.a.createElement("tr",{className:"row-total"},r.a.createElement("td",null,"Team total"),r.a.createElement("td",null,s),r.a.createElement("td",null,c),r.a.createElement("td",null,l),r.a.createElement("td",null,m),r.a.createElement("td",null,i),r.a.createElement("td",null,u),r.a.createElement("td",null,s+l+i),r.a.createElement("td",null,c+m+u)),r.a.createElement("tr",{className:"row-wins"},r.a.createElement("td",null,"Team wins"),r.a.createElement("td",{colSpan:2},r.a.createElement(G,{team:this.props.team,round:1,updateTeam:this.props.updateTeam})),r.a.createElement("td",{colSpan:2},r.a.createElement(G,{team:this.props.team,round:2,updateTeam:this.props.updateTeam})),r.a.createElement("td",{colSpan:2},r.a.createElement(G,{team:this.props.team,round:3,updateTeam:this.props.updateTeam})),r.a.createElement("td",{colSpan:2,className:"cell-totalwins"},"Total wins: ",t.totalWins)),r.a.createElement(k.a,{show:this.state.showModal,size:"lg",onHide:this.modalHide},r.a.createElement(k.a.Header,{closeButton:!0},r.a.createElement(k.a.Title,null,"Specify team members per round")),r.a.createElement(k.a.Body,null,r.a.createElement(y.a,{onSubmit:this.handleTeamUpdate},h,r.a.createElement("p",{className:"red ".concat(this.state.showWarning?"":"hidden")},"You can't add a speaker to the same round more than once!"),r.a.createElement(N.a,{variant:"primary",className:"btn-submit",type:"submit"},"Save")))))}}]),a}(r.a.Component),Q=function(e){Object(d.a)(a,e);var t=Object(p.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(m.a)(a,[{key:"render",value:function(){var e=this;return r.a.createElement(L.a,{hover:!0,className:"team-table table-no-top-margin"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Team"),r.a.createElement("th",null,"Speakers"),r.a.createElement("th",null,"R1 Score"),r.a.createElement("th",null,"R1 Rank"),r.a.createElement("th",null,"R2 Score"),r.a.createElement("th",null,"R2 Rank"),r.a.createElement("th",null,"R3 Score"),r.a.createElement("th",null,"R3 Rank"),r.a.createElement("th",null,"Total Score"),r.a.createElement("th",null,"Total Rank"))),this.props.teams.map((function(t){return r.a.createElement($,{key:"".concat(t.name,"-row"),team:t,div:e.props.div,speakers:e.props.speakers,teams:e.props.teams,updateSpeakers:e.props.updateSpeakers,updateTeam:e.props.updateTeam,deleteTeam:e.props.deleteTeam,speakerPicker:e.props.speakerPicker})})))}}]),a}(r.a.Component),X=function(e){Object(d.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).state={addTeamForm:{teamName:"",speaker1:0,speaker2:0,speaker3:0},showModal:!1,showWarning:!1},n.modalShow=n.modalShow.bind(Object(u.a)(n)),n.modalHide=n.modalHide.bind(Object(u.a)(n)),n.handleAddTeamFormChange=n.handleAddTeamFormChange.bind(Object(u.a)(n)),n.handleAddTeamFormSubmit=n.handleAddTeamFormSubmit.bind(Object(u.a)(n)),n.updateTeam=n.updateTeam.bind(Object(u.a)(n)),n.deleteTeam=n.deleteTeam.bind(Object(u.a)(n)),n}return Object(m.a)(a,[{key:"modalShow",value:function(){this.setState({showModal:!0})}},{key:"modalHide",value:function(){this.setState({showModal:!1})}},{key:"handleAddTeamFormChange",value:function(e){var t=e.target.name,a=e.target.value;"teamName"!==t&&(a=Number(a));var n=Object(v.a)({},this.state.addTeamForm);n[t]=a,this.setState({addTeamForm:n})}},{key:"handleAddTeamFormSubmit",value:function(e){e.preventDefault();var t=Object(v.a)({},this.state.addTeamForm);if(t.speaker1===t.speaker2||t.speaker1===t.speaker3||t.speaker2===t.speaker3)return this.setState({showWarning:!0}),!1;var a=this.props.teams,n=JSON.parse(localStorage.getItem("teamCounter")),r=[t.speaker1,t.speaker2,t.speaker3],o={teamID:n++,name:t.teamName,round1:r,round2:r,round3:r,totalPoints:0,wins:[!1,!1,!1],totalWins:0};a.push(o),localStorage.setItem("teamCounter",JSON.stringify(n)),this.props.updateTeams(a),this.setState({showWarning:!1}),this.modalHide()}},{key:"updateTeam",value:function(e){var t=this.props.teams,a=t.findIndex((function(t){return t.teamID===e.teamID}));t[a]=e,this.props.updateTeams(t)}},{key:"deleteTeam",value:function(e){var t=JSON.parse(localStorage.getItem("draws"));for(var a in t){var n=void 0;n=1===this.props.div?t[a].roomsOne:t[a].roomsTwo;var r,o=Object(U.a)(n);try{for(o.s();!(r=o.n()).done;){var s=r.value;if(s.prop===e.teamID||s.opp===e.teamID)return void alert("This team has already started the tournament. You can't delete it anymore. You can still replace its speakers.")}}catch(i){o.e(i)}finally{o.f()}}if(window.confirm("Are you sure you want to delete team ".concat(e.name,"?"))){var l=this.props.teams;l=l.filter((function(t){return t.teamID!==e.teamID})),this.props.updateTeams(l)}}},{key:"render",value:function(){var e=!1;0===this.props.teams.length&&(e=!0);var t,a=this.props.speakers.map((function(e){return r.a.createElement("option",{value:e.speakerID,key:"option-".concat(e.speakerID)},e.name)}));return t=e?r.a.createElement("p",{className:"none-yet"},"No teams yet!"):r.a.createElement(Q,{div:this.props.div,speakers:this.props.speakers,teams:this.props.teams,updateSpeakers:this.props.updateSpeakers,updateTeam:this.updateTeam,deleteTeam:this.deleteTeam,speakerPicker:a}),r.a.createElement("div",null,r.a.createElement("h2",null,"Teams",r.a.createElement(N.a,{onClick:this.modalShow},"Add team"),r.a.createElement("div",{className:"hint-add-team ".concat(e?"":"hidden")},r.a.createElement("span",null,">"),r.a.createElement("span",null,">"),r.a.createElement("span",null,">"))),t,r.a.createElement(k.a,{show:this.state.showModal,onHide:this.modalHide},r.a.createElement(k.a.Header,{closeButton:!0},r.a.createElement(k.a.Title,null,"Add a team")),r.a.createElement(k.a.Body,null,r.a.createElement(y.a,{onSubmit:this.handleAddTeamFormSubmit},r.a.createElement(y.a.Group,{controlId:"form-add-team-".concat(this.props.div,"-name")},r.a.createElement(y.a.Label,null,"Team name"),r.a.createElement(y.a.Control,{type:"text",name:"teamName",value:this.state.addTeamForm.teamName,onChange:this.handleAddTeamFormChange})),r.a.createElement(y.a.Group,{controlId:"form-add-team-".concat(this.props.div,"-speaker-1")},r.a.createElement(y.a.Label,null,"Speaker 1"),r.a.createElement(y.a.Control,{as:"select",name:"speaker1",value:this.state.addTeamForm.speaker1,onChange:this.handleAddTeamFormChange},r.a.createElement("option",null,"-- pick a speaker --"),a)),r.a.createElement(y.a.Group,{controlId:"form-add-team-".concat(this.props.div,"-speaker-2")},r.a.createElement(y.a.Label,null,"Speaker 2"),r.a.createElement(y.a.Control,{as:"select",name:"speaker2",value:this.state.addTeamForm.speaker2,onChange:this.handleAddTeamFormChange},r.a.createElement("option",null,"-- pick a speaker --"),a)),r.a.createElement(y.a.Group,{controlId:"form-add-team-".concat(this.props.div,"-speaker-3")},r.a.createElement(y.a.Label,null,"Speaker 3"),r.a.createElement(z,null),r.a.createElement(y.a.Control,{as:"select",name:"speaker3",value:this.state.addTeamForm.speaker3,onChange:this.handleAddTeamFormChange},r.a.createElement("option",null,"-- pick a speaker --"),r.a.createElement("option",{value:"avg"},"[averaged third speaker]"),a)),r.a.createElement("p",{className:"red ".concat(this.state.showWarning?"":"hidden")},"You can't add a speaker to a team more than once!"),r.a.createElement(N.a,{variant:"primary",className:"btn-submit",type:"submit"},"Add")))))}}]),a}(r.a.Component),Z=function(e){Object(d.a)(a,e);var t=Object(p.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(m.a)(a,[{key:"render",value:function(){var e=this.props.speakers,t=this.props.teams,a=e.slice(0).filter((function(e){return!1===e.disqualified})).sort((function(e,a){var n=e.scores.reduce((function(e,t){return e+t}),0),r=a.scores.reduce((function(e,t){return e+t}),0);if(n>r)return-1;if(n<r)return 1;var o=e.ranks.reduce((function(e,t){return e+t}),0),s=a.ranks.reduce((function(e,t){return e+t}),0);if(o<s)return-1;if(o>s)return 1;var l=t.find((function(t){return t.round1.includes(e.speakerID)})),i=t.find((function(e){return e.round1.includes(a.speakerID)})),c=void 0===l?0:l.totalWins,m=void 0===i?0:i.totalWins;if(c>m)return-1;if(c<m)return 1;var u=void 0===l?0:l.totalPoints,d=void 0===i?0:i.totalPoints;return u>d?-1:1})).map((function(e,a){var n=t.find((function(t){return t.round1.includes(e.speakerID)}));return void 0===n&&(n={teamID:-1,name:"",round1:[],round2:[],round3:[],totalPoints:0,wins:[],totalWins:0}),r.a.createElement("tr",{key:"speaker-rank-".concat(a+1)},r.a.createElement("td",null,a+1),r.a.createElement("td",null,e.name),r.a.createElement("td",null,e.school),r.a.createElement("td",null,e.scores.reduce((function(e,t){return e+t}),0)),r.a.createElement("td",null,e.ranks.reduce((function(e,t){return e+t}),0)),r.a.createElement("td",null,n.totalWins),r.a.createElement("td",null,n.totalPoints))})),n=t.slice(0).sort((function(e,t){var a=e.totalWins,n=t.totalWins;if(a>n)return-1;if(a<n)return 1;var r=e.totalPoints,o=t.totalPoints;return r>o?-1:1})).map((function(t,a){var n,o=V(t),s=[],l=Object(U.a)(o);try{var i=function(){var t=n.value,a=e.find((function(e){return e.speakerID===t}));return void 0===a||!0===a.disqualified?"continue":void s.push(a.name)};for(l.s();!(n=l.n()).done;)i()}catch(m){l.e(m)}finally{l.f()}var c=s.map((function(e,t){return t<s.length-1?r.a.createElement(r.a.Fragment,null,e,", "):r.a.createElement(r.a.Fragment,null,e)}));return r.a.createElement("tr",{key:"team-rank-".concat(a+1)},r.a.createElement("td",null,a+1),r.a.createElement("td",null,r.a.createElement(K.a,{placement:"top",overlay:r.a.createElement(H.a,{id:"tooltip-rank-teamName-".concat(a+1)},c)},r.a.createElement("abbr",{title:""},t.name))),r.a.createElement("td",null,t.totalWins),r.a.createElement("td",null,t.totalPoints))}));return r.a.createElement("div",null,r.a.createElement("h2",null,"Ranking"),r.a.createElement(T.a,null,r.a.createElement(j.a,{lg:7,className:"table-col"},r.a.createElement("h3",null,"Speakers"),r.a.createElement(L.a,{striped:!0,className:"speaker-ranking-table table-no-top-margin table-less-bottom-margin-sm"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"#"),r.a.createElement("th",null,"Name"),r.a.createElement("th",null,"School"),r.a.createElement("th",null,r.a.createElement(K.a,{placement:"top",overlay:r.a.createElement(H.a,{id:"tooltip-totalspeakerpoints"},"Total speaker points")},r.a.createElement("abbr",{title:""},"\u03a3SP"))),r.a.createElement("th",null,r.a.createElement(K.a,{placement:"top",overlay:r.a.createElement(H.a,{id:"tooltip-totalspeakerranks"},"Total speaker ranks",r.a.createElement("br",null),"(lower is better)")},r.a.createElement("abbr",{title:""},"\u03a3SR"))),r.a.createElement("th",null,r.a.createElement(K.a,{placement:"top",overlay:r.a.createElement(H.a,{id:"tooltip-totalteamwins"},"Total team wins")},r.a.createElement("abbr",{title:""},"\u03a3TW"))),r.a.createElement("th",null,r.a.createElement(K.a,{placement:"top",overlay:r.a.createElement(H.a,{id:"tooltip-totalteampoints"},"Total team points")},r.a.createElement("abbr",{title:""},"\u03a3TP"))))),r.a.createElement("tbody",null,a))),r.a.createElement(j.a,{lg:5,className:"table-col table-col-margin-lg"},r.a.createElement("h3",null,"Teams"),r.a.createElement(L.a,{striped:!0,className:"table-no-top-margin"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"#"),r.a.createElement("th",null,"Name"),r.a.createElement("th",null,r.a.createElement(K.a,{placement:"top",overlay:r.a.createElement(H.a,{id:"tooltip-totalteamwins"},"Total team wins")},r.a.createElement("abbr",{title:""},"\u03a3TW"))),r.a.createElement("th",null,r.a.createElement(K.a,{placement:"top",overlay:r.a.createElement(H.a,{id:"tooltip-totalteampoints"},"Total team points")},r.a.createElement("abbr",{title:""},"\u03a3TP"))))),r.a.createElement("tbody",null,n)))))}}]),a}(r.a.Component),ee=function(e){Object(d.a)(a,e);var t=Object(p.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(m.a)(a,[{key:"render",value:function(){return r.a.createElement(S.a.Container,{id:"part-view-".concat(this.props.div),defaultActiveKey:"speakers",transition:!1},r.a.createElement(T.a,null,r.a.createElement(j.a,{md:3,lg:2},r.a.createElement(P.a,{variant:"pills",className:"sub-nav"},r.a.createElement(P.a.Item,null,r.a.createElement(P.a.Link,{eventKey:"speakers",className:"sub-nav-link"},r.a.createElement(M.m,{className:"btn-icon"}),"Speakers")),r.a.createElement(P.a.Item,null,r.a.createElement(P.a.Link,{eventKey:"teams",className:"sub-nav-link"},r.a.createElement(M.l,{className:"btn-icon"}),"Teams")),r.a.createElement(P.a.Item,null,r.a.createElement(P.a.Link,{eventKey:"ranking",className:"sub-nav-link"},r.a.createElement(M.p,{className:"btn-icon"}),"Ranking")))),r.a.createElement(j.a,{md:9,lg:10},r.a.createElement(S.a.Content,null,r.a.createElement(S.a.Pane,{eventKey:"speakers"},r.a.createElement(B,{speakers:this.props.speakers,teams:this.props.teams,updateSpeakers:this.props.updateSpeakers})),r.a.createElement(S.a.Pane,{eventKey:"teams"},r.a.createElement(X,{div:this.props.div,speakers:this.props.speakers,teams:this.props.teams,updateSpeakers:this.props.updateSpeakers,updateTeams:this.props.updateTeams})),r.a.createElement(S.a.Pane,{eventKey:"ranking"},r.a.createElement(Z,{speakers:this.props.speakers,teams:this.props.teams}))))))}}]),a}(r.a.Component),te=(a(90),function(e){Object(d.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).state={name:n.props.judge.name,school:n.props.judge.school,canChair:n.props.judge.canChair,atRound1:n.props.judge.atRound1,atRound2:n.props.judge.atRound2,atRound3:n.props.judge.atRound3,trashFill:!1},n.handleTextEdit=n.handleTextEdit.bind(Object(u.a)(n)),n.handleTextUpdate=n.handleTextUpdate.bind(Object(u.a)(n)),n.handleJudgeToggle=n.handleJudgeToggle.bind(Object(u.a)(n)),n.trashOnMouseEnter=n.trashOnMouseEnter.bind(Object(u.a)(n)),n.trashOnMouseLeave=n.trashOnMouseLeave.bind(Object(u.a)(n)),n}return Object(m.a)(a,[{key:"handleTextEdit",value:function(e){var t=e.target,a=t.name,n=t.value,r=Object(v.a)({},this.state);r[a]=n,this.setState(r)}},{key:"handleTextUpdate",value:function(e){e.preventDefault();var t=e.target.name,a=this.state[t],n=this.props.judge;n[t]=a,this.props.updateJudge(n)}},{key:"handleJudgeToggle",value:function(e){var t=e.target,a=t.name,n=t.checked,r=this.props.judge;r[a]=n,this.setState(Object(i.a)({},a,n)),this.props.updateJudge(r)}},{key:"trashOnMouseEnter",value:function(){this.setState({trashFill:!0})}},{key:"trashOnMouseLeave",value:function(){this.setState({trashFill:!1})}},{key:"render",value:function(){var e=this,t=this.props.judge;return r.a.createElement("tr",null,r.a.createElement("td",{className:"judge-table-name editable"},r.a.createElement("textarea",{className:"cell-valupdate",name:"name",rows:1,cols:this.state.name.length>8?this.state.name.length:8,autoComplete:"off",spellCheck:"false",value:this.state.name,onChange:this.handleTextEdit,onBlur:this.handleTextUpdate})),r.a.createElement("td",{className:"judge-table-school editable"},r.a.createElement("textarea",{className:"cell-valupdate",name:"school",rows:1,cols:this.state.school.length>8?this.state.school.length:8,autoComplete:"off",spellCheck:"false",value:this.state.school,onChange:this.handleTextEdit,onBlur:this.handleTextUpdate})),r.a.createElement("td",{className:"judge-table-toggle cell-low-padding"},r.a.createElement(y.a.Check,{id:"judge-canchair-".concat(t.judgeID),type:"switch",name:"canChair",label:"",onChange:this.handleJudgeToggle,checked:this.state.canChair,className:this.state.canChair?"on":"off"})),r.a.createElement("td",{className:"judge-table-toggle cell-low-padding"},r.a.createElement(y.a.Check,{id:"judge-r1-".concat(t.judgeID),type:"switch",name:"atRound1",label:"",onChange:this.handleJudgeToggle,checked:this.state.atRound1,className:this.state.atRound1?"on":"off"})),r.a.createElement("td",{className:"judge-table-toggle cell-low-padding"},r.a.createElement(y.a.Check,{id:"judge-r2-".concat(t.judgeID),type:"switch",name:"atRound2",label:"",onChange:this.handleJudgeToggle,checked:this.state.atRound2,className:this.state.atRound2?"on":"off"})),r.a.createElement("td",{className:"judge-table-toggle cell-low-padding"},r.a.createElement(y.a.Check,{id:"judge-r3-".concat(t.judgeID),type:"switch",name:"atRound3",label:"",onChange:this.handleJudgeToggle,checked:this.state.atRound3,className:this.state.atRound3?"on":"off"})),r.a.createElement("td",{className:"table-delete"},this.state.trashFill?r.a.createElement(M.o,{role:"button",className:"icon red",onMouseEnter:this.trashOnMouseEnter,onMouseLeave:this.trashOnMouseLeave,onClick:function(){return e.props.deleteJudge(t)}}):r.a.createElement(M.n,{role:"button",className:"icon",onMouseEnter:this.trashOnMouseEnter,onMouseLeave:this.trashOnMouseLeave,onClick:function(){return e.props.deleteJudge(t)}})))}}]),a}(r.a.Component)),ae=function(e){Object(d.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).state={addJudgeForm:{judgeName:"",school:""}},n.handleAddJudgeFormChange=n.handleAddJudgeFormChange.bind(Object(u.a)(n)),n.handleAddJudgeFormSubmit=n.handleAddJudgeFormSubmit.bind(Object(u.a)(n)),n.updateJudge=n.updateJudge.bind(Object(u.a)(n)),n.deleteJudge=n.deleteJudge.bind(Object(u.a)(n)),n}return Object(m.a)(a,[{key:"handleAddJudgeFormChange",value:function(e){var t=e.target,a=t.name,n=t.value,r=Object(v.a)({},this.state.addJudgeForm);r[a]=n,this.setState({addJudgeForm:r})}},{key:"handleAddJudgeFormSubmit",value:function(e){e.preventDefault();var t=this.props.judges,a=JSON.parse(localStorage.getItem("judgeCounter")),n={judgeID:a++,name:this.state.addJudgeForm.judgeName,school:this.state.addJudgeForm.school,canChair:!1,atRound1:!0,atRound2:!0,atRound3:!0};t.push(n),this.props.updateJudges(t),localStorage.setItem("judgeCounter",JSON.stringify(a));var r=Object(v.a)({},this.state.addJudgeForm);r.name="",this.setState({addJudgeForm:r})}},{key:"updateJudge",value:function(e){var t=this.props.judges,a=t.indexOf(e);t[a]=e,this.props.updateJudges(t)}},{key:"deleteJudge",value:function(e){var t,a=JSON.parse(localStorage.getItem("draws")),n=!1,r=Object(U.a)(a);try{for(r.s();!(t=r.n()).done;){var o,s=t.value,l=Object(U.a)(s.roomsOne);try{for(l.s();!(o=l.n()).done;){var i=o.value;(i.chair===e.judgeID||i.wings.includes(e.judgeID))&&(n=!0)}}catch(h){l.e(h)}finally{l.f()}var c,m=Object(U.a)(s.roomsTwo);try{for(m.s();!(c=m.n()).done;){var u=c.value;(u.chair===e.judgeID||u.wings.includes(e.judgeID))&&(n=!0)}}catch(h){m.e(h)}finally{m.f()}}}catch(h){r.e(h)}finally{r.f()}if(n)return alert("This judge has already taken part in a round. You can't delete them anymore. You can still change their availability for each round."),!1;if(window.confirm("Are you sure you want to delete judge ".concat(e.name,"?"))){var d=this.props.judges,p=d.indexOf(e);d.splice(p,1),this.props.updateJudges(d)}}},{key:"render",value:function(){var e,t=this,a=this.props.judges;0!==this.props.judges.length&&(e=r.a.createElement(L.a,{className:"judge-table table-no-top-margin",hover:!0,bordered:!0},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{className:"judge-table-name"},"Name"),r.a.createElement("th",null,"School"),r.a.createElement("th",{className:"judge-table-toggle"},"Chair?"),r.a.createElement("th",{className:"judge-table-toggle"},"Round 1?"),r.a.createElement("th",{className:"judge-table-toggle"},"Round 2?"),r.a.createElement("th",{className:"judge-table-toggle"},"Round 3?"),r.a.createElement("th",{className:"table-delete"},r.a.createElement(M.o,{className:"icon"})))),r.a.createElement("tbody",null,this.props.judges.map((function(e){return r.a.createElement(te,{key:"judge-row-".concat(e.name),judge:e,updateJudge:t.updateJudge,deleteJudge:t.deleteJudge})})))));var n=Math.round(this.props.getTotalTeams()/2),o=a.filter((function(e){return e.canChair&&e.atRound1})).length,s=a.filter((function(e){return e.canChair&&e.atRound2})).length,l=a.filter((function(e){return e.canChair&&e.atRound3})).length;return r.a.createElement(S.a.Container,{id:"judges-view",defaultActiveKey:"judges",transition:!1},r.a.createElement(T.a,null,r.a.createElement(j.a,{md:3,lg:2},r.a.createElement(P.a,{variant:"pills",className:"sub-nav no-show-sm"},r.a.createElement(P.a.Item,null,r.a.createElement(P.a.Link,{eventKey:"judges",className:"sub-nav-link"},r.a.createElement(M.c,{className:"btn-icon"}),"Judges")))),r.a.createElement(j.a,{md:9,lg:10},r.a.createElement(S.a.Content,null,r.a.createElement(S.a.Pane,{eventKey:"judges"},r.a.createElement("h2",null,"Judges"),r.a.createElement(T.a,null,r.a.createElement(j.a,null,r.a.createElement(y.a,{onSubmit:this.handleAddJudgeFormSubmit},r.a.createElement(y.a.Row,null,r.a.createElement(j.a,{md:4},r.a.createElement(y.a.Control,{name:"judgeName",type:"text",placeholder:"Name",value:this.state.addJudgeForm.judgeName,onChange:this.handleAddJudgeFormChange})),r.a.createElement(j.a,{md:4},r.a.createElement(y.a.Control,{name:"school",type:"text",placeholder:"School",value:this.state.addJudgeForm.school,onChange:this.handleAddJudgeFormChange})),r.a.createElement(j.a,null,r.a.createElement(N.a,{variant:"primary",className:"btn-submit",type:"submit"},"Add judge")))),r.a.createElement("div",{id:"total-judges"},r.a.createElement("p",null,"Total judges each round: ",this.props.judges.filter((function(e){return e.atRound1})).length," \xb7 ",this.props.judges.filter((function(e){return e.atRound2})).length," \xb7 ",this.props.judges.filter((function(e){return e.atRound3})).length,r.a.createElement("br",null),"Total chairs each round: ",o," \xb7 ",s," \xb7 ",l,r.a.createElement("br",null),r.a.createElement("span",{className:n>o||n>s||n>l?"red":""},"Total chairs needed: ",n))))),r.a.createElement(T.a,null,r.a.createElement(j.a,{lg:10,xl:9,className:"table-col"},e)))))))}}]),a}(r.a.Component),ne=(a(91),a(69),function(e){Object(d.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).state={swapTeamID:n.props.team.teamID},n.handleRoomFormChange=n.handleRoomFormChange.bind(Object(u.a)(n)),n.handleRoomFormSubmit=n.handleRoomFormSubmit.bind(Object(u.a)(n)),n}return Object(m.a)(a,[{key:"handleRoomFormChange",value:function(e){this.setState({swapTeamID:parseInt(e.target.value)})}},{key:"handleRoomFormSubmit",value:function(e){e.preventDefault(),this.props.updateRoom(this.props.team.teamID,this.state.swapTeamID),document.body.click()}},{key:"render",value:function(){var e=this,t=r.a.createElement(Y.a,{id:"teampill-popover"},r.a.createElement(Y.a.Title,{as:"h3"},"Switch teams"),r.a.createElement(Y.a.Content,null,r.a.createElement(y.a,{onSubmit:this.handleRoomFormSubmit},this.props.teams.map((function(t,a){return r.a.createElement(y.a.Check,{custom:!0,key:"team-check-".concat(a),id:"team-check-".concat(t.teamID,"-").concat(a),name:"room",type:"radio",label:t.name,value:t.teamID,checked:e.state.swapTeamID===t.teamID,onChange:e.handleRoomFormChange})})),r.a.createElement(N.a,{className:"btn-popover",variant:"primary",type:"submit"},"Change"))));return r.a.createElement(K.a,{trigger:"click",placement:"right",overlay:t,rootClose:!0},r.a.createElement("div",{className:"pill ".concat(this.props.hasConflict?"orange":"")},this.props.team.name))}}]),a}(r.a.Component)),re=function(e){Object(d.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).state={roomID:n.props.room.roomID},n.handleRoomFormChange=n.handleRoomFormChange.bind(Object(u.a)(n)),n.handleRoomFormSubmit=n.handleRoomFormSubmit.bind(Object(u.a)(n)),n}return Object(m.a)(a,[{key:"handleRoomFormChange",value:function(e){this.setState({roomID:parseInt(e.target.value)})}},{key:"handleRoomFormSubmit",value:function(e){e.preventDefault(),this.props.updateRoom(this.props.judge.judgeID,this.props.isChair,this.state.roomID),document.body.click()}},{key:"render",value:function(){var e=this,t=r.a.createElement(Y.a,{id:"judgepill-popover"},r.a.createElement(Y.a.Title,{as:"h3"},"Switch rooms"),r.a.createElement(Y.a.Content,null,this.props.draw.roomsOne.map((function(e){return e.name})).includes("")||this.props.draw.roomsTwo.map((function(e){return e.name})).includes("")?r.a.createElement("p",null,"You need to assign each debate to a room before you can switch judges."):r.a.createElement(y.a,{onSubmit:this.handleRoomFormSubmit},this.props.draw.roomsOne.map((function(t,a){return r.a.createElement(y.a.Check,{custom:!0,key:"room-check-".concat(a),id:"room-check-one-".concat(t.roomID,"-").concat(a),name:"room",type:"radio",label:t.name,value:t.roomID,checked:e.state.roomID===t.roomID,onChange:e.handleRoomFormChange})})),this.props.draw.roomsTwo.map((function(t,a){return r.a.createElement(y.a.Check,{custom:!0,key:"room-check-".concat(a),id:"room-check-two-".concat(t.roomID,"-").concat(a),name:"room",type:"radio",label:t.name,value:t.roomID,checked:e.state.roomID===t.roomID,onChange:e.handleRoomFormChange})})),r.a.createElement(N.a,{className:"btn-popover",variant:"primary",type:"submit"},"Change"))));return r.a.createElement(K.a,{trigger:"click",placement:"right",overlay:t,rootClose:!0},r.a.createElement("div",{className:"\n                    pill\n                    ".concat(this.props.hasConflict?"red":"","\n                    ").concat(this.props.hasChairedBefore?"orange":"","\n                ")},this.props.judge.name,this.props.isChair?"\xa9":""))}}]),a}(r.a.Component),oe=function(e){Object(d.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).state={roomName:n.props.room.name},n.handleRoomChange=n.handleRoomChange.bind(Object(u.a)(n)),n.updateRoomTeam=n.updateRoomTeam.bind(Object(u.a)(n)),n.updateRoomJudge=n.updateRoomJudge.bind(Object(u.a)(n)),n}return Object(m.a)(a,[{key:"componentDidUpdate",value:function(e){this.props.room.name!==e.room.name&&this.setState({roomName:this.props.room.name})}},{key:"handleRoomChange",value:function(e){var t=e.target.value,a=this.props.room;this.setState({roomName:t}),a.name=t,this.props.updateRooms(a,this.props.div)}},{key:"updateRoomTeam",value:function(e,t){var a,n=this.props.div,r=this.props.round-1,o=this.props.draws[r],s=this.props.room;a=1===n?o.roomsOne:o.roomsTwo;var l,i="prop";s.opp===e&&(i="opp");var c,m=Object(U.a)(a);try{for(m.s();!(c=m.n()).done;){var u=c.value;if(u.prop===t){if("prop"===i){var d=[u.prop,s.prop];s.prop=d[0],u.prop=d[1]}else{var p=[u.prop,s.opp];s.opp=p[0],u.prop=p[1]}l=u;break}if(u.opp===t){if("prop"===i){var h=[u.opp,s.prop];s.prop=h[0],u.opp=h[1]}else{var g=[u.opp,s.opp];s.opp=g[0],u.opp=g[1]}l=u;break}}}catch(f){m.e(f)}finally{m.f()}l=l,this.props.updateRooms(l,n),this.props.updateRooms(s,n)}},{key:"updateRoomJudge",value:function(e,t,a){var n,r=this.props.round-1,o=this.props.room,s=this.props.draws[r],l=s.roomsOne.map((function(e){return e.roomID})).includes(a)?1:2,i=(n=1===l?s.roomsOne:s.roomsTwo).findIndex((function(e){return e.roomID===a}));if(t){var c=n[i].chair;if(c===e)return!1;if(!window.confirm("You are about to swap the chairs ".concat(this.props.judges.find((function(t){return t.judgeID===e})).name," and ").concat(this.props.judges.find((function(e){return e.judgeID===c})).name,". Do you wish to continue?")))return!1;n[i].chair=e,o.chair=c}else{n[i].wings.push(e);var m=o.wings.indexOf(e);o.wings.splice(m,1)}this.props.updateRooms(n[i],l),this.props.updateRooms(o,this.props.div)}},{key:"render",value:function(){var e=this,t=this.props.speakers,a=this.props.teams,n=this.props.judges,o=this.props.room,s=this.props.round,l=this.props.draws,i=this.props.div,c=a.find((function(e){return e.teamID===o.prop})),m=a.find((function(e){return e.teamID===o.opp})),u=n.find((function(e){return e.judgeID===o.chair})),d=[];1===s?(c.round1.forEach((function(e){return d.push(t.find((function(t){return t.speakerID===e})))})),m.round1.forEach((function(e){return d.push(t.find((function(t){return t.speakerID===e})))}))):2===s?(c.round2.forEach((function(e){return d.push(t.find((function(t){return t.speakerID===e})))})),m.round2.forEach((function(e){return d.push(t.find((function(t){return t.speakerID===e})))}))):(c.round3.forEach((function(e){return d.push(t.find((function(t){return t.speakerID===e})))})),m.round3.forEach((function(e){return d.push(t.find((function(t){return t.speakerID===e})))})));var p,h=[];d.filter((function(e){return void 0!==e})).forEach((function(e){return h.push(e.school)})),p=1===i?"roomsOne":"roomsTwo";var g=!1;if(2===s||3===s){var f=l[0][p];if(f.map((function(e){return e.prop})).includes(c.teamID))f.find((function(e){return e.prop===c.teamID})).opp===m.teamID&&(g=!0);else f.find((function(e){return e.opp===c.teamID})).prop===m.teamID&&(g=!0)}if(3===s){var v=l[1][p];if(v.map((function(e){return e.prop})).includes(c.teamID))v.find((function(e){return e.prop===c.teamID})).opp===m.teamID&&(g=!0);else v.find((function(e){return e.opp===c.teamID})).prop===m.teamID&&(g=!0)}var E=!1;if(2===s||3===s){var b=l[0][p];if(b.map((function(e){return e.chair})).includes(u.judgeID)){var k=b.find((function(e){return e.chair===u.judgeID}));k.prop!==c.teamID&&k.prop!==m.teamID&&k.opp!==c.teamID&&k.opp!==m.teamID||(E=!0)}}if(3===s){var w=l[1][p];if(w.map((function(e){return e.chair})).includes(u.judgeID)){var S=w.find((function(e){return e.chair===u.judgeID}));S.prop!==c.teamID&&S.prop!==m.teamID&&S.opp!==c.teamID&&S.opp!==m.teamID||(E=!0)}}return r.a.createElement("tr",null,r.a.createElement("td",{className:"editable draw-table-room-cell"},r.a.createElement("textarea",{className:"cell-valupdate",rows:1,cols:this.state.roomName.length>8?this.state.roomName.length:8,autoComplete:"off",placeholder:"room",value:this.state.roomName,onChange:this.handleRoomChange})),r.a.createElement("td",{className:"draw-table-team-cell"},r.a.createElement(ne,{team:c,hasConflict:g,teams:this.props.teams,updateRoom:this.updateRoomTeam})),r.a.createElement("td",{className:"draw-table-team-cell"},r.a.createElement(ne,{team:m,hasConflict:g,teams:this.props.teams,updateRoom:this.updateRoomTeam})),r.a.createElement("td",null,r.a.createElement("div",{className:"judgepill-container"},r.a.createElement(re,{judge:u,isChair:!0,hasConflict:h.includes(u.school),hasChairedBefore:E,room:o,draw:l[s-1],updateRoom:this.updateRoomJudge})),0!==o.wings.length?",\xa0":"",o.wings.map((function(t,a){var i=n.find((function(e){return e.judgeID===t}));return r.a.createElement("div",{key:"judgepil-".concat(a),className:"judgepill-container"},r.a.createElement(re,{judge:i,isChair:!1,hasConflict:h.includes(i.school),hasChairedBefore:!1,room:o,draw:l[s-1],updateRoom:e.updateRoomJudge}),a<o.wings.length-1?",\xa0":"")}))))}}]),a}(r.a.Component),se=function(e){Object(d.a)(a,e);var t=Object(p.a)(a);function a(e){var n;Object(c.a)(this,a);var r=(n=t.call(this,e)).props.draws[n.props.round-1];return n.state={generated:r.generated,roomsOne:r.roomsOne,roomsTwo:r.roomsTwo,fullScreen:!1},n.generateDraw=n.generateDraw.bind(Object(u.a)(n)),n.deleteDraw=n.deleteDraw.bind(Object(u.a)(n)),n.updateRooms=n.updateRooms.bind(Object(u.a)(n)),n.fullScreenDraw=n.fullScreenDraw.bind(Object(u.a)(n)),n.modalHide=n.modalHide.bind(Object(u.a)(n)),n}return Object(m.a)(a,[{key:"generateDraw",value:function(){var e=this.props.round,t=this.props.draws;if(1===e){if(t[1].generated||t[2].generated)return alert("You can't regenerate a draw after you've generated the next one."),!1}else if(2===e){if(!t[0].generated)return alert("You can't generate the draw for round 2 before generating the draw for round 1."),!1;if(t[2].generated)return alert("You can't regenerate a draw after you've generated the next one."),!1}else if(3===e&&(!t[0].generated||!t[1].generated))return alert("You can't generate the draw for round 3 before generating the draws for rounds 1 and 2."),!1;if(this.state.generated&&!window.confirm("Do you really want to regenerate the draw?"))return!1;var a=this.props.teamsOne,n=this.props.teamsTwo,r=this.props.judges,o=a.length,s=n.length;if(0!==o){if(o%2!==0&&s%2!==0)return alert("Both divisions have an odd number of teams. A team from one division debating a team from the other division is not currently supported. Please add or remove a team to/from both in order to continue."),!1;if(o%2!==0)return alert("There is an odd number of ".concat(2===this.props.config.numDivisions?"".concat(this.props.config.divisionNames[0]," "):"","teams\u2014add or remove a team to generate the draw.")),!1;if(s%2!==0)return alert("There is an odd number of ".concat(2===this.props.config.numDivisions?"".concat(this.props.config.divisionNames[1]," "):"","teams\u2014add or remove a team to generate the draw.")),!1;var l,i=(l=1===e?r.filter((function(e){return!0===e.atRound1})):2===e?r.filter((function(e){return!0===e.atRound2})):r.filter((function(e){return!0===e.atRound3}))).filter((function(e){return!0===e.canChair})),c=l.filter((function(e){return!1===e.canChair})),m=o+s;if(i.length<m/2)return alert("There are not enough chairs to adjudicate every room. Please add some more."),!1;for(var u=i.length-1;u>0;u--){var d=Math.floor(Math.random()*(u+1)),p=[i[d],i[u]];i[u]=p[0],i[d]=p[1]}for(;i.length>m/2;)c.push(i.pop());var h=JSON.parse(localStorage.getItem("roomCounter")),g=[],f=[],v=a.slice(0),E=n.slice(0);if(1===e){for(var b=o-1;b>0;b--){var k=Math.floor(Math.random()*(b+1)),w=[v[k],v[b]];v[b]=w[0],v[k]=w[1]}for(var S=s-1;S>0;S--){var y=Math.floor(Math.random()*(S+1)),O=[E[y],E[S]];E[S]=O[0],E[y]=O[1]}}else v.sort((function(e,t){return e.totalWins<t.totalWins?1:e.totalWins>t.totalWins?-1:e.totalPoints<t.totalPoints?1:e.totalPoints>t.totalPoints?-1:1})),E.sort((function(e,t){return e.totalWins<t.totalWins?1:e.totalWins>t.totalWins?-1:e.totalPoints<t.totalPoints?1:e.totalPoints>t.totalPoints?-1:1}));if(2===e){var j=t[0].roomsOne,N=t[0].roomsTwo,I=j.map((function(e){return e.prop})),T=N.map((function(e){return e.opp}));v.forEach((function(e,t){var a=!1;if(I.includes(e.teamID)&&(a=!0),t%2===0&&a)for(var n=t+1;n<o;n++){var r=!1;if(I.includes(v[n].teamID)&&(r=!0),!r){var s=[v[n],v[t]];v[t]=s[0],v[n]=s[1];break}}else if(t%2===1&&!a)for(var l=t+1;l<o;l++){var i=!1;if(I.includes(v[l].teamID)&&(i=!0),i){var c=[v[l],v[t]];v[t]=c[0],v[l]=c[1];break}}})),E.forEach((function(e,t){var a=!1;if(T.includes(e.teamID)&&(a=!0),t%2===0&&a)for(var n=t+1;n<s;n++){var r=!1;if(T.includes(E[n].teamID)&&(r=!0),!r){var o=[E[n],E[t]];E[t]=o[0],E[n]=o[1];break}}else if(t%2===1&&!a)for(var l=t+1;l<s;l++){var i=!1;if(T.includes(E[l].teamID)&&(i=!0),i){var c=[E[l],E[t]];E[t]=c[0],E[l]=c[1];break}}}))}for(var C=0;C<o;C+=2){var D={roomID:h++,name:"",prop:v[C].teamID,opp:v[C+1].teamID,chair:i.pop().judgeID,wings:[]};g[C/2]=D}for(var F=0;F<s;F+=2){var R={roomID:h++,name:"",prop:E[F].teamID,opp:E[F+1].teamID,chair:i.pop().judgeID,wings:[]};f[F/2]=R}for(;c.length>0;){for(var J=0;J<g.length&&(g[J].wings.push(c.pop().judgeID),0!==c.length);J++);if(0===c.length)break;for(var M=0;M<f.length&&(f[M].wings.push(c.pop().judgeID),0!==c.length);M++);}for(var x=g.length-1;x>0;x--){var P=Math.floor(Math.random()*(x+1)),W=[g[P],g[x]];g[x]=W[0],g[P]=W[1]}for(var U=f.length-1;U>0;U--){var A=Math.floor(Math.random()*(U+1)),L=[f[A],f[U]];f[U]=L[0],f[A]=L[1]}var K={generated:!0,roomsOne:g,roomsTwo:f};1===e?t[0]=K:2===e?t[1]=K:t[2]=K,localStorage.setItem("draws",JSON.stringify(t)),this.setState({roomsOne:g}),this.setState({roomsTwo:f}),this.setState({generated:!0}),localStorage.setItem("roomCounter",JSON.stringify(h))}else alert("Add some teams to generate the draw.")}},{key:"deleteDraw",value:function(){var e=this.props.round,t=this.props.draws;if(1===e&&(t[1].generated||t[2].generated))return alert("You can't delete a draw after you've generated the next one."),!1;if(2===e&&t[2].generated)return alert("You can't delete a draw after you've generated the next one."),!1;if(!window.confirm("Are you sure you want to delete the draw for round ".concat(e,"?")))return!1;var a={generated:!1,roomsOne:[],roomsTwo:[]};1===e?t[0]=a:2===e?t[1]=a:t[2]=a,localStorage.setItem("draws",JSON.stringify(t)),this.setState({roomsOne:[]}),this.setState({roomsTwo:[]}),this.setState({generated:!1})}},{key:"updateRooms",value:function(e,t){var a,n=JSON.parse(localStorage.getItem("draws")),r=(a=1===t?this.state.roomsOne:this.state.roomsTwo).findIndex((function(t){return t.roomID===e.roomID}));a[r]=e,1===t?(this.setState({roomsOne:a}),n[this.props.round-1].roomsOne=a):(this.setState({roomsTwo:a}),n[this.props.round-1].roomsTwo=a),localStorage.setItem("draws",JSON.stringify(n))}},{key:"fullScreenDraw",value:function(){this.setState({fullScreen:!0}),document.documentElement.requestFullscreen()}},{key:"modalHide",value:function(){this.setState({fullScreen:!1}),null!==document.fullscreenElement&&document.exitFullscreen()}},{key:"render",value:function(){var e,t=this;return e=this.state.generated?r.a.createElement("div",null,r.a.createElement("h3",null,2===this.props.config.numDivisions?this.props.config.divisionNames[0]:"Draw"),r.a.createElement(L.a,{className:"table-no-top-margin draw-table-one",hover:!0,striped:!0},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Room"),r.a.createElement("th",{className:"draw-table-team-cell"},"Proposition"),r.a.createElement("th",{className:"draw-table-team-cell"},"Opposition"),r.a.createElement("th",null,"Judges"))),r.a.createElement("tbody",null,this.state.roomsOne.map((function(e,a){return r.a.createElement(oe,{key:"one-room-".concat(a),room:e,div:1,round:t.props.round,speakers:t.props.speakersOne,teams:t.props.teamsOne,judges:t.props.judges,draws:t.props.draws,updateRooms:t.updateRooms})})))),r.a.createElement("h3",null,2===this.props.config.numDivisions?this.props.config.divisionNames[1]:""),r.a.createElement(L.a,{className:"table-no-top-margin ".concat(1===this.props.config.numDivisions?"hidden":""),hover:!0,striped:!0},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Room"),r.a.createElement("th",{className:"draw-table-team-cell"},"Proposition"),r.a.createElement("th",{className:"draw-table-team-cell"},"Opposition"),r.a.createElement("th",null,"Judges"))),r.a.createElement("tbody",null,this.state.roomsTwo.map((function(e,a){return r.a.createElement(oe,{key:"two-room-".concat(a),room:e,div:2,round:t.props.round,speakers:t.props.speakersTwo,teams:t.props.teamsTwo,judges:t.props.judges,draws:t.props.draws,updateRooms:t.updateRooms})}))))):r.a.createElement("div",{className:"draw-placeholder"}),r.a.createElement("div",null,r.a.createElement("h2",null,"Round ",this.props.round),r.a.createElement(T.a,{className:"draw-header"},r.a.createElement(j.a,null,r.a.createElement(N.a,{onClick:this.generateDraw,className:this.state.generated?"hidden":""},r.a.createElement(M.d,{className:"btn-icon"}),"Generate draw"),r.a.createElement(N.a,{variant:"secondary",onClick:this.generateDraw,className:this.state.generated?"":"hidden"},r.a.createElement(M.a,{className:"btn-icon"}),"Regenerate draw"),r.a.createElement(N.a,{variant:"danger",onClick:this.deleteDraw,className:this.state.generated?"":"hidden"},r.a.createElement(M.n,{className:"btn-icon"}),"Delete draw"),r.a.createElement(N.a,{variant:"primary",onClick:this.fullScreenDraw,className:this.state.generated?"":"hidden"},r.a.createElement(M.b,{className:"btn-icon"}),"Display fullscreen"),r.a.createElement("div",{className:"draw-legend ".concat(this.state.generated?"":"hidden")},r.a.createElement(K.a,{placement:"bottom-start",overlay:r.a.createElement(Y.a,{className:"popover-explainer",id:"draw-legend-popover"},r.a.createElement(Y.a.Content,null,"Teams in ",r.a.createElement("span",{className:"orange"},"orange")," have already debated each other before.",r.a.createElement("br",null),"Chairs in ",r.a.createElement("span",{className:"orange"},"orange")," have already chaired one of the teams in their room before.",r.a.createElement("br",null),"Judges in ",r.a.createElement("span",{className:"red"},"red")," clash with one of the teams in their room.",r.a.createElement("br",null),"Note that these colors do not show up when the draw is displayed fullscreen.")),rootClose:!0},r.a.createElement("abbr",{title:""},r.a.createElement("p",null,r.a.createElement(M.i,{className:"icon-info"}),"\xa0\xa0",r.a.createElement("span",null,"Legend"))))))),r.a.createElement(T.a,null,r.a.createElement(j.a,{lg:10,xl:9,className:"table-col"},e)),r.a.createElement(k.a,{show:this.state.fullScreen,onHide:this.modalHide,backdrop:"static",size:"xl",className:"draw-modal",dialogClassName:"draw-modal-dialog",backdropClassName:"draw-modal-backdrop"},r.a.createElement(k.a.Header,{closeButton:!0},"Draw Round ",this.props.round),r.a.createElement(k.a.Body,null,r.a.createElement("div",{className:"draw-modal-table"},e))))}}]),a}(r.a.Component),le=function(e){Object(d.a)(a,e);var t=Object(p.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(m.a)(a,[{key:"render",value:function(){var e=this;return r.a.createElement(S.a.Container,{id:"draw-view",defaultActiveKey:"round-1",transition:!1},r.a.createElement(T.a,null,r.a.createElement(j.a,{md:3,lg:2},r.a.createElement(P.a,{variant:"pills",className:"sub-nav"},[1,2,3].map((function(e){return r.a.createElement(P.a.Item,{key:"draw-nav-".concat(e)},r.a.createElement(P.a.Link,{eventKey:"round-".concat(e),className:"sub-nav-link"},r.a.createElement(M.e,{className:"btn-icon"}),"Round ",e))})))),r.a.createElement(j.a,{md:9,lg:10},r.a.createElement(S.a.Content,null,[1,2,3].map((function(t){return r.a.createElement(S.a.Pane,{key:"draw-pane-".concat(t),eventKey:"round-".concat(t)},r.a.createElement(se,{round:t,config:e.props.config,speakersOne:e.props.speakersOne,speakersTwo:e.props.speakersTwo,teamsOne:e.props.teamsOne,teamsTwo:e.props.teamsTwo,judges:e.props.judges,draws:e.props.draws}))}))))))}}]),a}(r.a.Component),ie=a(73),ce=JSON.stringify,me=function(e){Object(d.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).updateStorage=function(e){return function(t){localStorage.setItem(e,JSON.stringify(t)),n.setState(Object(i.a)({},e,t))}},n.updateTournamentName=function(e){n.updateStorage("tournamentName")(e),document.title="".concat(e," - TacoTab")},n.updateInit=n.updateStorage("init"),n.updateConfig=n.updateStorage("config"),n.updateSpeakersOne=n.updateStorage("speakersOne"),n.updateSpeakersTwo=n.updateStorage("speakersTwo"),n.updateTeamsOne=n.updateStorage("teamsOne"),n.updateTeamsTwo=n.updateStorage("teamsTwo"),n.updateJudges=n.updateStorage("judges"),n.initializeTournament=function(e,t,a){n.updateTournamentName(e);var r={version:f.version,numDivisions:t};1!==t&&(r.divisionNames=Object(l.a)(a)),n.updateConfig(r),n.updateInit(!0)},localStorage.getItem("init")||localStorage.setItem("init",ce(!1)),localStorage.getItem("tournamentName")||localStorage.setItem("tournamentName",ce("New tournament")),localStorage.getItem("config")||localStorage.setItem("config",ce({version:f.version,numDivisions:0})),localStorage.getItem("speakersOne")||localStorage.setItem("speakersOne",ce([])),localStorage.getItem("teamsOne")||localStorage.setItem("teamsOne",ce([])),localStorage.getItem("speakersTwo")||localStorage.setItem("speakersTwo",ce([])),localStorage.getItem("teamsTwo")||localStorage.setItem("teamsTwo",ce([])),localStorage.getItem("speakerCounter")||localStorage.setItem("speakerCounter",ce(0)),localStorage.getItem("teamCounter")||localStorage.setItem("teamCounter",ce(0)),localStorage.getItem("judges")||localStorage.setItem("judges",ce([])),localStorage.getItem("judgeCounter")||localStorage.setItem("judgeCounter",ce(0)),localStorage.getItem("draws")||localStorage.setItem("draws",ce([{generated:!1,roomsOne:[],roomsTwo:[]},{generated:!1,roomsOne:[],roomsTwo:[]},{generated:!1,roomsOne:[],roomsTwo:[]}])),localStorage.getItem("roomCounter")||localStorage.setItem("roomCounter",ce(0)),n.state={showMenu:!1,init:JSON.parse(localStorage.getItem("init")),tournamentName:JSON.parse(localStorage.getItem("tournamentName")),config:JSON.parse(localStorage.getItem("config")),speakersOne:JSON.parse(localStorage.getItem("speakersOne")),speakersTwo:JSON.parse(localStorage.getItem("speakersTwo")),teamsOne:JSON.parse(localStorage.getItem("teamsOne")),teamsTwo:JSON.parse(localStorage.getItem("teamsTwo")),judges:JSON.parse(localStorage.getItem("judges")),draws:JSON.parse(localStorage.getItem("draws"))},n.toggleMenu=n.toggleMenu.bind(Object(u.a)(n)),n.updateStorage=n.updateStorage.bind(Object(u.a)(n)),n.updateTournamentName=n.updateTournamentName.bind(Object(u.a)(n)),n.updateInit=n.updateInit.bind(Object(u.a)(n)),n.updateConfig=n.updateConfig.bind(Object(u.a)(n)),n.updateSpeakersOne=n.updateSpeakersOne.bind(Object(u.a)(n)),n.updateSpeakersTwo=n.updateSpeakersTwo.bind(Object(u.a)(n)),n.updateTeamsOne=n.updateTeamsOne.bind(Object(u.a)(n)),n.updateTeamsTwo=n.updateTeamsTwo.bind(Object(u.a)(n)),n.updateJudges=n.updateJudges.bind(Object(u.a)(n)),n.initializeTournament=n.initializeTournament.bind(Object(u.a)(n)),n.getTotalTeams=n.getTotalTeams.bind(Object(u.a)(n)),document.title="".concat(JSON.parse(localStorage.getItem("tournamentName"))," - TacoTab"),n}return Object(m.a)(a,[{key:"toggleMenu",value:function(){this.state.showMenu?this.setState({showMenu:!1}):this.setState({showMenu:!0})}},{key:"getTotalTeams",value:function(){return this.state.teamsOne.length+this.state.teamsTwo.length}},{key:"render",value:function(){var e,t;return 2!==this.state.config.numDivisions?(e=r.a.createElement(P.a.Item,null,r.a.createElement(P.a.Link,{eventKey:"participants",title:"Participants"},"Participants")),t=r.a.createElement(S.a.Pane,{eventKey:"participants"},r.a.createElement(ee,{div:1,speakers:this.state.speakersOne,teams:this.state.teamsOne,updateSpeakers:this.updateSpeakersOne,updateTeams:this.updateTeamsOne}))):(e=r.a.createElement(r.a.Fragment,null,r.a.createElement(P.a.Item,null,r.a.createElement(P.a.Link,{eventKey:"divone",title:this.state.config.divisionNames[0]},this.state.config.divisionNames[0])),r.a.createElement(P.a.Item,null,r.a.createElement(P.a.Link,{eventKey:"divtwo",title:this.state.config.divisionNames[1]},this.state.config.divisionNames[1]))),t=r.a.createElement(r.a.Fragment,null,r.a.createElement(S.a.Pane,{eventKey:"divone"},r.a.createElement(ee,{div:1,speakers:this.state.speakersOne,teams:this.state.teamsOne,updateSpeakers:this.updateSpeakersOne,updateTeams:this.updateTeamsOne})),r.a.createElement(S.a.Pane,{eventKey:"divtwo"},r.a.createElement(ee,{div:2,speakers:this.state.speakersTwo,teams:this.state.teamsTwo,updateSpeakers:this.updateSpeakersTwo,updateTeams:this.updateTeamsTwo})))),r.a.createElement(r.a.Fragment,null,r.a.createElement(ie.a,{fluid:!0,className:"app"},r.a.createElement("div",{id:"logo"},r.a.createElement("img",{src:g.a,alt:"TacoTab logo"}),r.a.createElement("h1",null,"TacoTab")),r.a.createElement("div",{id:"hamburger"},r.a.createElement(M.j,{onClick:this.toggleMenu,role:"button","aria-controls":"app-nav","aria-expanded":this.state.showMenu})),r.a.createElement(S.a.Container,{id:"app-nav",defaultActiveKey:"home",transition:!1},r.a.createElement(O.a,{in:this.state.showMenu},r.a.createElement(P.a,{className:"main-nav"},r.a.createElement(P.a.Item,null,r.a.createElement(P.a.Link,{eventKey:"home",title:"Home"},"Home")),e,r.a.createElement(P.a.Item,null,r.a.createElement(P.a.Link,{eventKey:"judges",title:"Judges"},"Judges")),r.a.createElement(P.a.Item,null,r.a.createElement(P.a.Link,{eventKey:"draw",title:"Draw"},"Draw")))),r.a.createElement(S.a.Content,null,r.a.createElement(S.a.Pane,{eventKey:"home"},r.a.createElement(W,{tournamentName:this.state.tournamentName,config:this.state.config,updateTournamentName:this.updateTournamentName,updateConfig:this.updateConfig})),t,r.a.createElement(S.a.Pane,{eventKey:"judges"},r.a.createElement(ae,{judges:this.state.judges,updateJudges:this.updateJudges,getTotalTeams:this.getTotalTeams})),r.a.createElement(S.a.Pane,{eventKey:"draw"},r.a.createElement(le,{config:this.state.config,speakersOne:this.state.speakersOne,speakersTwo:this.state.speakersTwo,teamsOne:this.state.teamsOne,teamsTwo:this.state.teamsTwo,judges:this.state.judges,draws:this.state.draws}))))),r.a.createElement(I,{init:this.state.init,initializeTournament:this.initializeTournament}))}}]),a}(r.a.Component),ue=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function de(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var a=e.installing;null!=a&&(a.onstatechange=function(){"installed"===a.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}s.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(me,null)),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/tacotab",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("/tacotab","/service-worker.js");ue?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(a){var n=a.headers.get("content-type");404===a.status||null!=n&&-1===n.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):de(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):de(t,e)}))}}()}},[[75,1,2]]]);
//# sourceMappingURL=main.c4f7564c.chunk.js.map