{"version":3,"sources":["images/logo.svg","images/icon-github.svg","utils/importTournament.ts","setup/SetupScreen.tsx","home/Welcome.tsx","home/Settings.tsx","home/Home.tsx","participants/SpeakerRow.tsx","participants/Speakers.tsx","participants/TeamCell.tsx","participants/TeamSpeakerSelect.tsx","participants/TeamWinSelector.tsx","participants/TwoPersonTeamTooltip.tsx","utils/getDistinctSpeakers.ts","participants/TeamRow.tsx","participants/TeamTable.tsx","participants/Teams.tsx","participants/Ranking.tsx","participants/Participants.tsx","judges/JudgeRow.tsx","judges/Judges.tsx","draws/TeamPill.tsx","draws/JudgePill.tsx","draws/RoundRow.tsx","draws/Round.tsx","draws/Draws.tsx","App.tsx","serviceWorker.ts","index.tsx"],"names":["module","exports","s","JSON","stringify","importTournament","files","length","fr","FileReader","onload","event","result","parse","target","localStorage","setItem","init","config","version","tournamentName","speakersOne","teamsOne","speakersTwo","teamsTwo","speakerCounter","teamCounter","judges","judgeCounter","draws","roomCounter","tournament_name","importConfig","pkg","divisions","numDivisions","importSpeakersOne","speakers_one","map","speaker","newSpeaker","speakerID","debaterID","importTeamsOne","teams_one","team","newTeam","name","teamName","round1","sp","parseInt","round2","round3","sideRound1","sideR1","importSpeakersTwo","speakers_two","importTeamsTwo","teams_two","speakers_counter","teams_counter","importJudges","judge","newJudge","atRound1","r1","atRound2","r2","atRound3","r3","judges_counter","importDraws","draw","newDraw","roomsOne","pairings_one","pairing","newRoom","roomID","room","roomsTwo","pairings_two","readAsText","item","window","location","reload","SetupScreen","props","state","setupForm","divisionOneName","divisionTwoName","handleSetupFormChange","bind","handleSetupFormSubmit","importData","value","Number","setupFormState","this","setState","preventDefault","divisionNames","initializeTournament","document","getElementById","Modal","show","backdrop","animation","className","dialogClassName","backdropClassName","aria-labelledby","Header","Title","id","src","logo","alt","Body","href","rel","Tabs","defaultActiveKey","Tab","eventKey","title","Form","onSubmit","Group","controlId","Control","type","placeholder","onChange","Label","Check","inline","custom","label","checked","Collapse","in","Row","Col","md","Button","variant","accept","htmlFor","React","Component","Welcome","Settings","nameForm","showModal","handleNameFormChange","handleNameFormSubmit","exportData","clearData","hideModal","bsCustomFileInput","updateTournamentName","data","encodeURIComponent","getItem","replace","toLowerCase","downloadAnchorNode","createElement","setAttribute","body","appendChild","click","remove","confirm","clear","lg","sm","xl","xs","onClick","Date","getFullYear","GitHubLogo","onHide","closeButton","Home","Container","transition","Nav","Item","Link","Content","Pane","updateConfig","SpeakerRow","school","disqualified","trashFill","handleTextEdit","handleTextUpdate","handleDisqUpdate","trashOnMouseEnter","trashOnMouseLeave","updateSpeaker","key","rows","cols","autoComplete","spellCheck","onBlur","role","onMouseEnter","onMouseLeave","deleteSpeaker","Speakers","addSpeakerForm","speakerName","handleAddSpeakerFormChange","handleAddSpeakerFormSubmit","addSpeakerFormState","speakers","counter","scores","ranks","wins","push","updateSpeakers","blankForm","index","indexOf","teams","includes","alert","splice","table","Table","hover","bordered","OverlayTrigger","placement","overlay","Tooltip","TeamCell","round","toString","handleEdit","handleUpdate","isNaN","fn","maxLength","TeamSpeakerSelect","roundKey","speakerPos","handleFormChange","handleUpdateTeamFormChange","teamID","as","speakerPicker","TeamWinSelector","win","handleWinFormUpdate","totalWins","updateTeam","TwoPersonTeamTooltip","getDistinctSpeakers","Set","TeamRow","updateTeamForm","showWarning","peopleFill","handleTeamNameEdit","handleTeamNameUpdate","setScore","setRank","modalShow","modalHide","handleTeamUpdate","peopleOnMouseEnter","peopleOnMouseLeave","no","find","el","updateTeamFormState","speakerRows","isInR1","isInR2","isInR3","totalScores","totalRanks","div","isInR","i","t","scores1","forEach","scores2","scores3","ranks1","ranks2","ranks3","totalPoints","findIndex","teamSpeakerSelects","rowSpan","deleteTeam","colSpan","size","TeamTable","Teams","addTeamForm","speaker1","speaker2","speaker3","handleAddTeamFormChange","handleAddTeamFormSubmit","addTeamFormState","memberList","opponents","updateTeams","rooms","pair","prop","opp","filter","noTeams","teamTable","Ranking","speaker_ranking","slice","sort","a","b","a_sum","reduce","x","y","b_sum","a_ranks","b_ranks","a_team","b_team","a_wins","undefined","b_wins","a_tpoints","b_tpoints","team_ranking","speakerIDs","speakerNames","currSpeaker","speakerElements","striped","Participants","JudgeRow","canChair","handleJudgeToggle","updateJudge","judgeID","deleteJudge","Judges","addJudgeForm","judgeName","handleAddJudgeFormChange","handleAddJudgeFormSubmit","judgeAddFormState","hasChaired","updateJudges","inRound","chair","wings","totalRooms","Math","getTotalTeams","chairsR1","chairsR2","chairsR3","TeamPill","swapTeamID","handleRoomFormChange","handleRoomFormSubmit","updateRoom","popover","Popover","trigger","rootClose","hasConflict","JudgePill","isChair","RoundRow","roomName","handleRoomChange","updateRoomTeam","updateRoomJudge","prevProps","updateRooms","thisTeamID","thisRoom","newRoomIndex","thisTeamPos","newRoomID","nextDiv","r","newPair","swapChair","j","oldIndex","chairConflict","speakersInTeams","speakerSchools","teamConflict","wing","Round","pairings","generated","fullScreen","generateDraw","deleteDraw","fullScreenDraw","len1","len2","chairs","totalTeams","floor","random","pop","currProp","currOpp","t1","t2","drawr","documentElement","requestFullscreen","fullscreenElement","exitFullscreen","tables","Draws","App","updateStorage","updateInit","updateSpeakersOne","updateSpeakersTwo","updateTeamsOne","updateTeamsTwo","showMenu","toggleMenu","participants_nav","participants_panes","fluid","aria-controls","aria-expanded","isLocalhost","Boolean","hostname","match","registerValidSW","swUrl","navigator","serviceWorker","register","then","registration","onupdatefound","installingWorker","installing","onstatechange","controller","console","log","onUpdate","onSuccess","catch","error","ReactDOM","render","StrictMode","URL","process","origin","addEventListener","fetch","headers","response","contentType","get","status","ready","unregister","checkValidServiceWorker"],"mappings":"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","file":"static/js/main.46468002.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/logo.15863a1a.svg\";","module.exports = __webpack_public_path__ + \"static/media/icon-github.026cb8cd.svg\";","import pkg from '../../package.json';\nconst s = JSON.stringify;\n\nexport const importTournament = (files: FileList) => {\n    if(files.length <= 0) return false;\n\n    const fr = new FileReader();\n    fr.onload = event => {\n        const result = JSON.parse(event.target!.result as string);\n\n        // CHECK IF PROPER TOURNAMENT EXPORT\n        if(!(\"init\" in result)\n            || !((\"tournamentName\" in result) || (\"tournament_name\" in result))\n            || !(\"config\" in result)\n            || !((\"speakersOne\" in result) || (\"speakers_one\" in result))\n            || !((\"speakersTwo\" in result) || (\"speakers_two\" in result))\n            || !((\"teamsOne\" in result) || (\"teams_one\" in result))\n            || !((\"teamsTwo\" in result) || (\"teams_two\" in result))\n            || !((\"speakerCounter\" in result) || (\"speakers_counter\" in result))\n            || !(\"judges\" in result)\n            || !((\"judgeCounter\" in result) || (\"judges_counter\" in result))\n            || !(\"draws\" in result))\n            {\n                return false;\n            }\n\n        localStorage.setItem(\"init\", s(result.init));\n        // COMPATIBILITY WITH EXPORTS BEFORE VERSION 0.3.0\n        if(!result.config.version) {\n            localStorage.setItem(\"tournamentName\", s(result.tournament_name));\n\n            let importConfig = result.config;\n            importConfig.version = pkg.version;\n            if(importConfig.divisions === \"1\") {\n                importConfig.numDivisions = 1\n            } else {\n                importConfig.numDivisions = 2\n            }\n            delete importConfig.divisions\n            localStorage.setItem(\"config\", s(importConfig));\n\n            let importSpeakersOne = result.speakers_one.map((speaker: any) => {\n                let newSpeaker = {\n                    ...speaker,\n                    speakerID: speaker.debaterID\n                }\n                delete newSpeaker.debaterID\n                return newSpeaker\n            });\n            localStorage.setItem(\"speakersOne\", s(importSpeakersOne));\n\n            let importTeamsOne = result.teams_one.map((team: any) => {\n                let newTeam = {\n                    ...team,\n                    name: team.teamName,\n                    round1: team.round1.map((sp: string) => parseInt(sp)),\n                    round2: team.round2.map((sp: string) => parseInt(sp)),\n                    round3: team.round2.map((sp: string) => parseInt(sp)),\n                    sideRound1: team.sideR1\n                }\n                delete newTeam.teamName\n                delete newTeam.sideR1\n                return newTeam\n            });\n            localStorage.setItem(\"teamsOne\", s(importTeamsOne));\n\n            let importSpeakersTwo = result.speakers_two.map((speaker: any) => {\n                let newSpeaker = {\n                    ...speaker,\n                    speakerID: speaker.debaterID\n                }\n                delete newSpeaker.debaterID\n                return newSpeaker\n            });\n            localStorage.setItem(\"speakersTwo\", s(importSpeakersTwo));\n\n            let importTeamsTwo = result.teams_two.map((team: any) => {\n                let newTeam = {\n                    ...team,\n                    name: team.teamName,\n                    round1: team.round1.map((sp: string) => parseInt(sp)),\n                    round2: team.round2.map((sp: string) => parseInt(sp)),\n                    round3: team.round2.map((sp: string) => parseInt(sp)),\n                    sideRound1: team.sideR1\n                }\n                delete newTeam.teamName\n                delete newTeam.sideR1\n                return newTeam\n            });\n            localStorage.setItem(\"teamsTwo\", s(importTeamsTwo));\n\n            localStorage.setItem(\"speakerCounter\", s(result.speakers_counter));\n            localStorage.setItem(\"teamCounter\", s(result.teams_counter));\n\n            let importJudges = result.judges.map((judge: any) => {\n                let newJudge = {\n                    ...judge,\n                    atRound1: judge.r1,\n                    atRound2: judge.r2,\n                    atRound3: judge.r3\n                }\n                delete newJudge.r1\n                delete newJudge.r2\n                delete newJudge.r3\n                return newJudge\n            });\n            localStorage.setItem(\"judges\", s(importJudges));\n\n            localStorage.setItem(\"judgeCounter\", s(result.judges_counter));\n\n            let roomCounter = 0;\n            let importDraws = result.draws.map((draw: any) => {\n                let newDraw = {\n                    ...draw,\n                    roomsOne: draw.pairings_one.map((pairing: any) => {\n                        let newRoom = {\n                            ...pairing,\n                            roomID: roomCounter++,\n                            name: pairing.room\n                        }\n                        delete newRoom.room\n                        return newRoom\n                    }),\n                    roomsTwo: draw.pairings_two.map((pairing: any) => {\n                        let newRoom = {\n                            ...pairing,\n                            roomID: roomCounter++,\n                            name: pairing.room\n                        }\n                        delete newRoom.room\n                        return newRoom\n                    })\n                }\n                delete newDraw.pairings_one\n                delete newDraw.pairings_two\n                return newDraw\n            });\n            localStorage.setItem(\"draws\", s(importDraws));\n            localStorage.setItem(\"roomCounter\", s(roomCounter));\n\n        // CURRENT EXPORTS\n        } else {\n            localStorage.setItem(\"tournamentName\", s(result.tournamentName));\n            localStorage.setItem(\"config\", s(result.config));\n            localStorage.setItem(\"speakersOne\", s(result.speakersOne));\n            localStorage.setItem(\"teamsOne\", s(result.teamsOne));\n            localStorage.setItem(\"speakersTwo\", s(result.speakersTwo));\n            localStorage.setItem(\"teamsTwo\", s(result.teamsTwo));\n            localStorage.setItem(\"speakerCounter\", s(result.speakerCounter));\n            localStorage.setItem(\"teamCounter\", s(result.teamCounter));\n            localStorage.setItem(\"judges\", s(result.judges));\n            localStorage.setItem(\"judgeCounter\", s(result.judgeCounter));\n            localStorage.setItem(\"draws\", s(result.draws));\n            localStorage.setItem(\"roomCounter\", s(result.roomCounter));\n        }\n\n    }\n    fr.readAsText(files.item(0) as File);\n\n    window.location.reload();\n}","import React, { ChangeEvent, FormEvent } from 'react';\nimport './SetupScreen.scss';\nimport logo from '../images/logo.svg';\nimport { importTournament } from '../utils/importTournament';\nimport Modal from 'react-bootstrap/Modal';\nimport Tabs from 'react-bootstrap/Tabs';\nimport Tab from 'react-bootstrap/Tab';\nimport Form from 'react-bootstrap/Form';\nimport Collapse from 'react-bootstrap/Collapse';\nimport Col from 'react-bootstrap/Col';\nimport Button from 'react-bootstrap/Button';\n\n\ntype SetupScreenProps = {\n    init: boolean,\n    initializeTournament: (tournamentName: string, numDivisions: number, divisionNames: string[]) => void\n}\n\ntype SetupScreenState = {\n    setupForm: {\n        tournamentName: string,\n        numDivisions: number,\n        divisionOneName: string,\n        divisionTwoName: string,\n        [key: string]: string|number\n    }\n}\n\nclass SetupScreen extends React.Component<SetupScreenProps, SetupScreenState> {\n    constructor(props: SetupScreenProps) {\n        super(props);\n\n        this.state = {\n            setupForm: {\n                tournamentName: \"\",\n                numDivisions: 1,\n                divisionOneName: \"\",\n                divisionTwoName: \"\"\n            }\n        }\n\n        this.handleSetupFormChange = this.handleSetupFormChange.bind(this);\n        this.handleSetupFormSubmit = this.handleSetupFormSubmit.bind(this);\n        this.importData = this.importData.bind(this);\n    }\n\n\n    handleSetupFormChange(event: ChangeEvent<HTMLInputElement>) {\n        const name = event.target.name;\n        let value: string|number = event.target.value;\n        if(name === \"numDivisions\") value = Number(value);\n        let setupFormState = {...this.state.setupForm};\n        setupFormState[name] = value;\n        this.setState({ setupForm: setupFormState });\n    }\n\n    handleSetupFormSubmit(event: FormEvent<HTMLFormElement>) {\n        event.preventDefault();\n\n        const name = this.state.setupForm.tournamentName;\n        if (name === \"\") return false;\n\n        const numDivisions = this.state.setupForm.numDivisions;\n        const divisionNames =[this.state.setupForm.divisionOneName, this.state.setupForm.divisionTwoName];\n        if(numDivisions === 2 && (divisionNames[0] === \"\" || divisionNames[1] === \"\")) return false;\n\n        this.props.initializeTournament(name, numDivisions, divisionNames);\n    }\n\n    importData(event: FormEvent<HTMLFormElement>) {\n        event.preventDefault();\n        const files = (document.getElementById(\"import-setup\") as HTMLInputElement).files;\n        if(files === null) return false;\n        importTournament(files);\n    }\n\n\n    render() {\n        return (\n            <Modal\n                show={!this.props.init}\n                backdrop=\"static\"\n                animation={false}\n                className=\"setup-modal\"\n                dialogClassName=\"setup-modal-dialog\"\n                backdropClassName=\"setup-modal-backdrop\"\n                aria-labelledby=\"setup-modal-title\" >\n                <Modal.Header>\n                    <Modal.Title id=\"setup-modal-title\">\n                        <img src={logo} alt=\"TacoTab logo\" id=\"setup-logo\" />\n                        Welcome to TacoTab!\n                    </Modal.Title>\n                </Modal.Header>\n\n                <Modal.Body>\n                    <p><strong>This is prerelease software, still under active development. Use at your own risk&mdash;this app might bite.</strong> For more information, see the <a href=\"https://github.com/rayoverweij/tacotab\" rel=\"noopener noreferrer\" target=\"_blank\">GitHub repository</a>.</p>\n                    <p>You can create a new tournament from scratch, or import data from a previous TacoTab tournament.</p>\n                    \n                    <Tabs defaultActiveKey=\"createnew\" id=\"setup-tabs\">\n                        <Tab eventKey=\"createnew\" title=\"New tournament\">\n                            <Form onSubmit={this.handleSetupFormSubmit}>\n                                <h5>Tournament name</h5>\n                                <Form.Group controlId=\"setupFormTournamentName\">\n                                    <Form.Control\n                                        name=\"tournamentName\"\n                                        type=\"text\"\n                                        placeholder=\"e.g. 'Bard MS-HS 2020'\"\n                                        value={this.state.setupForm.name}\n                                        onChange={this.handleSetupFormChange} />\n                                </Form.Group>\n\n                                <h5 id=\"setup-form-div-h5\">Speaker divisions</h5>\n                                <Form.Group controlId=\"setupFormNumDivisions\" id=\"setup-form-num-div\">\n                                    <Form.Label>Number of speaker divisions:&nbsp;&nbsp;</Form.Label>\n                                    <Form.Check inline custom\n                                        name=\"numDivisions\"\n                                        label=\"1\"\n                                        value={1}\n                                        type=\"radio\"\n                                        id=\"setup-form-divisions-1\"\n                                        checked={this.state.setupForm.numDivisions === 1}\n                                        onChange={this.handleSetupFormChange} />\n                                    <Form.Check inline custom\n                                        name=\"numDivisions\"\n                                        label=\"2\"\n                                        value={2}\n                                        type=\"radio\"\n                                        id=\"setup-form-divisions-2\"\n                                        checked={this.state.setupForm.numDivisions === 2}\n                                        onChange={this.handleSetupFormChange} />\n                                </Form.Group>\n\n                                <Collapse in={this.state.setupForm.numDivisions === 2}>\n                                    <div>\n                                        <Form.Group controlId=\"setupFormDivisionNames\">\n                                            <Form.Label>Give both divisions a name for easy identification.</Form.Label>\n                                            <Form.Row>\n                                                <Col md={6}>\n                                                    <Form.Control\n                                                        name=\"divisionOneName\"\n                                                        type=\"text\"\n                                                        placeholder=\"e.g. 'Novice'\"\n                                                        value={this.state.setupForm.divisionOneName}\n                                                        onChange={this.handleSetupFormChange} />\n                                                </Col>\n                                                <Col md={6}>\n                                                    <Form.Control\n                                                        name=\"divisionTwoName\"\n                                                        type=\"text\"\n                                                        placeholder=\"e.g. 'Open'\"\n                                                        value={this.state.setupForm.divisionTwoName}\n                                                        onChange={this.handleSetupFormChange} />\n                                                </Col>\n                                            </Form.Row>\n                                        </Form.Group>\n                                    </div>\n                                </Collapse>\n\n                                <Button variant=\"primary\" type=\"submit\" id=\"setup-form-submit\">\n                                    Create the tournament\n                                </Button>\n                            </Form>\n                        </Tab>\n\n                        <Tab eventKey=\"importnew\" title=\"Import tournament\">\n                            <p>Open files generated with the Export function.</p>\n                            <Form onSubmit={this.importData}>\n                                <Form.Row>\n                                    <Col md={9}>\n                                        <div className=\"custom-file\">\n                                            <Form.Control\n                                                name=\"import\"\n                                                id=\"import-setup\"\n                                                className=\"custom-file-input\"\n                                                type=\"file\"\n                                                accept=\".tournament,.json\" />\n                                            <label className=\"custom-file-label\" htmlFor=\"customFile\">Choose file</label>\n                                        </div>\n                                    </Col>\n                                    <Col md={3}>\n                                        <Button variant=\"primary\" type=\"submit\">Import</Button>\n                                    </Col>\n                                </Form.Row>\n                            </Form>\n                        </Tab>\n                    </Tabs>\n                </Modal.Body>\n            </Modal>\n        );\n    }\n}\n\nexport default SetupScreen;","import React from 'react';\n\nimport Row from 'react-bootstrap/Row';\nimport Col from 'react-bootstrap/Col';\n\nclass Welcome extends React.Component {\n    render() {\n        return (\n            <Row>\n                <Col>\n                    <h2>Welcome!</h2>\n                    <p><strong>This is prerelease software, still under active development. Use at your own risk.</strong> For more information, see the <a href=\"https://github.com/rayoverweij/tacotab\" rel=\"noopener noreferrer\" target=\"_blank\">GitHub repository</a>.</p>\n                </Col>\n            </Row>\n        );\n    }\n}\n\nexport default Welcome;","import React, { ChangeEvent, FormEvent } from 'react';\nimport './Settings.scss';\nimport GitHubLogo from '../images/icon-github.svg';\nimport { Config } from '../types/Config';\nimport { importTournament } from '../utils/importTournament';\nimport Row from 'react-bootstrap/Row';\nimport Col from 'react-bootstrap/Col';\nimport Form from 'react-bootstrap/Form';\nimport Button from 'react-bootstrap/Button';\nimport Modal from 'react-bootstrap/Modal';\nimport bsCustomFileInput from 'bs-custom-file-input';\nimport { Download, Trash } from 'react-bootstrap-icons';\n\n\ntype SettingsProps = {\n    config: Config,\n    tournamentName: string,\n    updateTournamentName: (name: string) => void,\n    updateConfig: (config: Config) => void\n}\n\ntype SettingsState = {\n    nameForm: string,\n    showModal: boolean\n}\n\nclass Settings extends React.Component<SettingsProps, SettingsState> {\n    constructor(props: SettingsProps) {\n        super(props);\n\n        this.state = {\n            nameForm: \"\",\n            showModal: false\n        }\n\n        this.handleNameFormChange = this.handleNameFormChange.bind(this);\n        this.handleNameFormSubmit = this.handleNameFormSubmit.bind(this);\n        this.importData = this.importData.bind(this);\n        this.exportData = this.exportData.bind(this);\n        this.clearData = this.clearData.bind(this);\n        this.showModal = this.showModal.bind(this);\n        this.hideModal = this.hideModal.bind(this);\n    }\n\n    componentDidMount() {\n        bsCustomFileInput.init();\n    }\n\n\n    handleNameFormChange(event: ChangeEvent<HTMLInputElement>) {\n        this.setState({nameForm: event.target.value});\n    }\n\n    handleNameFormSubmit(event: FormEvent<HTMLFormElement>) {\n        event.preventDefault();\n        const name = this.state.nameForm;\n        this.props.updateTournamentName(name);\n        this.setState({nameForm: \"\"});\n    }\n\n    importData(event: FormEvent<HTMLFormElement>) {\n        event.preventDefault();\n        const files = (document.getElementById(\"import-settings\") as HTMLInputElement).files;\n        if (files === null) return false;\n        importTournament(files);\n    }\n\n    exportData() {\n        let data = \"data:text/json;charset=utf-8,\";\n        data += encodeURIComponent(\"{\");\n        data += encodeURIComponent('\"init\": ' + localStorage.getItem(\"init\") + \",\");\n        data += encodeURIComponent('\"tournamentName\": ' + localStorage.getItem(\"tournamentName\") + \",\");\n        data += encodeURIComponent('\"config\": ' + localStorage.getItem(\"config\") + \",\");\n        data += encodeURIComponent('\"speakersOne\": ' + localStorage.getItem(\"speakersOne\") + \",\");\n        data += encodeURIComponent('\"teamsOne\": ' + localStorage.getItem(\"teamsOne\") + \",\");\n        data += encodeURIComponent('\"speakersTwo\": ' + localStorage.getItem(\"speakersTwo\") + \",\");\n        data += encodeURIComponent('\"teamsTwo\": ' + localStorage.getItem(\"teamsTwo\") + \",\");\n        data += encodeURIComponent('\"speakerCounter\": ' + localStorage.getItem(\"speakerCounter\") + \",\");\n        data += encodeURIComponent('\"teamCounter\": ' + localStorage.getItem(\"teamCounter\") + \",\");\n        data += encodeURIComponent('\"judges\": ' + localStorage.getItem(\"judges\") + \",\");\n        data += encodeURIComponent('\"judgeCounter\": ' + localStorage.getItem(\"judgeCounter\") + \",\");\n        data += encodeURIComponent('\"draws\": ' + localStorage.getItem(\"draws\"));\n        data += encodeURIComponent(\"}\");\n        \n        let name = this.props.tournamentName;\n        name = name.replace(/\\s+/g, '-').toLowerCase();\n        name += \".tournament\";\n\n        const downloadAnchorNode = document.createElement('a');\n        downloadAnchorNode.setAttribute(\"href\", data);\n        downloadAnchorNode.setAttribute(\"download\", name);\n        document.body.appendChild(downloadAnchorNode);\n        downloadAnchorNode.click();\n        downloadAnchorNode.remove();\n    }\n \n    clearData() {\n        const conf = window.confirm(\"Are you sure you want to delete all data?\");\n        if(!conf) return false;\n        localStorage.clear();\n        window.location.reload();\n    }\n\n    showModal() { this.setState({showModal: true}); }\n    hideModal() { this.setState({showModal: false}); }\n\n\n    render() {\n        return (\n            <>\n                <div>\n                    <h2>Settings</h2>\n                    <Row>\n                        <Col lg={8} className=\"col-settings\">\n                            <p>Manage your tournament.</p>\n                            <section>\n                                <h3>Change tournament name</h3>\n                                <Form onSubmit={this.handleNameFormSubmit}>\n                                    <Form.Row>\n                                        <Col sm={9} xl={6}>\n                                            <Form.Control\n                                                name=\"tournament-name\"\n                                                type=\"text\"\n                                                placeholder=\"New name\"\n                                                value={this.state.nameForm}\n                                                onChange={this.handleNameFormChange} />\n                                        </Col>\n                                        <Col>\n                                            <Button\n                                                variant=\"primary\"\n                                                type=\"submit\">\n                                                Save\n                                            </Button>\n                                        </Col>\n                                    </Form.Row>\n                                </Form>\n                            </section>\n                            <section>\n                                <h3>Import tournament data</h3>\n                                <p>Open files generated with the Export function below. <strong>Note:</strong> this will override all current data!</p>\n                                <Form onSubmit={this.importData}>\n                                    <Form.Row>\n                                        <Col xs={9} xl={6}>\n                                            <div className=\"custom-file\">\n                                                <Form.Control\n                                                    name=\"import\"\n                                                    id=\"import-settings\"\n                                                    className=\"custom-file-input\"\n                                                    type=\"file\"\n                                                    accept=\".tournament,.json\" />\n                                                <label className=\"custom-file-label\" htmlFor=\"customFile\">Choose file</label>\n                                            </div>\n                                        </Col>\n                                        <Col>\n                                            <Button variant=\"primary\" type=\"submit\">Import</Button>\n                                        </Col>\n                                    </Form.Row>\n                                </Form>\n                            </section>\n                            <section>\n                                <h3>Export tournament data</h3>\n                                <p>Save all tournament data to a file on your PC.</p>\n                                <Button\n                                    variant=\"primary\"\n                                    onClick={this.exportData}>\n                                    <Download className=\"btn-icon\" />\n                                    Export data\n                                </Button>\n                            </section>\n                            <section id=\"section-cleardata\">\n                                <h3>Clear tournament data</h3>\n                                <p>Warning: this will delete <strong>all</strong> entered data. Save your data using the Export function first.</p>\n                                <Button\n                                    variant=\"danger\"\n                                    onClick={this.clearData}>\n                                    <Trash className=\"btn-icon\" />\n                                    Clear data\n                                </Button>\n                            </section>\n                        </Col>\n                        <Col lg={4} className=\"col-settings\">\n                            <section id=\"section-about\">\n                                <h3>About</h3>\n                                <p>\n                                    TacoTab β version 0.4.0<br />\n                                    &copy; {new Date().getFullYear()} Rayo Verweij<br />\n                                    <img src={GitHubLogo} alt=\"GitHub logo\" id=\"logo-github\"/>&nbsp;\n                                    <a href=\"https://github.com/rayoverweij/tacotab\" rel=\"noopener noreferrer\" target=\"_blank\">\n                                        GitHub\n                                    </a>\n                                    &nbsp;&middot;&nbsp;<span className=\"fake-anchor\" onClick={this.showModal}>What's new</span>\n                                </p>\n                                <p>\n                                    <a href=\"https://rayo.dev\" rel=\"noopener noreferrer\" target=\"_blank\">Check out more of Rayo's work</a> or <a href=\"https://debate.bard.edu\" rel=\"noopener noreferrer\" target=\"_blank\">visit the Bard Debate Union</a>&mdash;Bard's best sports team!\n                                </p>\n                            </section>\n                        </Col>\n                    </Row>\n                </div>\n\n                <Modal\n                    show={this.state.showModal}\n                    onHide={this.hideModal}\n                    className=\"whatsnew-modal\"\n                    aria-labelledby=\"whatsnew-modal-title\" >\n                    <Modal.Header closeButton>\n                        <Modal.Title id=\"whatsnew-modal-title\">\n                            What's new\n                        </Modal.Title>\n                    </Modal.Header>\n\n                    <Modal.Body>\n                        <p>\n                            New in version 0.4.0:\n                            <ul>\n                                <li>General: the app's visual design has been refreshed, with a cleaner look and bolder fonts</li>\n                                <li>General: speaker schools, judge schools, and team names are now easily editable, and all text boxes now resize based on their content</li>\n                                <li>Teams: a new tooltip when adding a team or changing its speakers explains the available options to handle two-person teams</li>\n                                <li>Ranking: hovering over a team name now shows its members</li>\n                                <li>Draw: it is now possible to swap two teams within a division</li>\n                                <li>Draw: it is now possible to delete the most recent draw</li>\n                                <li>Settings: exported files now have a <code>.tournament</code> extension - it's still JSON, but a custom extension should prevent accidental opening and editing the files</li>\n                                <li>Settings: there are now more checks to make sure the app doesn't crash hen a file is imported that wasn't generated by the app itself</li>\n                                <li>Settings: the new changelog (this one!) shows all changes since the latest update</li>\n                            </ul>\n                        </p>\n                    </Modal.Body>\n                </Modal>\n            </>\n        );\n    }\n}\n\nexport default Settings;","import React from 'react';\nimport Welcome from './Welcome';\nimport Settings from './Settings';\nimport { Config } from '../types/Config';\nimport Tab from 'react-bootstrap/Tab';\nimport Row from 'react-bootstrap/Row';\nimport Col from 'react-bootstrap/Col';\nimport Nav from 'react-bootstrap/Nav';\nimport { HouseDoorFill, GearWideConnected } from 'react-bootstrap-icons';\n\n\ntype HomeProps = {\n    config: Config,\n    tournamentName: string,\n    updateTournamentName: (name: string) => void,\n    updateConfig: (config: Config) => void\n}\n\nclass Home extends React.Component<HomeProps> {\n    render() {\n        return (\n            <Tab.Container id=\"home-view\" defaultActiveKey=\"welcome\" transition={false}>\n                <Row>\n                    <Col md={3} lg={2}>\n                        <Nav variant=\"pills\" className=\"sub-nav\">\n                            <Nav.Item>\n                                <Nav.Link eventKey=\"welcome\" className=\"sub-nav-link\">\n                                    <HouseDoorFill className=\"btn-icon\"/>\n                                    Welcome\n                                </Nav.Link>\n                            </Nav.Item>\n                            <Nav.Item>\n                                <Nav.Link eventKey=\"settings\" className=\"sub-nav-link\">\n                                    <GearWideConnected className=\"btn-icon\"/>\n                                    Settings\n                                </Nav.Link>\n                            </Nav.Item>\n                        </Nav>\n                    </Col>\n                    <Col md={9} lg={10}>\n                        <Tab.Content>\n                            <Tab.Pane eventKey=\"welcome\">\n                                <Welcome />\n                            </Tab.Pane>\n                            <Tab.Pane eventKey=\"settings\">\n                                <Settings\n                                    config={this.props.config}\n                                    tournamentName={this.props.tournamentName}\n                                    updateTournamentName={this.props.updateTournamentName}\n                                    updateConfig={this.props.updateConfig} />\n                            </Tab.Pane>\n                        </Tab.Content>\n                    </Col>\n                </Row>\n            </Tab.Container>\n        );\n    }\n}\n\nexport default Home;","import React, { ChangeEvent, FocusEvent } from 'react';\nimport Form from 'react-bootstrap/Form';\nimport { Trash, TrashFill } from 'react-bootstrap-icons';\nimport { Speaker } from '../types/Speaker';\n\n\ntype SpeakerRowProps = {\n    speaker: Speaker,\n    updateSpeaker: (speaker: Speaker) => void,\n    deleteSpeaker: (speaker: Speaker) => void\n}\n\ntype SpeakerRowState = {\n    name: string,\n    school: string,\n    disqualified: boolean,\n    trashFill: boolean,\n    [key: string]: string|boolean\n}\n\nclass SpeakerRow extends React.Component<SpeakerRowProps, SpeakerRowState> {\n    constructor(props: SpeakerRowProps) {\n        super(props);\n\n        this.state = {\n            name: this.props.speaker.name,\n            school: this.props.speaker.school,\n            disqualified: this.props.speaker.disqualified,\n            trashFill: false\n        }\n\n        this.handleTextEdit = this.handleTextEdit.bind(this);\n        this.handleTextUpdate = this.handleTextUpdate.bind(this);\n        this.handleDisqUpdate = this.handleDisqUpdate.bind(this);\n        this.trashOnMouseEnter = this.trashOnMouseEnter.bind(this);\n        this.trashOnMouseLeave = this.trashOnMouseLeave.bind(this);\n    }\n\n    handleTextEdit(event: ChangeEvent<HTMLTextAreaElement>) {\n        const {name, value} = event.target;\n        let state = {...this.state};\n        state[name] = value;\n        this.setState(state);\n    }\n    \n    handleTextUpdate(event: FocusEvent<HTMLTextAreaElement>) {\n        event.preventDefault();\n        const name = event.target.name;\n        const value = this.state[name];\n        const speaker = this.props.speaker;\n        speaker[name] = value;\n        this.props.updateSpeaker(speaker);\n    }\n\n    handleDisqUpdate(event: ChangeEvent<HTMLInputElement>) {\n        const checked = event.target.checked;\n        const speaker = this.props.speaker;\n        speaker.disqualified = checked;\n        this.setState({disqualified: checked});\n        this.props.updateSpeaker(speaker);\n    }\n\n    trashOnMouseEnter() {\n        this.setState({trashFill: true});\n    }\n\n    trashOnMouseLeave() {\n        this.setState({trashFill: false});\n    }\n    \n    render() {\n        const speaker = this.props.speaker;\n\n        return (\n            <tr key={`speaker-row-${speaker.speakerID}`}>\n                <td className=\"editable\">\n                    <textarea\n                        className=\"cell-valupdate\"\n                        name=\"name\"\n                        rows={1}\n                        cols={this.state.name.length > 8 ? this.state.name.length : 8}\n                        autoComplete=\"off\"\n                        spellCheck=\"false\"\n                        value={this.state.name}\n                        onChange={this.handleTextEdit}\n                        onBlur={this.handleTextUpdate} />\n                </td>\n                <td className=\"editable\">\n                    <textarea\n                        className=\"cell-valupdate\"\n                        name=\"school\"\n                        rows={1}\n                        cols={this.state.school.length > 8 ? this.state.school.length : 8}\n                        autoComplete=\"off\"\n                        spellCheck=\"false\"\n                        value={this.state.school}\n                        onChange={this.handleTextEdit}\n                        onBlur={this.handleTextUpdate} />\n                </td>\n                <td className=\"cell-low-padding\">\n                    <Form.Check\n                        id={`speaker-disq-${speaker.speakerID}`}\n                        type=\"switch\"\n                        name=\"disqualified\"\n                        label=\"\"\n                        onChange={this.handleDisqUpdate}\n                        checked={this.state.disqualified}\n                        className={this.state.disqualified ? \"on\" : \"off\"} />\n                </td>\n                <td className=\"table-delete\">\n                    {this.state.trashFill ? \n                        <TrashFill\n                            role=\"button\"\n                            className=\"icon red\"\n                            onMouseEnter={this.trashOnMouseEnter}\n                            onMouseLeave={this.trashOnMouseLeave}\n                            onClick={() => this.props.deleteSpeaker(speaker)} />\n                        :\n                        <Trash\n                            role=\"button\"\n                            className=\"icon\"\n                            onMouseEnter={this.trashOnMouseEnter}\n                            onMouseLeave={this.trashOnMouseLeave}\n                            onClick={() => this.props.deleteSpeaker(speaker)} />\n                    }\n                </td>\n            </tr>\n        );\n    }\n}\n\nexport default SpeakerRow;","import React, { ChangeEvent, FormEvent } from 'react';\nimport './Speakers.scss';\nimport SpeakerRow from './SpeakerRow';\nimport { Speaker } from '../types/Speaker';\nimport { Team } from '../types/Team';\nimport Row from 'react-bootstrap/Row';\nimport Col from 'react-bootstrap/Col';\nimport Form from 'react-bootstrap/Form';\nimport Button from 'react-bootstrap/Button';\nimport Table from 'react-bootstrap/Table';\nimport OverlayTrigger from 'react-bootstrap/OverlayTrigger';\nimport Tooltip from 'react-bootstrap/Tooltip';\nimport { TrashFill } from 'react-bootstrap-icons';\n\n\ntype SpeakersProps = {\n    speakers: Speaker[],\n    teams: Team[],\n    updateSpeakers: (speakers: Speaker[]) => void\n}\n\ntype SpeakersState = {\n    addSpeakerForm: {\n        speakerName: string,\n        school: string,\n        [key: string]: string\n    }\n}\n\nclass Speakers extends React.Component<SpeakersProps, SpeakersState> {\n    constructor(props: SpeakersProps) {\n        super(props);\n\n        this.state = {\n            addSpeakerForm: {\n                speakerName: \"\",\n                school: \"\"\n            }\n        }\n\n        this.handleAddSpeakerFormChange = this.handleAddSpeakerFormChange.bind(this);\n        this.handleAddSpeakerFormSubmit = this.handleAddSpeakerFormSubmit.bind(this);\n        this.updateSpeaker = this.updateSpeaker.bind(this);\n        this.deleteSpeaker = this.deleteSpeaker.bind(this);\n    }\n\n\n    handleAddSpeakerFormChange(event: ChangeEvent<HTMLInputElement>) {\n        const { name, value } = event.target;\n        let addSpeakerFormState = {...this.state.addSpeakerForm};\n        addSpeakerFormState[name] = value;\n        this.setState({addSpeakerForm: addSpeakerFormState});\n    }\n\n    handleAddSpeakerFormSubmit(event: FormEvent<HTMLFormElement>) {\n        event.preventDefault();\n\n        let speakers = this.props.speakers;\n        let counter = JSON.parse(localStorage.getItem(\"speakerCounter\")!);\n\n        const newSpeaker: Speaker = {\n            speakerID: counter++,\n            name: this.state.addSpeakerForm.speakerName,\n            school: this.state.addSpeakerForm.school,\n            scores: [0, 0, 0],\n            ranks: [0, 0, 0],\n            wins: 0,\n            disqualified: false\n        };\n        speakers.push(newSpeaker);\n\n        localStorage.setItem(\"speakerCounter\", JSON.stringify(counter));\n        this.props.updateSpeakers(speakers);\n\n        let blankForm = {...this.state.addSpeakerForm};\n        blankForm.speakerName = \"\";\n        this.setState({addSpeakerForm: blankForm});\n    }\n\n    updateSpeaker(speaker: Speaker) {\n        let speakers = this.props.speakers;\n        const index = speakers.indexOf(speaker);\n        speakers[index] = speaker;\n        this.props.updateSpeakers(speakers);\n    }\n\n    deleteSpeaker(speaker: Speaker) {\n        for(const team of this.props.teams) {\n            if(team.round1.includes(speaker.speakerID) || team.round2.includes(speaker.speakerID) || team.round3.includes(speaker.speakerID)) {\n                window.alert(`This speaker is still part of team ${team.name}. You need to remove them from the team before you can delete them.`);\n                return;\n            }\n        }\n\n        const conf = window.confirm(`Are you sure you want to delete speaker ${speaker.name}?`);\n        if(conf) {\n            let speakers = this.props.speakers;\n            const index = speakers.indexOf(speaker);\n            speakers.splice(index, 1);\n            this.props.updateSpeakers(speakers);\n        }\n    }\n\n\n    render() {\n        let table;\n        if(this.props.speakers.length === 0) {\n            table = <p className=\"none-yet\">No speakers yet!</p>;\n        } else {\n            table = (\n                <Table className=\"speaker-table\" hover bordered>\n                    <thead>\n                        <tr>\n                            <th>Name</th>\n                            <th>School</th>\n                            <th>\n                                <OverlayTrigger\n                                    placement=\"top\"\n                                    overlay={\n                                        <Tooltip id=\"tooltip-disqualify-info\">\n                                            Disqualified speakers can still be added to teams and receive scores, but won't be listed in the ranking\n                                        </Tooltip>\n                                    }>\n                                    <abbr title=\"\">Disq</abbr>\n                                </OverlayTrigger>\n                            </th>\n                            <th className=\"table-delete\">\n                                <TrashFill className=\"icon\" />\n                            </th>\n                        </tr>\n                    </thead>\n                    <tbody>\n                        {this.props.speakers.map(speaker => {\n                            return (\n                                <SpeakerRow \n                                    key={`speaker-row-${speaker.speakerID}`}\n                                    speaker={speaker}\n                                    updateSpeaker={this.updateSpeaker}\n                                    deleteSpeaker={this.deleteSpeaker} />\n                            );\n                        })}\n                    </tbody>\n                </Table>\n            );\n            \n            \n        }\n\n        return (\n            <div>\n                <h2>Speakers</h2>\n                <Row>\n                    <Col>\n                    \n                        <Form onSubmit={this.handleAddSpeakerFormSubmit}>\n                            <Form.Row>\n                                <Col md={4}>\n                                    <Form.Control\n                                        name=\"speakerName\"\n                                        type=\"text\"\n                                        placeholder=\"Name\"\n                                        value={this.state.addSpeakerForm.speakerName}\n                                        onChange={this.handleAddSpeakerFormChange} />\n                                </Col>\n                                <Col md={4}>\n                                    <Form.Control\n                                        name=\"school\"\n                                        type=\"text\"\n                                        placeholder=\"School\"\n                                        value={this.state.addSpeakerForm.school}\n                                        onChange={this.handleAddSpeakerFormChange} />\n                                </Col>\n                                <Col>\n                                    <Button\n                                        variant=\"primary\"\n                                        className=\"btn-submit\"\n                                        type=\"submit\">\n                                        Add speaker\n                                    </Button>\n                                </Col>\n                            </Form.Row>\n                        </Form>\n                    </Col>\n                </Row>\n\n                <Row>\n                    <Col lg={10} xl={8} className=\"table-col\">\n                        {table}\n                    </Col>\n                </Row>\n            </div>\n        );\n    }\n}\n\nexport default Speakers;","import React, { ChangeEvent } from 'react';\nimport { Speaker } from '../types/Speaker';\n\n\ntype TeamCellProps = {\n    type: string,\n    speaker: Speaker,\n    round: number,\n    fn: (speaker: Speaker, no: number, value: number) => void\n}\n\ntype TeamCellState = {\n    value: string\n}\n\nclass TeamCell extends React.Component<TeamCellProps, TeamCellState> {\n    constructor(props: TeamCellProps) {\n        super(props);\n\n        this.state = {\n            value: this.props.type === \"score\" ? this.props.speaker.scores[this.props.round].toString() : this.props.speaker.ranks[this.props.round].toString()\n        }\n\n        this.handleEdit = this.handleEdit.bind(this);\n        this.handleUpdate = this.handleUpdate.bind(this);\n    }\n\n\n    handleEdit(event: ChangeEvent<HTMLTextAreaElement>) {\n        this.setState({value: event.target.value});\n    }\n\n    handleUpdate(event: ChangeEvent<HTMLTextAreaElement>) {\n        event.preventDefault();\n        let value: string = this.state.value;\n        if(!value || isNaN(Number(value))) {\n            value = \"0\";\n        }\n        this.props.fn(this.props.speaker, this.props.round, Number(value));\n    }\n\n\n    render() {\n        return (\n            <textarea\n                rows={1}\n                cols={this.props.type === \"score\" ? 2 : 1}\n                maxLength={this.props.type === \"score\" ? 2 : 1}\n                autoComplete=\"off\"\n                value={this.state.value}\n                onChange={this.handleEdit}\n                onBlur={this.handleUpdate} />\n        );\n    }\n}\n\nexport default TeamCell;","import React, { ChangeEvent } from 'react';\nimport { Team } from '../types/Team';\nimport Col from 'react-bootstrap/Col';\nimport Form from 'react-bootstrap/Form';\n\n\ntype TeamSpeakerSelectProps = {\n    team: Team,\n    speakerPos: number,\n    round: number,\n    value: Array<number[]>,\n    handleUpdateTeamFormChange: (value: number, speaker: number, round: number) => void,\n    speakerPicker: JSX.Element[]\n}\n\ntype TeamSpeakerSelectState = {\n    value: number\n}\n\nclass TeamSpeakerSelect extends React.Component<TeamSpeakerSelectProps, TeamSpeakerSelectState> {\n    constructor(props: TeamSpeakerSelectProps) {\n        super(props);\n\n        let roundKey: keyof Team;\n        if(this.props.round === 1) {\n            roundKey = \"round1\";\n        } else if(this.props.round === 2) {\n            roundKey = \"round2\";\n        } else {\n            roundKey = \"round3\";\n        }\n\n        this.state = {\n            value: this.props.team[roundKey][this.props.speakerPos]\n        }\n\n        this.handleFormChange = this.handleFormChange.bind(this);\n    }\n\n\n    handleFormChange(event: ChangeEvent<HTMLInputElement>) {\n        const value = parseInt(event.target.value);\n        this.setState({value: value});\n        this.props.handleUpdateTeamFormChange(value, this.props.speakerPos, this.props.round);\n    }\n\n\n    render() {\n        return (\n            <Col>\n                <Form.Group controlId={`form-update-team-${this.props.team.teamID}-speaker-${this.props.speakerPos}-round-${this.props.round}`}>\n                    <Form.Label>Round {this.props.round}</Form.Label>\n                    <Form.Control\n                        as=\"select\"\n                        name={`speaker-${this.props.speakerPos}-round-${this.props.round}`}\n                        value={this.state.value}\n                        onChange={this.handleFormChange}>\n                            {this.props.speakerPos === 2 ? <option value={-1}>[averaged third speaker]</option> : \"\"}\n                            {this.props.speakerPicker}\n                    </Form.Control>\n                </Form.Group>\n            </Col>\n        );\n    }\n}\n\nexport default TeamSpeakerSelect;","import React, { ChangeEvent } from 'react';\nimport { Team } from '../types/Team';\nimport Form from 'react-bootstrap/Form';\n\n\ntype TeamWinSelectorProps = {\n    team: Team,\n    round: number,\n    updateTeam: (team: Team) => void\n}\n\ntype TeamWinSelectorState = {\n    win: boolean\n}\n\nclass TeamWinSelector extends React.Component<TeamWinSelectorProps, TeamWinSelectorState> {\n    constructor(props: TeamWinSelectorProps){\n        super(props);\n\n        this.state = {\n            win: this.props.team.wins[this.props.round - 1]\n        }\n\n        this.handleWinFormUpdate = this.handleWinFormUpdate.bind(this);\n    }\n\n\n    handleWinFormUpdate(event: ChangeEvent<HTMLInputElement>) {\n        let team = this.props.team;\n\n        if(event.target.value === \"true\") {\n            team.wins[this.props.round - 1] = true;\n            team.totalWins += 1;\n            this.setState({win: true});\n        } else {\n            team.wins[this.props.round - 1] = false;\n            team.totalWins -= 1;\n            this.setState({win: false});\n        }\n\n        this.props.updateTeam(team);\n    }\n\n\n    render() {\n        return (\n            <Form>\n                <Form.Control\n                    as=\"select\"\n                    name={`win-form-${this.props.team.teamID}-round-${this.props.round}`}\n                    value={this.state.win.toString()}\n                    onChange={this.handleWinFormUpdate}>\n                        <option value=\"true\">Win</option>\n                        <option value=\"false\">Loss</option>\n                </Form.Control>\n            </Form>\n        );\n    }\n}\n\nexport default TeamWinSelector;","import React from 'react';\nimport OverlayTrigger from 'react-bootstrap/OverlayTrigger';\nimport Tooltip from 'react-bootstrap/Tooltip';\nimport { InfoCircle } from 'react-bootstrap-icons';\n\nclass TwoPersonTeamTooltip extends React.Component {\n    render() {\n        return (\n            <OverlayTrigger\n                placement=\"top\"\n                overlay={\n                    <Tooltip id=\"tooltip-totalspeakerpoints\">\n                        There are two ways to handle two-person teams. When choosing \"averaged third speaker\", the points and ranks for both speakers will be averaged. If instead you want the speeches of one team member to count double, create a new \"ghost\" speaker in the Speakers tab, disqualify them, and add them here.\n                    </Tooltip>\n                }>    \n                <InfoCircle className=\"icon-info\" />\n            </OverlayTrigger>\n        );\n    }\n}\n\nexport default TwoPersonTeamTooltip;","import { Team } from '../types/Team';\n\nexport function getDistinctSpeakers(team: Team) {\n    let sp = []\n    for(let s = 0; s < 3; s++) {\n        sp.push(team.round1[s]);\n        sp.push(team.round2[s]);\n        sp.push(team.round3[s]);\n    }\n    return [...new Set(sp)];\n}","import React, { FormEvent, ChangeEvent, FocusEvent } from 'react';\nimport TeamCell from './TeamCell';\nimport TeamSpeakerSelect from './TeamSpeakerSelect';\nimport TeamWinSelector from './TeamWinSelector';\nimport TwoPersonTeamTooltip from './TwoPersonTeamTooltip';\nimport { getDistinctSpeakers } from '../utils/getDistinctSpeakers';\nimport { Speaker } from '../types/Speaker';\nimport { Team } from '../types/Team';\nimport Modal from 'react-bootstrap/Modal';\nimport Form from 'react-bootstrap/Form';\nimport Button from 'react-bootstrap/Button';\nimport { Trash, TrashFill, People, PeopleFill } from 'react-bootstrap-icons';\n\n\ntype TeamRowProps = {\n    team: Team,\n    div: number,\n    speakers: Speaker[],\n    teams: Team[],\n    updateSpeakers: (speakers: Speaker[]) => void,\n    updateTeam: (team: Team) => void,\n    deleteTeam: (team: Team) => void,\n    speakerPicker: JSX.Element[]\n}\n\ntype TeamRowState = {\n    name: string,\n    speakers: number[],\n    updateTeamForm: Array<number[]>,\n    showModal: boolean,\n    showWarning: boolean,\n    trashFill: boolean,\n    peopleFill: boolean\n}\n\nclass TeamRow extends React.Component<TeamRowProps, TeamRowState> {\n    constructor(props: TeamRowProps) {\n        super(props);\n        \n        this.state = {\n            name: this.props.team.name,\n            speakers: getDistinctSpeakers(this.props.team),\n            updateTeamForm: [\n                [this.props.team.round1[0], this.props.team.round2[0], this.props.team.round3[0]],\n                [this.props.team.round1[1], this.props.team.round2[1], this.props.team.round3[1]],\n                [this.props.team.round1[2], this.props.team.round2[2], this.props.team.round3[2]]\n            ],\n            showModal: false,\n            showWarning: false,\n            trashFill: false,\n            peopleFill: false\n        }\n\n        this.handleTeamNameEdit = this.handleTeamNameEdit.bind(this);\n        this.handleTeamNameUpdate = this.handleTeamNameUpdate.bind(this);\n        this.setScore = this.setScore.bind(this);\n        this.setRank = this.setRank.bind(this);\n        this.modalShow = this.modalShow.bind(this);\n        this.modalHide = this.modalHide.bind(this);\n        this.handleUpdateTeamFormChange = this.handleUpdateTeamFormChange.bind(this);\n        this.handleTeamUpdate = this.handleTeamUpdate.bind(this);\n        this.trashOnMouseEnter = this.trashOnMouseEnter.bind(this);\n        this.trashOnMouseLeave = this.trashOnMouseLeave.bind(this);\n        this.peopleOnMouseEnter = this.peopleOnMouseEnter.bind(this);\n        this.peopleOnMouseLeave = this.peopleOnMouseLeave.bind(this);\n    }\n\n\n    handleTeamNameEdit(event: ChangeEvent<HTMLTextAreaElement>) {\n        this.setState({name: event.target.value});\n    }\n    \n    handleTeamNameUpdate(event: FocusEvent<HTMLTextAreaElement>) {\n        event.preventDefault();\n        const name = this.state.name;\n        const team = this.props.team;\n        team.name = name;\n        this.props.updateTeam(team);\n    }\n    \n    modalShow() {\n        this.setState({showModal: true});\n    }\n\n    modalHide() {\n        this.setState({showModal: false});\n    }\n    \n    setScore(speaker: Speaker, no: number, value: number) {\n        let speakers = this.props.speakers;\n        speakers\n            .find(el => el.speakerID.toString() === speaker.speakerID.toString())!\n            .scores[no] = value;\n\n        this.props.updateSpeakers(speakers);\n    }\n\n    setRank(speaker: Speaker, no: number, value: number) {\n        let speakers = this.props.speakers;\n        speakers\n            .find(el => el.speakerID.toString() === speaker.speakerID.toString())!\n            .ranks[no] = value;\n        \n        this.props.updateSpeakers(speakers);\n    }\n\n    handleUpdateTeamFormChange(value: number, speakerPos: number, round: number) {\n        let updateTeamFormState = this.state.updateTeamForm;\n        updateTeamFormState[speakerPos][round - 1] = value;\n        this.setState({updateTeamForm: updateTeamFormState});\n    }\n\n    handleTeamUpdate(event: FormEvent<HTMLFormElement>) {\n        event.preventDefault();\n\n        const newTeam = [...this.state.updateTeamForm];\n        if((newTeam[0][0] === newTeam[1][0] || newTeam[0][0] === newTeam[2][0] || newTeam[1][0] === newTeam[2][0])\n            || (newTeam[0][1] === newTeam[1][1] || newTeam[0][1] === newTeam[2][1] || newTeam[1][1] === newTeam[2][1])\n            || (newTeam[0][2] === newTeam[1][2] || newTeam[0][2] === newTeam[2][2] || newTeam[1][2] === newTeam[2][2])) {\n                this.setState({showWarning: true});\n                return false;\n            }\n\n        let team = this.props.team;\n        team.round1 = [newTeam[0][0], newTeam[1][0], newTeam[2][0]];\n        team.round2 = [newTeam[0][1], newTeam[1][1], newTeam[2][1]];\n        team.round3 = [newTeam[0][2], newTeam[1][2], newTeam[2][2]];\n\n        this.props.updateTeam(team);\n        this.setState({speakers: getDistinctSpeakers(this.props.team)});\n        this.setState({showWarning: false});\n        this.modalHide();\n    }\n\n    trashOnMouseEnter() { this.setState({trashFill: true}); }\n    trashOnMouseLeave() { this.setState({trashFill: false}); }\n    peopleOnMouseEnter() { this.setState({peopleFill: true}); }\n    peopleOnMouseLeave() { this.setState({peopleFill: false}); }\n\n\n    render() {\n        const team = this.props.team;\n        const speakers = this.state.speakers.map(sp => {\n            if(sp === -1) {\n                return null;\n            } else {\n                return this.props.speakers.find(el => el.speakerID === sp)!;\n            }\n        });\n        \n        // Calculate average scores\n        if(speakers.includes(null)) {\n            const index = speakers.indexOf(null);\n\n            speakers[index] = {\n                speakerID: -1,\n                name: \"[averaged third speaker]\",\n                school: \"\",\n                scores: [\n                    (speakers[0]!.scores[0] + speakers[1]!.scores[0]) / 2,\n                    (speakers[0]!.scores[1] + speakers[1]!.scores[1]) / 2,\n                    (speakers[0]!.scores[2] + speakers[1]!.scores[2]) / 2\n                ],\n                ranks: [\n                    (speakers[0]!.ranks[0] + speakers[1]!.ranks[0]) / 2,\n                    (speakers[0]!.ranks[1] + speakers[1]!.ranks[1]) / 2,\n                    (speakers[0]!.ranks[2] + speakers[1]!.ranks[2]) / 2\n                ],\n                wins: 0,\n                disqualified: true\n            }\n        }\n\n        // Generate the table rows\n        const speakerRows = speakers.map(speaker => {\n            speaker = speaker!\n\n            if(speaker.speakerID === -1) {\n                return <tr key={`${team.teamID}-average-third`}></tr>;\n            }\n\n            const isInR1 = this.props.team.round1.includes(speaker.speakerID);\n            const isInR2 = this.props.team.round2.includes(speaker.speakerID);\n            const isInR3 = this.props.team.round3.includes(speaker.speakerID);\n\n            let totalScores = 0;\n            if (isInR1) totalScores += speaker.scores[0];\n            if (isInR2) totalScores += speaker.scores[1];\n            if (isInR3) totalScores += speaker.scores[2];\n\n            let totalRanks = 0;\n            if (isInR1) totalRanks += speaker.ranks[0];\n            if (isInR2) totalRanks += speaker.ranks[1];\n            if (isInR3) totalRanks += speaker.ranks[2];\n\n            return (\n                <tr key={`${speaker.name}-${this.props.div}-row`}>\n                    <td>{speaker.name}</td>\n                    {\n                        [isInR1, isInR2, isInR3].map((isInR, i) => {\n                            return [\"score\", \"rank\"].map(t => {\n                                return (\n                                    <td className={isInR ? \"editable\" : \"disabled\"}>\n                                        <TeamCell\n                                            key={`teamcell-${speaker!.speakerID}-${i}-${t}`}\n                                            type={t}\n                                            speaker={speaker!}\n                                            round={i}\n                                            fn={t === \"score\" ? this.setScore : this.setRank} />\n                                    </td>\n                                );\n                            })\n                        })\n                    }\n                    <td>{totalScores}</td>\n                    <td>{totalRanks}</td>\n                </tr>\n            );\n        });\n\n        // Calculate total scores\n        let scores1 = 0;\n        speakers.forEach(speaker => {\n            if(this.props.team.round1.includes(speaker!.speakerID)) {\n                scores1 += speaker!.scores[0]\n            }\n        });\n        let scores2 = 0;\n        speakers.forEach(speaker => {\n            if(this.props.team.round2.includes(speaker!.speakerID)) {\n                scores2 += speaker!.scores[1]\n            }\n        });\n        let scores3 = 0;\n        speakers.forEach(speaker => {\n            if(this.props.team.round3.includes(speaker!.speakerID)) {\n                scores3 += speaker!.scores[2]\n            }\n        });\n\n        // Calculate total ranks\n        let ranks1 = 0;\n        speakers.forEach(speaker => {\n            if(this.props.team.round1.includes(speaker!.speakerID)) {\n                ranks1 += speaker!.ranks[0]\n            }\n        });\n        let ranks2 = 0;\n        speakers.forEach(speaker => {\n            if(this.props.team.round2.includes(speaker!.speakerID)) {\n                ranks2 += speaker!.ranks[1]\n            }\n        });\n        let ranks3 = 0;\n        speakers.forEach(speaker => {\n            if(this.props.team.round3.includes(speaker!.speakerID)) {\n                ranks3 += speaker!.ranks[2]\n            }\n        });\n\n\n        // Update team scores\n        team.totalPoints = scores1 + scores2 + scores3;\n        let teams = this.props.teams;\n        const index = teams.findIndex(el => {\n            return el.teamID === team.teamID;\n        });\n        teams[index] = team;\n        if(this.props.div === 1) {\n            localStorage.setItem(\"teamsOne\", JSON.stringify(teams));\n        } else {\n            localStorage.setItem(\"teamsTwo\", JSON.stringify(teams));\n        }\n\n        // Update the people selection picker\n        const teamSpeakerSelects = [0, 1, 2].map(speakerPos => {\n            return (\n                <div key={`teamSpeakerSelectRow-team-${team.teamID}-speaker-${speakerPos}`} className=\"form-update-team-speaker\">\n                    <p>Speaker {speakerPos + 1}</p>\n                    {speakerPos === 2 ? <TwoPersonTeamTooltip /> : \"\"}\n                    <Form.Row>\n                        {\n                            [1, 2, 3].map(round => {\n                                return (\n                                    <TeamSpeakerSelect\n                                        key={`teamSpeakerSelect-team-${team.teamID}-speaker-${round}-round-${round}`}\n                                        team={team}\n                                        speakerPos={speakerPos}\n                                        round={round}\n                                        value={this.state.updateTeamForm}\n                                        handleUpdateTeamFormChange={this.handleUpdateTeamFormChange}\n                                        speakerPicker={this.props.speakerPicker} />\n                                );\n                            })\n                        }\n                    </Form.Row>\n                </div>\n            );\n        });\n\n\n        return (\n            <tbody>\n                <tr>\n                    <td rowSpan={this.state.speakers.length + 3} className=\"cell-teamname\">\n                        <textarea\n                            className=\"cell-valupdate\"\n                            rows={1}\n                            cols={this.state.name.length > 8 ? this.state.name.length : 8}\n                            autoComplete=\"off\"\n                            spellCheck=\"false\"\n                            value={this.state.name}\n                            onChange={this.handleTeamNameEdit}\n                            onBlur={this.handleTeamNameUpdate} />\n                        <br />\n                        {this.state.peopleFill ?\n                            <PeopleFill\n                                role=\"button\"\n                                className=\"icon\"\n                                onMouseEnter={this.peopleOnMouseEnter}\n                                onMouseLeave={this.peopleOnMouseLeave}\n                                onClick={this.modalShow} />\n                            :\n                            <People\n                                role=\"button\"\n                                className=\"icon\"\n                                onMouseEnter={this.peopleOnMouseEnter}\n                                onMouseLeave={this.peopleOnMouseLeave}\n                                onClick={this.modalShow} />\n                        }\n                        {this.state.trashFill ? \n                            <TrashFill\n                                role=\"button\"\n                                className=\"icon red\"\n                                onMouseEnter={this.trashOnMouseEnter}\n                                onMouseLeave={this.trashOnMouseLeave}\n                                onClick={() => this.props.deleteTeam(team)} />\n                            :\n                            <Trash\n                                role=\"button\"\n                                className=\"icon\"\n                                onMouseEnter={this.trashOnMouseEnter}\n                                onMouseLeave={this.trashOnMouseLeave}\n                                onClick={() => this.props.deleteTeam(team)} />\n                        }\n                    </td>\n                </tr>\n                {speakerRows}\n                <tr className=\"row-total\">\n                    <td>Team total</td>\n                    <td>{scores1}</td>\n                    <td>{ranks1}</td>\n                    <td>{scores2}</td>\n                    <td>{ranks2}</td>\n                    <td>{scores3}</td>\n                    <td>{ranks3}</td>\n                    <td>{scores1 + scores2 + scores3}</td>\n                    <td>{ranks1 + ranks2 + ranks3}</td>\n                </tr>\n                <tr className=\"row-wins\">\n                    <td>Team wins</td>\n                    <td colSpan={2}>\n                        <TeamWinSelector team={this.props.team} round={1} updateTeam={this.props.updateTeam} />\n                    </td>\n                    <td colSpan={2}>\n                        <TeamWinSelector team={this.props.team} round={2} updateTeam={this.props.updateTeam} />\n                    </td>\n                    <td colSpan={2}>\n                        <TeamWinSelector team={this.props.team} round={3} updateTeam={this.props.updateTeam} />\n                    </td>\n                    <td colSpan={2} className=\"cell-totalwins\">\n                        Total wins: {team.totalWins}\n                    </td>\n                </tr>\n\n                <Modal show={this.state.showModal} size=\"lg\" onHide={this.modalHide}>\n                    <Modal.Header closeButton>\n                        <Modal.Title>Specify team members per round</Modal.Title>\n                    </Modal.Header>\n\n                    <Modal.Body>\n                        <Form onSubmit={this.handleTeamUpdate}>\n                            {teamSpeakerSelects}\n                            <p className={`red ${this.state.showWarning ? \"\" : \"hidden\"}`}>\n                                You can't add a speaker to the same round more than once!\n                            </p>\n                            <Button\n                                variant=\"primary\"\n                                className=\"btn-submit\"\n                                type=\"submit\">\n                                Save\n                            </Button>\n                        </Form>\n                    </Modal.Body>\n                </Modal>\n            </tbody>\n        );\n    }\n}\n\nexport default TeamRow;","import React from 'react';\nimport './TeamTable.scss';\nimport TeamRow from './TeamRow';\nimport { Speaker } from '../types/Speaker';\nimport { Team } from '../types/Team';\nimport Table from 'react-bootstrap/Table';\n\n\ntype TeamTableProps = {\n    div: number,\n    speakers: Speaker[],\n    teams: Team[],\n    updateSpeakers: (speakers: Speaker[]) => void,\n    updateTeam: (team: Team) => void,\n    deleteTeam: (team: Team) => void,\n    speakerPicker: JSX.Element[]\n}\n\nclass TeamTable extends React.Component<TeamTableProps> {\n    render() {\n        return (\n            <Table hover className=\"team-table table-no-top-margin\">\n                <thead>\n                    <tr>\n                        <th>Team</th>\n                        <th>Speakers</th>\n                        <th>R1 Score</th>\n                        <th>R1 Rank</th>\n                        <th>R2 Score</th>\n                        <th>R2 Rank</th>\n                        <th>R3 Score</th>\n                        <th>R3 Rank</th>\n                        <th>Total Score</th>\n                        <th>Total Rank</th>\n                    </tr>\n                </thead>\n                {this.props.teams.map(team => {\n                    return <TeamRow\n                                key={`${team.name}-row`}\n                                team={team}\n                                div={this.props.div}\n                                speakers={this.props.speakers}\n                                teams={this.props.teams}\n                                updateSpeakers={this.props.updateSpeakers}\n                                updateTeam={this.props.updateTeam}\n                                deleteTeam={this.props.deleteTeam}\n                                speakerPicker={this.props.speakerPicker} />;\n                })}\n            </Table>\n        );\n    }\n}\n\nexport default TeamTable;","import React, { ChangeEvent, FormEvent } from 'react';\nimport TeamTable from './TeamTable';\nimport TwoPersonTeamTooltip from './TwoPersonTeamTooltip';\nimport { Speaker } from '../types/Speaker';\nimport { Team } from '../types/Team';\nimport Button from 'react-bootstrap/Button';\nimport Modal from 'react-bootstrap/Modal';\nimport Form from 'react-bootstrap/Form';\n\n\ntype TeamsProps = {\n    div: number,\n    speakers: Speaker[],\n    teams: Team[],\n    updateSpeakers: (speakers: Speaker[]) => void,\n    updateTeams: (teams: Team[]) => void\n}\n\ntype TeamsState = {\n    addTeamForm: {\n        teamName: string,\n        speaker1: number,\n        speaker2: number,\n        speaker3: number,\n        [key: string]: string|number\n    },\n    showModal: boolean,\n    showWarning: boolean\n}\n\nclass Teams extends React.Component<TeamsProps, TeamsState> {\n    constructor(props: TeamsProps) {\n        super(props);\n\n        this.state = {\n            addTeamForm: {\n                teamName: \"\",\n                speaker1: 0,\n                speaker2: 0,\n                speaker3: 0\n            },\n            showModal: false,\n            showWarning: false\n        }\n\n        this.modalShow = this.modalShow.bind(this);\n        this.modalHide = this.modalHide.bind(this);\n        this.handleAddTeamFormChange = this.handleAddTeamFormChange.bind(this);\n        this.handleAddTeamFormSubmit = this.handleAddTeamFormSubmit.bind(this);\n        this.updateTeam = this.updateTeam.bind(this);\n        this.deleteTeam = this.deleteTeam.bind(this);\n    }\n\n\n    modalShow() {\n        this.setState({showModal: true});\n    }\n\n    modalHide() {\n        this.setState({showModal: false});\n    }\n\n    handleAddTeamFormChange(event: ChangeEvent<HTMLInputElement>) {\n        const name = event.target.name;\n        let value: string|number = event.target.value;\n        if(name !== \"teamName\") value = Number(value);\n        let addTeamFormState = {...this.state.addTeamForm};\n        addTeamFormState[name] = value;\n        this.setState({addTeamForm: addTeamFormState});\n    }\n\n    handleAddTeamFormSubmit(event: FormEvent<HTMLFormElement>) {\n        event.preventDefault();\n\n        const team = {...this.state.addTeamForm}\n        if (team.speaker1 === team.speaker2 || team.speaker1 === team.speaker3 || team.speaker2 === team.speaker3) {\n            this.setState({showWarning: true});\n            return false;\n        }\n\n        let teams = this.props.teams;\n        let counter = JSON.parse(localStorage.getItem(\"teamCounter\")!);\n\n        const memberList = [team.speaker1, team.speaker2, team.speaker3]\n        const newTeam: Team = {\n            teamID: counter++,\n            name: team.teamName,\n            round1: memberList,\n            round2: memberList,\n            round3: memberList,\n            totalPoints: 0,\n            wins: [false, false, false],\n            totalWins: 0,\n            sideRound1: \"\",\n            opponents: []\n            };\n        teams.push(newTeam);\n\n        localStorage.setItem(\"teamCounter\", JSON.stringify(counter));\n        this.props.updateTeams(teams);\n\n        this.setState({showWarning: false});\n        this.modalHide();\n    }\n\n    updateTeam(team: Team) {\n        let teams = this.props.teams;\n        const index = teams.findIndex(el => el.teamID === team.teamID);\n        teams[index] = team;\n        this.props.updateTeams(teams);\n    }\n\n    deleteTeam(team: Team) {\n        const draws = JSON.parse(localStorage.getItem(\"draws\")!);\n        for (const round in draws) {\n            let rooms;\n\n            if(this.props.div === 1) rooms = draws[round].roomsOne;\n            else rooms = draws[round].roomsTwo;\n\n            for (const pair of rooms) {\n                if(pair.prop === team.teamID || pair.opp === team.teamID) {\n                    alert(\"This team has already started the tournament. You can't delete it anymore. You can still replace its speakers.\");\n                    return;\n                }\n            }\n        }\n\n        const conf = window.confirm(`Are you sure you want to delete team ${team.name}?`);\n        if(conf) {\n            let teams = this.props.teams;\n            teams = teams.filter(el => el.teamID !== team.teamID);  \n            this.props.updateTeams(teams);\n        }\n    }\n\n    \n    render() {\n        let noTeams = false;\n        if(this.props.teams.length === 0) {\n            noTeams = true;\n        }\n\n        let speakerPicker = this.props.speakers.map(speaker => {\n            return (\n                <option value={speaker.speakerID} key={`option-${speaker.speakerID}`}>{speaker.name}</option>\n            );\n        });\n\n        let teamTable;\n        if(noTeams) {\n            teamTable = <p className=\"none-yet\">No teams yet!</p>;\n        } else {\n            teamTable = <TeamTable\n                            div={this.props.div}\n                            speakers={this.props.speakers}\n                            teams={this.props.teams}\n                            updateSpeakers={this.props.updateSpeakers}\n                            updateTeam={this.updateTeam}\n                            deleteTeam={this.deleteTeam}\n                            speakerPicker={speakerPicker} />\n        }\n\n        return (\n            <div>\n                <h2>\n                    Teams\n                    <Button onClick={this.modalShow}>Add team</Button>\n                    <div className={`hint-add-team ${noTeams ? \"\" : \"hidden\"}`}>\n                        <span>&gt;</span>\n                        <span>&gt;</span>\n                        <span>&gt;</span>\n                    </div>\n                </h2>\n                {teamTable}\n\n                <Modal show={this.state.showModal} onHide={this.modalHide}>\n                    <Modal.Header closeButton>\n                        <Modal.Title>Add a team</Modal.Title>\n                    </Modal.Header>\n\n                    <Modal.Body>\n                        <Form onSubmit={this.handleAddTeamFormSubmit}>\n                            <Form.Group controlId={`form-add-team-${this.props.div}-name`}>\n                                <Form.Label>Team name</Form.Label>\n                                <Form.Control\n                                    type=\"text\"\n                                    name=\"teamName\"\n                                    value={this.state.addTeamForm.teamName}\n                                    onChange={this.handleAddTeamFormChange} />\n                            </Form.Group>\n                            <Form.Group controlId={`form-add-team-${this.props.div}-speaker-1`}>\n                                <Form.Label>Speaker 1</Form.Label>\n                                <Form.Control\n                                    as=\"select\"\n                                    name=\"speaker1\"\n                                    value={this.state.addTeamForm.speaker1}\n                                    onChange={this.handleAddTeamFormChange}>\n                                        <option>-- pick a speaker --</option>\n                                        {speakerPicker}\n                                </Form.Control>\n                            </Form.Group>\n                            <Form.Group controlId={`form-add-team-${this.props.div}-speaker-2`}>\n                                <Form.Label>Speaker 2</Form.Label>\n                                <Form.Control\n                                    as=\"select\"\n                                    name=\"speaker2\"\n                                    value={this.state.addTeamForm.speaker2}\n                                    onChange={this.handleAddTeamFormChange}>\n                                        <option>-- pick a speaker --</option>\n                                        {speakerPicker}\n                                </Form.Control>\n                            </Form.Group>\n                            <Form.Group controlId={`form-add-team-${this.props.div}-speaker-3`}>\n                                <Form.Label>Speaker 3</Form.Label>\n                                <TwoPersonTeamTooltip />\n                                <Form.Control\n                                    as=\"select\"\n                                    name=\"speaker3\"\n                                    value={this.state.addTeamForm.speaker3}\n                                    onChange={this.handleAddTeamFormChange}>\n                                        <option>-- pick a speaker --</option>\n                                        <option value=\"avg\">[averaged third speaker]</option>\n                                        {speakerPicker}\n                                </Form.Control>\n                            </Form.Group>\n                            <p className={`red ${this.state.showWarning ? \"\" : \"hidden\"}`}>\n                                You can't add a speaker to a team more than once!\n                            </p>\n                            <Button\n                                variant=\"primary\"\n                                className=\"btn-submit\"\n                                type=\"submit\">\n                                Add\n                            </Button>\n                        </Form>\n                    </Modal.Body>\n                </Modal>\n            </div>\n        );\n    }\n}\n\nexport default Teams;","import React from 'react';\nimport { Speaker } from '../types/Speaker';\nimport { Team } from '../types/Team';\nimport Row from 'react-bootstrap/Row';\nimport Col from 'react-bootstrap/Col';\nimport Table from 'react-bootstrap/Table';\nimport OverlayTrigger from 'react-bootstrap/OverlayTrigger';\nimport Tooltip from 'react-bootstrap/Tooltip';\nimport { getDistinctSpeakers } from '../utils/getDistinctSpeakers';\n\n\ntype RankingProps = {\n    speakers: Speaker[],\n    teams: Team[]\n}\n\nclass Ranking extends React.Component<RankingProps> {\n    render() {\n        const speakers = this.props.speakers;\n        const teams = this.props.teams;\n\n        const speakers_ranked = speakers\n                                .slice(0)\n                                .filter(el => el.disqualified === false)\n                                .sort((a, b) => {\n            // First sort on total speaker scores\n            const a_sum = a.scores.reduce((x, y) => x + y, 0);\n            const b_sum = b.scores.reduce((x, y) => x + y, 0);\n\n            if(a_sum > b_sum) {\n                return -1;\n            } else if(a_sum < b_sum) {\n                return 1;\n            } else {\n                // Secondly sort on speaker ranks\n                const a_ranks = a.ranks.reduce((x, y) => x + y, 0);\n                const b_ranks = b.ranks.reduce((x, y) => x + y, 0);\n\n                if(a_ranks < b_ranks) {\n                    return -1;\n                } else if(a_ranks > b_ranks) {\n                    return 1;\n                } else {\n                    // Thirdly sort on team wins\n                    const a_team = teams.find(el => el.round1.includes(a.speakerID));\n                    const b_team = teams.find(el => el.round1.includes(b.speakerID));\n                    const a_wins = a_team === undefined ? 0 : a_team.totalWins;\n                    const b_wins = b_team === undefined ? 0 : b_team.totalWins;\n\n                    if(a_wins > b_wins) {\n                        return -1;\n                    } else if(a_wins < b_wins) {\n                        return 1;\n                    } else {\n                        // Fourthly sort on team points\n                        const a_tpoints = a_team === undefined ? 0 : a_team.totalPoints;\n                        const b_tpoints = b_team === undefined ? 0 : b_team.totalPoints;\n\n                        if(a_tpoints > b_tpoints) {\n                            return -1;\n                        } else if(a_tpoints < b_tpoints) {\n                            return 1;\n                        } else {\n                            return 1;\n                        }\n                    }\n                }\n            }\n        });\n\n        const speaker_ranking = speakers_ranked.map((speaker, index) => {\n            let team = teams.find(el => el.round1.includes(speaker.speakerID));\n            if (team === undefined) {\n                team = {\n                    teamID: -1,\n                    name: \"\",\n                    round1: [],\n                    round2: [],\n                    round3: [],\n                    totalPoints: 0,\n                    wins: [],\n                    totalWins: 0,\n                    sideRound1: \"\",\n                    opponents: []\n                }\n            }\n            return (\n                <tr key={`speaker-rank-${index + 1}`}>\n                    <td>{index + 1}</td>\n                    <td>{speaker.name}</td>\n                    <td>{speaker.school}</td>\n                    <td>{speaker.scores.reduce((x, y) => x + y, 0)}</td>\n                    <td>{speaker.ranks.reduce((x, y) => x + y, 0)}</td>\n                    <td>{team.totalWins}</td>\n                    <td>{team.totalPoints}</td>\n                </tr>\n            );\n        });\n\n\n        const teams_ranked = teams.slice(0).sort((a, b) => {\n            // First sort on team wins\n            const a_wins = a.totalWins;\n            const b_wins = b.totalWins;\n\n            if(a_wins > b_wins) {\n                return -1;\n            } else if(a_wins < b_wins) {\n                return 1;\n            } else {\n                // Secondlyly sort on team points\n                const a_tpoints = a.totalPoints;\n                const b_tpoints = b.totalPoints;\n\n                if(a_tpoints > b_tpoints) {\n                    return -1;\n                } else if(a_tpoints < b_tpoints) {\n                    return 1;\n                } else {\n                    return 1;\n                }\n            }\n        });\n\n        const team_ranking = teams_ranked.map((team, index) => {\n            const speakerIDs = getDistinctSpeakers(team);\n            const speakerNames: string[] = [];\n            for(let speakerID of speakerIDs) {\n                let currSpeaker = speakers.find(sp => sp.speakerID === speakerID);\n                if(currSpeaker === undefined) continue;\n                if(currSpeaker.disqualified === true) continue;\n                speakerNames.push(currSpeaker.name);\n            }\n            const speakerElements = speakerNames.map((speaker, index) => {\n                if(index < speakerNames.length - 1) {\n                    return <>{speaker}, </>;\n                } else {\n                    return <>{speaker}</>;\n                }\n            });\n\n            return (\n                <tr key={`team-rank-${index + 1}`}>\n                    <td>{index + 1}</td>\n                    <td>\n                        <OverlayTrigger\n                            placement=\"top\"\n                            overlay={\n                                <Tooltip id={`tooltip-rank-teamName-${index + 1}`}>\n                                    {speakerElements}\n                                </Tooltip>\n                            }>\n                            <abbr title=\"\">{team.name}</abbr>\n                        </OverlayTrigger>\n                    </td>\n                    <td>{team.totalWins}</td>\n                    <td>{team.totalPoints}</td>\n                </tr>\n            );\n        });\n        \n\n        return (\n            <div>\n                <h2>Ranking</h2>\n                <Row>\n                    <Col lg={7} className=\"table-col\">\n                        <h3>Speakers</h3>\n                        <Table striped className=\"speaker-ranking-table table-no-top-margin table-less-bottom-margin-sm\">\n                            <thead>\n                                <tr>\n                                    <th>#</th>\n                                    <th>Name</th>\n                                    <th>School</th>\n                                    <th>\n                                        <OverlayTrigger\n                                            placement=\"top\"\n                                            overlay={\n                                                <Tooltip id=\"tooltip-totalspeakerpoints\">\n                                                    Total speaker points\n                                                </Tooltip>\n                                            }>\n                                            <abbr title=\"\">ΣSP</abbr>\n                                        </OverlayTrigger>\n                                    </th>\n                                    <th>\n                                        <OverlayTrigger\n                                            placement=\"top\"\n                                            overlay={\n                                                <Tooltip id=\"tooltip-totalspeakerranks\">\n                                                    Total speaker ranks<br />(lower is better)\n                                                </Tooltip>\n                                            }>\n                                            <abbr title=\"\">ΣSR</abbr>\n                                        </OverlayTrigger>\n                                    </th>\n                                    <th>\n                                        <OverlayTrigger\n                                            placement=\"top\"\n                                            overlay={\n                                                <Tooltip id=\"tooltip-totalteamwins\">\n                                                    Total team wins\n                                                </Tooltip>\n                                            }>\n                                            <abbr title=\"\">ΣTW</abbr>\n                                        </OverlayTrigger>\n                                    </th>\n                                    <th>\n                                        <OverlayTrigger\n                                            placement=\"top\"\n                                            overlay={\n                                                <Tooltip id=\"tooltip-totalteampoints\">\n                                                    Total team points\n                                                </Tooltip>\n                                            }>\n                                            <abbr title=\"\">ΣTP</abbr>\n                                        </OverlayTrigger>\n                                    </th>\n                                </tr>\n                            </thead>\n                            <tbody>\n                                {speaker_ranking}\n                            </tbody>\n                        </Table>\n                    </Col>\n                    <Col lg={5} className=\"table-col table-col-margin-lg\">\n                        <h3>Teams</h3>\n                        <Table striped className=\"table-no-top-margin\">\n                            <thead>\n                                <tr>\n                                    <th>#</th>\n                                    <th>Name</th>\n                                    <th>\n                                        <OverlayTrigger\n                                            placement=\"top\"\n                                            overlay={\n                                                <Tooltip id=\"tooltip-totalteamwins\">\n                                                    Total team wins\n                                                </Tooltip>\n                                            }>\n                                            <abbr title=\"\">ΣTW</abbr>\n                                        </OverlayTrigger>\n                                    </th>\n                                    <th>\n                                        <OverlayTrigger\n                                            placement=\"top\"\n                                            overlay={\n                                                <Tooltip id=\"tooltip-totalteampoints\">\n                                                    Total team points\n                                                </Tooltip>\n                                            }>\n                                            <abbr title=\"\">ΣTP</abbr>\n                                        </OverlayTrigger>\n                                    </th>\n                                </tr>\n                            </thead>\n                            <tbody>\n                                {team_ranking}\n                            </tbody>\n                        </Table>\n                    </Col>\n                </Row>\n            </div>\n        );\n    }\n}\n\nexport default Ranking;","import React from 'react';\nimport Speakers from './Speakers';\nimport Teams from './Teams';\nimport Ranking from './Ranking';\nimport { Speaker } from '../types/Speaker';\nimport { Team } from '../types/Team';\nimport Tab from 'react-bootstrap/Tab';\nimport Row from 'react-bootstrap/Row';\nimport Col from 'react-bootstrap/Col';\nimport Nav from 'react-bootstrap/Nav';\nimport { PersonFill, PeopleFill, Trophy } from 'react-bootstrap-icons';\n\n\ntype ParticipantsProps = {\n    div: number,\n    speakers: Speaker[],\n    teams: Team[],\n    updateSpeakers: (speakers: Speaker[]) => void,\n    updateTeams: (teams: Team[]) => void\n}\n\nclass Participants extends React.Component<ParticipantsProps> {\n    render() {\n        return (\n            <Tab.Container id={`part-view-${this.props.div}`} defaultActiveKey=\"speakers\" transition={false}>\n                <Row>\n                    <Col md={3} lg={2}>\n                        <Nav variant=\"pills\" className=\"sub-nav\">\n                            <Nav.Item>\n                                <Nav.Link eventKey=\"speakers\" className=\"sub-nav-link\">\n                                    <PersonFill className=\"btn-icon\" />\n                                    Speakers\n                                </Nav.Link>\n                            </Nav.Item>\n                            <Nav.Item>\n                                <Nav.Link eventKey=\"teams\" className=\"sub-nav-link\">\n                                    <PeopleFill className=\"btn-icon\" />\n                                    Teams\n                                </Nav.Link>\n                            </Nav.Item>\n                            <Nav.Item>\n                                <Nav.Link eventKey=\"ranking\" className=\"sub-nav-link\">\n                                    <Trophy className=\"btn-icon\" />\n                                    Ranking\n                                </Nav.Link>\n                            </Nav.Item>\n                        </Nav>\n                    </Col>\n                    <Col md={9} lg={10}>\n                        <Tab.Content>\n                            <Tab.Pane eventKey=\"speakers\">\n                                <Speakers\n                                    speakers={this.props.speakers}\n                                    teams={this.props.teams}\n                                    updateSpeakers={this.props.updateSpeakers} />\n                            </Tab.Pane>\n                            <Tab.Pane eventKey=\"teams\">\n                                <Teams\n                                    div={this.props.div}\n                                    speakers={this.props.speakers}\n                                    teams={this.props.teams}\n                                    updateSpeakers={this.props.updateSpeakers}\n                                    updateTeams={this.props.updateTeams} />\n                            </Tab.Pane>\n                            <Tab.Pane eventKey=\"ranking\">\n                                <Ranking\n                                    speakers={this.props.speakers}\n                                    teams={this.props.teams} />\n                            </Tab.Pane>\n                        </Tab.Content>\n                    </Col>\n                </Row>\n            </Tab.Container>\n        );\n    }\n}\n\nexport default Participants;","import React, { ChangeEvent, FocusEvent } from 'react';\nimport { Judge } from '../types/Judge';\nimport Form from 'react-bootstrap/Form';\nimport { Trash, TrashFill } from 'react-bootstrap-icons';\n\n\ntype JudgeRowProps = {\n    judge: Judge,\n    updateJudge: (judge: Judge) => void,\n    deleteJudge: (judge: Judge) => void\n}\n\ntype JudgeRowState = {\n    name: string,\n    school: string,\n    canChair: boolean,\n    atRound1: boolean,\n    atRound2: boolean,\n    atRound3: boolean,\n    trashFill: boolean,\n    [key: string]: string|boolean\n}\n\nclass JudgeRow extends React.Component<JudgeRowProps, JudgeRowState> {\n    constructor(props: JudgeRowProps) {\n        super(props);\n\n        this.state = {\n            name: this.props.judge.name,\n            school: this.props.judge.school,\n            canChair: this.props.judge.canChair,\n            atRound1: this.props.judge.atRound1,\n            atRound2: this.props.judge.atRound2,\n            atRound3: this.props.judge.atRound3,\n            trashFill: false\n        }\n\n        this.handleTextEdit = this.handleTextEdit.bind(this);\n        this.handleTextUpdate = this.handleTextUpdate.bind(this);\n        this.handleJudgeToggle = this.handleJudgeToggle.bind(this);\n        this.trashOnMouseEnter = this.trashOnMouseEnter.bind(this);\n        this.trashOnMouseLeave = this.trashOnMouseLeave.bind(this);\n    }\n\n    handleTextEdit(event: ChangeEvent<HTMLTextAreaElement>) {\n        const {name, value} = event.target;\n        let state = {...this.state};\n        state[name] = value;\n        this.setState(state);\n    }\n\n    handleTextUpdate(event: FocusEvent<HTMLTextAreaElement>) {\n        event.preventDefault();\n        const name = event.target.name;\n        const value = this.state[name];\n        const judge = this.props.judge;\n        judge[name] = value;\n        this.props.updateJudge(judge);\n    }\n\n    handleJudgeToggle(event: ChangeEvent<HTMLInputElement>) {\n        const {name, checked} = event.target;\n        const judge = this.props.judge;\n\n        judge[name] = checked;\n        this.setState({[name]: checked});\n\n        this.props.updateJudge(judge);\n    }\n\n    trashOnMouseEnter() {\n        this.setState({trashFill: true});\n    }\n\n    trashOnMouseLeave() {\n        this.setState({trashFill: false});\n    }\n\n    \n    render() {\n        const judge = this.props.judge;\n\n        return (\n            <tr>\n                <td className=\"judge-table-name editable\">\n                    <textarea\n                        className=\"cell-valupdate\"\n                        name=\"name\"\n                        rows={1}\n                        cols={this.state.name.length > 8 ? this.state.name.length : 8}\n                        autoComplete=\"off\"\n                        spellCheck=\"false\"\n                        value={this.state.name}\n                        onChange={this.handleTextEdit}\n                        onBlur={this.handleTextUpdate} />\n                </td>\n                <td className=\"judge-table-school editable\">\n                <textarea\n                        className=\"cell-valupdate\"\n                        name=\"school\"\n                        rows={1}\n                        cols={this.state.school.length > 8 ? this.state.school.length : 8}\n                        autoComplete=\"off\"\n                        spellCheck=\"false\"\n                        value={this.state.school}\n                        onChange={this.handleTextEdit}\n                        onBlur={this.handleTextUpdate} />\n                </td>\n                <td className=\"judge-table-toggle cell-low-padding\">\n                    <Form.Check\n                        id={`judge-canchair-${judge.judgeID}`}\n                        type=\"switch\"\n                        name=\"canChair\"\n                        label=\"\"\n                        onChange={this.handleJudgeToggle}\n                        checked={this.state.canChair}\n                        className={this.state.canChair ? \"on\" : \"off\"} />\n                </td>\n                <td className=\"judge-table-toggle cell-low-padding\">\n                    <Form.Check\n                        id={`judge-r1-${judge.judgeID}`}\n                        type=\"switch\"\n                        name=\"atRound1\"\n                        label=\"\"\n                        onChange={this.handleJudgeToggle}\n                        checked={this.state.atRound1}\n                        className={this.state.atRound1 ? \"on\" : \"off\"} />\n                </td>\n                <td className=\"judge-table-toggle cell-low-padding\">\n                    <Form.Check\n                        id={`judge-r2-${judge.judgeID}`}\n                        type=\"switch\"\n                        name=\"atRound2\"\n                        label=\"\"\n                        onChange={this.handleJudgeToggle}\n                        checked={this.state.atRound2}\n                        className={this.state.atRound2 ? \"on\" : \"off\"} />\n                </td>\n                <td className=\"judge-table-toggle cell-low-padding\">\n                    <Form.Check\n                        id={`judge-r3-${judge.judgeID}`}\n                        type=\"switch\"\n                        name=\"atRound3\"\n                        label=\"\"\n                        onChange={this.handleJudgeToggle}\n                        checked={this.state.atRound3}\n                        className={this.state.atRound3 ? \"on\" : \"off\"} />\n                </td>\n                <td className=\"table-delete\">\n                    {this.state.trashFill ? \n                        <TrashFill\n                            role=\"button\"\n                            className=\"icon red\"\n                            onMouseEnter={this.trashOnMouseEnter}\n                            onMouseLeave={this.trashOnMouseLeave}\n                            onClick={() => this.props.deleteJudge(judge)} />\n                        :\n                        <Trash\n                            role=\"button\"\n                            className=\"icon\"\n                            onMouseEnter={this.trashOnMouseEnter}\n                            onMouseLeave={this.trashOnMouseLeave}\n                            onClick={() => this.props.deleteJudge(judge)} />\n                    }\n                </td>\n            </tr>\n        );\n    }\n}\n\nexport default JudgeRow;","import React, { ChangeEvent, FormEvent } from 'react';\nimport './Judges.scss';\nimport JudgeRow from './JudgeRow';\nimport { Judge } from '../types/Judge';\nimport Tab from 'react-bootstrap/Tab';\nimport Row from 'react-bootstrap/Row';\nimport Col from 'react-bootstrap/Col';\nimport Nav from 'react-bootstrap/Nav';\nimport Form from 'react-bootstrap/Form';\nimport Button from 'react-bootstrap/Button';\nimport Table from 'react-bootstrap/Table';\nimport { AwardFill, TrashFill } from 'react-bootstrap-icons';\n\n\ntype JudgesProps = {\n    judges: Judge[],\n    updateJudges: (judges: Judge[]) => void,\n    getTotalTeams: () => number\n}\n\ntype JudgesState = {\n    addJudgeForm: {\n        judgeName: string,\n        school: string,\n        [key: string]: string\n    }\n}\n\nclass Judges extends React.Component<JudgesProps, JudgesState> {\n    constructor(props: JudgesProps) {\n        super(props);\n\n        this.state = {\n            addJudgeForm: {\n                judgeName: \"\",\n                school: \"\"\n            }\n        }\n\n        this.handleAddJudgeFormChange = this.handleAddJudgeFormChange.bind(this);\n        this.handleAddJudgeFormSubmit = this.handleAddJudgeFormSubmit.bind(this);\n        this.updateJudge = this.updateJudge.bind(this);\n        this.deleteJudge = this.deleteJudge.bind(this);\n    }\n\n\n    handleAddJudgeFormChange(event: ChangeEvent<HTMLInputElement>) {\n        const {name, value} = event.target;\n        let judgeAddFormState = {...this.state.addJudgeForm};\n        judgeAddFormState[name] = value;\n        this.setState({addJudgeForm: judgeAddFormState});\n    }\n\n    handleAddJudgeFormSubmit(event: FormEvent<HTMLFormElement>) {\n        event.preventDefault();\n\n        let judges = this.props.judges;\n        let counter = JSON.parse(localStorage.getItem(\"judgeCounter\")!);\n\n        const newJudge: Judge = {\n            judgeID: counter++,\n            name: this.state.addJudgeForm.judgeName,\n            school: this.state.addJudgeForm.school,\n            canChair: false,\n            atRound1: true, atRound2: true, atRound3: true,\n            hasChaired: []\n        }\n        judges.push(newJudge);\n\n        this.props.updateJudges(judges);\n        localStorage.setItem(\"judgeCounter\", JSON.stringify(counter));\n\n        let blankForm = {...this.state.addJudgeForm};\n        blankForm.name = \"\";\n        this.setState({addJudgeForm: blankForm});\n    }\n\n    updateJudge(judge: Judge) {\n        let judges = this.props.judges;\n\n        const index = judges.indexOf(judge);\n        judges[index] = judge;\n\n        this.props.updateJudges(judges);\n    }\n\n    deleteJudge(judge: Judge) {\n        const draws = JSON.parse(localStorage.getItem(\"draws\")!);\n        \n        // Check if the judge has already been part of a round\n        let inRound = false;\n        for (const round of draws) {\n            for(const pair of round.roomsOne) {\n                if(pair.chair === judge.judgeID || pair.wings.includes(judge.judgeID)) {\n                    inRound = true;\n                }\n            }\n            for(const pair of round.roomsTwo) {\n                if(pair.chair === judge.judgeID || pair.wings.includes(judge.judgeID)) {\n                    inRound = true;\n                }\n            }\n        }\n        if(inRound) {\n            alert(\"This judge has already taken part in a round. You can't delete them anymore. You can still change their availability for each round.\");\n            return false;\n        }\n\n        // Confirm deletion\n        const conf = window.confirm(`Are you sure you want to delete judge ${judge.name}?`);\n        if(conf) {\n            let judges = this.props.judges;\n\n            const index = judges.indexOf(judge);\n            judges.splice(index, 1);\n\n            this.props.updateJudges(judges);\n        }\n    }\n\n\n    render() {\n        const judges = this.props.judges;\n\n        let table;\n        if(this.props.judges.length !== 0) {\n            table = (\n                <Table className=\"judge-table table-no-top-margin\" hover bordered>\n                    <thead>\n                        <tr>\n                            <th className=\"judge-table-name\">Name</th>\n                            <th>School</th>\n                            <th className=\"judge-table-toggle\">Chair?</th>\n                            <th className=\"judge-table-toggle\">Round 1?</th>\n                            <th className=\"judge-table-toggle\">Round 2?</th>\n                            <th className=\"judge-table-toggle\">Round 3?</th>\n                            <th className=\"table-delete\">\n                                <TrashFill className=\"icon\" />\n                            </th>\n                        </tr>\n                    </thead>\n                    <tbody>\n                        {this.props.judges.map(judge => {\n                            return (\n                                <JudgeRow\n                                    key={`judge-row-${judge.name}`}\n                                    judge={judge}\n                                    updateJudge={this.updateJudge}\n                                    deleteJudge={this.deleteJudge} />\n                            );\n                        })}\n                    </tbody>\n                </Table>\n            );\n        }\n\n        const totalRooms = Math.round(this.props.getTotalTeams() / 2);\n        const chairsR1 = judges.filter(el => el.canChair && el.atRound1).length;\n        const chairsR2 = judges.filter(el => el.canChair && el.atRound2).length;\n        const chairsR3 = judges.filter(el => el.canChair && el.atRound3).length;\n\n        return (\n            <Tab.Container id={`judges-view`} defaultActiveKey=\"judges\" transition={false}>\n                <Row>\n                    <Col md={3} lg={2}>\n                        <Nav variant=\"pills\" className=\"sub-nav no-show-sm\">\n                            <Nav.Item>\n                                <Nav.Link eventKey=\"judges\" className=\"sub-nav-link\">\n                                    <AwardFill className=\"btn-icon\" />\n                                    Judges\n                                </Nav.Link>\n                            </Nav.Item>\n                        </Nav>\n                    </Col>\n                    <Col md={9} lg={10}>\n                        <Tab.Content>\n                            <Tab.Pane eventKey=\"judges\">\n                                <h2>Judges</h2>\n                                <Row>\n                                    <Col>\n                                        <Form onSubmit={this.handleAddJudgeFormSubmit}>\n                                            <Form.Row>\n                                                <Col md={4}>\n                                                    <Form.Control\n                                                        name=\"judgeName\"\n                                                        type=\"text\"\n                                                        placeholder=\"Name\"\n                                                        value={this.state.addJudgeForm.judgeName}\n                                                        onChange={this.handleAddJudgeFormChange} />\n                                                </Col>\n                                                <Col md={4}>\n                                                    <Form.Control\n                                                        name=\"school\"\n                                                        type=\"text\"\n                                                        placeholder=\"School\"\n                                                        value={this.state.addJudgeForm.school}\n                                                        onChange={this.handleAddJudgeFormChange} />\n                                                </Col>\n                                                <Col>\n                                                    <Button\n                                                        variant=\"primary\"\n                                                        className=\"btn-submit\"\n                                                        type=\"submit\">\n                                                        Add judge\n                                                    </Button>\n                                                </Col>\n                                            </Form.Row>\n                                        </Form>\n                                        <div id=\"total-judges\">\n                                            <p>\n                                                Total judges each round: {this.props.judges.filter(el => el.atRound1).length} &middot; {this.props.judges.filter(el => el.atRound2).length} &middot; {this.props.judges.filter(el => el.atRound3).length}\n                                                <br />\n                                                Total chairs each round: {chairsR1} &middot; {chairsR2} &middot; {chairsR3}\n                                                <br />\n                                                <span className={(totalRooms > chairsR1 || totalRooms > chairsR2 || totalRooms > chairsR3) ? \"red\" : \"\"}>\n                                                    Total chairs needed: {totalRooms}\n                                                </span>\n                                            </p>\n                                        </div>\n                                    </Col>\n                                </Row>\n\n                                <Row>\n                                    <Col lg={10} xl={9} className=\"table-col\">\n                                        {table}\n                                    </Col>\n                                </Row>\n                            </Tab.Pane>\n                        </Tab.Content>\n                    </Col>\n                </Row>\n            </Tab.Container>\n        );\n    }\n}\n\nexport default Judges;","import React, { ChangeEvent, FormEvent } from 'react';\nimport './Pill.scss';\nimport { Team } from '../types/Team';\nimport OverlayTrigger from 'react-bootstrap/OverlayTrigger';\nimport Popover from 'react-bootstrap/Popover';\nimport Form from 'react-bootstrap/Form';\nimport Button from 'react-bootstrap/Button';\n\n\ntype TeamPillProps = {\n    team: Team,\n    hasConflict: boolean,\n    teams: Team[],\n    updateRoom: (thisTeamID: number, swapTeamID: number) => void\n}\n\ntype TeamPillState = {\n    swapTeamID: number\n}\n\nclass TeamPill extends React.Component<TeamPillProps, TeamPillState> {\n    constructor(props: TeamPillProps) {\n        super(props);\n\n        this.state = {\n            swapTeamID: this.props.team.teamID\n        }\n\n        this.handleRoomFormChange = this.handleRoomFormChange.bind(this);\n        this.handleRoomFormSubmit = this.handleRoomFormSubmit.bind(this);\n    }\n\n\n    handleRoomFormChange(event: ChangeEvent<HTMLInputElement>) {\n        this.setState({swapTeamID: parseInt(event.target.value)});\n    }\n\n    handleRoomFormSubmit(event: FormEvent<HTMLFormElement>) {\n        event.preventDefault();\n        this.props.updateRoom(this.props.team.teamID, this.state.swapTeamID);\n        document.body.click();\n    }\n\n\n    render() {\n        const popover = (\n            <Popover id=\"teampill-popover\">\n                <Popover.Title as=\"h3\">Switch teams</Popover.Title>\n                <Popover.Content>\n                    <Form onSubmit={this.handleRoomFormSubmit}>\n                        {this.props.teams.map((team, index) => {\n                            return (\n                                <Form.Check custom\n                                    key={`team-check-${index}`}\n                                    id={`team-check-${team.teamID}-${index}`}\n                                    name=\"room\"\n                                    type=\"radio\"\n                                    label={team.name}\n                                    value={team.teamID}\n                                    checked={this.state.swapTeamID === team.teamID}\n                                    onChange={this.handleRoomFormChange} />\n                            );\n                        })}\n                        <Button className=\"btn-popover\" variant=\"primary\" type=\"submit\">Change</Button>\n                    </Form>\n                </Popover.Content>\n            </Popover>\n        );\n\n        return (\n            <OverlayTrigger trigger=\"click\" placement=\"right\" overlay={popover} rootClose>\n                <div className={`pill ${this.props.hasConflict ? \"orange\" : \"\"}`}>\n                    {this.props.team.name}\n                </div>\n            </OverlayTrigger>\n        );\n    }\n}\n\nexport default TeamPill;","import React, { ChangeEvent, FormEvent } from 'react';\nimport './Pill.scss';\nimport { Judge } from '../types/Judge';\nimport { Room } from '../types/Room';\nimport { Draw } from '../types/Draw';\nimport OverlayTrigger from 'react-bootstrap/OverlayTrigger';\nimport Popover from 'react-bootstrap/Popover';\nimport Form from 'react-bootstrap/Form';\nimport Button from 'react-bootstrap/Button';\n\n\ntype JudgePillProps = {\n    judge: Judge,\n    isChair: boolean,\n    hasConflict: boolean,\n    room: Room,\n    draw: Draw,\n    updateRoom: (judgeID: number, isChair: boolean, newRoomID: number) => void\n}\n\ntype JudgePillState = {\n    roomID: number\n}\n\nclass JudgePill extends React.Component<JudgePillProps, JudgePillState> {\n    constructor(props: JudgePillProps) {\n        super(props);\n\n        this.state = {\n            roomID: this.props.room.roomID\n        }\n\n        this.handleRoomFormChange = this.handleRoomFormChange.bind(this);\n        this.handleRoomFormSubmit = this.handleRoomFormSubmit.bind(this);\n    }\n\n\n    handleRoomFormChange(event: ChangeEvent<HTMLInputElement>) {\n        this.setState({roomID: parseInt(event.target.value)});\n    }\n\n    handleRoomFormSubmit(event: FormEvent<HTMLFormElement>) {\n        event.preventDefault();\n        this.props.updateRoom(this.props.judge.judgeID, this.props.isChair, this.state.roomID);\n        document.body.click();\n    }\n\n\n    render() {\n        const popover = (\n            <Popover id=\"judgepill-popover\">\n                <Popover.Title as=\"h3\">Switch rooms</Popover.Title>\n                <Popover.Content>\n                    {(this.props.draw.roomsOne.map(room => room.name).includes(\"\") ||\n                      this.props.draw.roomsTwo.map(room => room.name).includes(\"\") )\n                        ?\n                        <p>You need to assign each round to a room before you can switch judges.</p>\n                        :\n                        <Form onSubmit={this.handleRoomFormSubmit}>\n                            {this.props.draw.roomsOne.map((room, index) => {\n                                return (\n                                    <Form.Check custom\n                                        key={`room-check-${index}`}\n                                        id={`room-check-one-${room.roomID}-${index}`}\n                                        name=\"room\"\n                                        type=\"radio\"\n                                        label={room.name}\n                                        value={room.roomID}\n                                        checked={this.state.roomID === room.roomID}\n                                        onChange={this.handleRoomFormChange} />\n                                );\n                            })}\n                            {this.props.draw.roomsTwo.map((room, index) => {\n                                return (\n                                    <Form.Check custom\n                                        key={`room-check-${index}`}\n                                        id={`room-check-two-${room.roomID}-${index}`}\n                                        name=\"room\"\n                                        type=\"radio\"\n                                        label={room.name}\n                                        value={room.roomID}\n                                        checked={this.state.roomID === room.roomID}\n                                        onChange={this.handleRoomFormChange} />\n                                );\n                            })}\n                            <Button className=\"btn-popover\" variant=\"primary\" type=\"submit\">Change</Button>\n                        </Form>}\n                </Popover.Content>\n            </Popover>\n        );\n\n        return (\n            <OverlayTrigger trigger=\"click\" placement=\"right\" overlay={popover} rootClose>\n                <div className={`pill ${this.props.hasConflict ? \"red\" : \"\"}`}>\n                    {this.props.judge.name}{this.props.isChair ? \"\\u00A9\" : \"\"}\n                </div>\n            </OverlayTrigger>\n        );\n    }\n}\n\nexport default JudgePill;","import React, { ChangeEvent } from 'react';\nimport TeamPill from './TeamPill';\nimport JudgePill from './JudgePill';\nimport { Room } from '../types/Room';\nimport { Speaker } from '../types/Speaker';\nimport { Team } from '../types/Team';\nimport { Judge } from '../types/Judge';\nimport { Draw } from '../types/Draw';\n\n\ntype RoundRowProps = {\n    room: Room,\n    div: number,\n    round: number,\n    speakers: Speaker[],\n    teams: Team[],\n    judges: Judge[],\n    draw: Draw,\n    updateRooms: (room: Room, div: number) => void\n}\n\ntype RoundRowState = {\n    roomName: string\n}\n\nclass RoundRow extends React.Component<RoundRowProps, RoundRowState> {\n    constructor(props: RoundRowProps) {\n        super(props);\n\n        this.state = {\n            roomName: this.props.room.name\n        }\n\n        this.handleRoomChange = this.handleRoomChange.bind(this);\n        this.updateRoomTeam = this.updateRoomTeam.bind(this);\n        this.updateRoomJudge = this.updateRoomJudge.bind(this);\n    }\n\n    componentDidUpdate(prevProps: RoundRowProps) {\n        if(this.props.room.name !== prevProps.room.name) {\n            this.setState({roomName: this.props.room.name});\n        }\n    }\n\n\n    handleRoomChange(event: ChangeEvent<HTMLTextAreaElement>) {\n        const value = event.target.value;\n        const room = this.props.room;\n        this.setState({roomName: value});\n        room.name = value;\n        this.props.updateRooms(room, this.props.div);\n    }\n\n    updateRoomTeam(thisTeamID: number, swapTeamID: number) {\n        const div = this.props.div;\n        let draw = this.props.draw;\n        let thisRoom = this.props.room;\n\n        let rooms;\n        if(div === 1) rooms = draw.roomsOne;\n        else rooms = draw.roomsTwo;\n\n        let thisTeamPos = \"prop\";\n        if(thisRoom.opp === thisTeamID) thisTeamPos = \"opp\";\n\n        let newRoomIndex: number;\n        for(let newRoom of rooms) {\n            if(newRoom.prop === swapTeamID) {\n                if(thisTeamPos === \"prop\") {\n                    [thisRoom.prop, newRoom.prop] = [newRoom.prop, thisRoom.prop]\n                } else {\n                    [thisRoom.opp, newRoom.prop] = [newRoom.prop, thisRoom.opp]\n                }\n                newRoomIndex = newRoom.roomID;\n                break;\n            } else if(newRoom.opp === swapTeamID) {\n                if(thisTeamPos === \"prop\") {\n                    [thisRoom.prop, newRoom.opp] = [newRoom.opp, thisRoom.prop]\n                } else {\n                    [thisRoom.opp, newRoom.opp] = [newRoom.opp, thisRoom.opp]\n                }\n                newRoomIndex = newRoom.roomID;\n                break;\n            }\n        }\n        \n        this.props.updateRooms(rooms[newRoomIndex!], div);\n        this.props.updateRooms(thisRoom, div);\n    }\n\n    updateRoomJudge(judgeID: number, isChair: boolean, newRoomID: number) {\n        let room = this.props.room;\n        let draw = this.props.draw;\n        const roomlistOne = draw.roomsOne.map(r => r.roomID);\n        const nextDiv = roomlistOne.includes(newRoomID) ? 1 : 2;\n\n        let rooms;\n        if(nextDiv === 1) rooms = draw.roomsOne;\n        else rooms = draw.roomsTwo;\n\n        const newPair = rooms.findIndex(r => r.roomID === newRoomID);\n\n        if(!isChair) {\n            rooms[newPair].wings.push(judgeID);\n            const oldIndex = room.wings.indexOf(judgeID);\n            room.wings.splice(oldIndex, 1);\n        } else {\n            const swapChair = rooms[newPair].chair;\n            if(swapChair === judgeID) return false;\n            const conf = window.confirm(`You are about to swap the chairs ${this.props.judges.find(j => j.judgeID === judgeID)!.name} and ${this.props.judges.find(j => j.judgeID === swapChair)!.name}. Do you wish to continue?`);\n            if(conf) {\n                rooms[newPair].chair = judgeID;\n                room.chair = swapChair;\n            } else return false;\n        }\n        this.props.updateRooms(rooms[newPair], nextDiv);\n        this.props.updateRooms(room, this.props.div);\n    }\n\n\n    render() {\n        const speakers = this.props.speakers;\n        const teams = this.props.teams;\n        const judges = this.props.judges;\n        const room = this.props.room;\n        const round = this.props.round;\n\n        const prop = teams.find(el => el.teamID === room.prop)!;\n        const opp = teams.find(el => el.teamID === room.opp)!;\n        const chair = judges.find(el => el.judgeID === room.chair)!;\n\n        // Look for institutional judge conflicts\n        let chairConflict = false;\n        let speakersInTeams: Speaker[] = [];\n        if(round === 1) {\n            prop.round1.forEach(sp => speakersInTeams.push(speakers.find(el => el.speakerID === sp)!));\n            opp.round1.forEach(sp => speakersInTeams.push(speakers.find(el => el.speakerID === sp)!));\n        } else if(round === 2) {\n            prop.round2.forEach(sp => speakersInTeams.push(speakers.find(el => el.speakerID === sp)!));\n            opp.round2.forEach(sp => speakersInTeams.push(speakers.find(el => el.speakerID === sp)!));\n        } else {\n            prop.round3.forEach(sp => speakersInTeams.push(speakers.find(el => el.speakerID === sp)!));\n            opp.round3.forEach(sp => speakersInTeams.push(speakers.find(el => el.speakerID === sp)!));\n        }\n        let speakerSchools: string[] = [];\n        speakersInTeams\n            .filter(sp => sp !== undefined)\n            .forEach(sp => speakerSchools.push(sp.school));\n        if(speakerSchools.includes(chair.school)) chairConflict = true;\n\n        // Check whether the teams have met before\n        let teamConflict = false;\n        if(round === 2) {\n            if(prop.opponents[0] === opp.teamID) teamConflict = true;\n        }\n        if(round === 3) {\n            if(prop.opponents[0] === opp.teamID || prop.opponents[1] === opp.teamID) teamConflict = true;\n        }\n\n\n        return (\n            <tr>\n                <td className=\"editable draw-table-room-cell\">\n                    <textarea\n                        className=\"cell-valupdate\"\n                        rows={1}\n                        cols={this.state.roomName.length > 8 ? this.state.roomName.length : 8}\n                        autoComplete=\"off\"\n                        placeholder=\"room\"\n                        value={this.state.roomName}\n                        onChange={this.handleRoomChange} />\n                </td>\n                <td className=\"draw-table-team-cell\">\n                    <TeamPill \n                        team={prop}\n                        hasConflict={teamConflict}\n                        teams={this.props.teams}\n                        updateRoom={this.updateRoomTeam} />\n                </td>\n                <td className=\"draw-table-team-cell\">\n                    <TeamPill \n                        team={opp}\n                        hasConflict={teamConflict}\n                        teams={this.props.teams}\n                        updateRoom={this.updateRoomTeam} />\n                </td>\n                <td>\n                    <div className=\"judgepill-container\">\n                        <JudgePill\n                            judge={chair}\n                            isChair={true}\n                            hasConflict={chairConflict}\n                            room={room}\n                            draw={this.props.draw}\n                            updateRoom={this.updateRoomJudge} />\n                    </div>\n                    {room.wings.length !== 0 ? \",\\u00A0\" : \"\"}\n                    {room.wings.map((el, index) => {\n                        let wing = judges.find(j => j.judgeID === el)!;\n                        return (\n                            <div key={`judgepil-${index}`} className=\"judgepill-container\">\n                                <JudgePill\n                                    judge={wing}\n                                    isChair={false}\n                                    hasConflict={speakerSchools.includes(wing.school)}\n                                    room={room}\n                                    draw={this.props.draw}\n                                    updateRoom={this.updateRoomJudge} />\n                                {index < room.wings.length - 1 ? \",\\u00A0\" : \"\"}\n                            </div>\n                        );\n                    })}\n                </td>\n            </tr>\n        );\n    }\n}\n\nexport default RoundRow;","import React from 'react';\nimport './Round.scss';\nimport RoundRow from './RoundRow';\nimport { Config } from '../types/Config';\nimport { Speaker } from '../types/Speaker';\nimport { Team } from '../types/Team';\nimport { Judge } from '../types/Judge';\nimport { Draw } from '../types/Draw';\nimport { Room } from '../types/Room';\nimport Row from 'react-bootstrap/Row';\nimport Col from 'react-bootstrap/Col';\nimport Button from 'react-bootstrap/Button';\nimport Table from 'react-bootstrap/Table';\nimport Modal from 'react-bootstrap/Modal';\nimport { Bullseye, ArrowRepeat, Trash, ArrowsAngleExpand } from 'react-bootstrap-icons';\n\n\ntype RoundProps = {\n    round: number,\n    config: Config,\n    speakersOne: Speaker[],\n    speakersTwo: Speaker[],\n    teamsOne: Team[],\n    teamsTwo: Team[],\n    judges: Judge[],\n    draws: Draw[]\n}\n\ntype RoundState = {\n    generated: boolean,\n    roomsOne: Room[],\n    roomsTwo: Room[],\n    fullScreen: boolean\n}\n\nclass Round extends React.Component<RoundProps, RoundState> {\n    constructor(props: RoundProps) {\n        super(props);\n\n        const pairings = this.props.draws[this.props.round - 1];\n\n        this.state = {\n            generated: pairings.generated,\n            roomsOne: pairings.roomsOne,\n            roomsTwo: pairings.roomsTwo,\n            fullScreen: false\n        }\n\n        this.generateDraw = this.generateDraw.bind(this);\n        this.deleteDraw = this.deleteDraw.bind(this);\n        this.updateRooms = this.updateRooms.bind(this);\n        this.fullScreenDraw = this.fullScreenDraw.bind(this);\n        this.modalHide = this.modalHide.bind(this);\n    }\n\n\n    generateDraw() {\n        const round = this.props.round;\n        let draws = this.props.draws;\n\n        // Check whether previous or next draws have happened\n        if(round === 1) {\n            if(draws[1].generated || draws[2].generated) {\n                alert(\"You can't regenerate a draw after you've generated the next one.\");\n                return false;\n            }\n        } else if(round === 2) {\n            if(!draws[0].generated) {\n                alert(\"You can't generate the draw for round 2 before generating the draw for round 1.\");\n                return false;\n            } else if(draws[2].generated) {\n                alert(\"You can't regenerate a draw after you've generated the next one.\");\n                return false;\n            }\n        } else if(round === 3) {\n            if(!draws[0].generated || !draws[1].generated) {\n                alert(\"You can't generate the draw for round 3 before generating the draws for rounds 1 and 2.\");\n                return false;\n            }\n        }\n\n        // Check if regenerating\n        if(this.state.generated) {\n            const confGen = window.confirm(\"Do you really want to regenerate the draw?\");\n            if(!confGen) {\n                return false;\n            }\n        }\n\n        // Initialize values\n        let teamsOne = this.props.teamsOne;\n        let teamsTwo = this.props.teamsTwo;\n        let judges = this.props.judges;\n        const len1 = teamsOne.length;\n        const len2 = teamsTwo.length;\n\n        // Don't run the draw if division one has no teams\n        if(len1 === 0) {\n            alert(\"Add some teams to generate the draw.\");\n            return;\n        }\n\n        // Check for an even number of teams\n        if(len1 % 2 !== 0 && len2 % 2 !== 0) {\n            alert(\"Both divisions have an odd number of teams. A team from one division debating a team from the other division is not currently supported. Please add or remove a team to/from both in order to continue.\")\n            return false;\n        } else if(len1 % 2 !== 0) {\n            alert(`There is an odd number of ${this.props.config.numDivisions === 2 ? `${this.props.config.divisionNames![0]} ` : \"\"}teams\\u2014add or remove a team to generate the draw.`);\n            return false;\n        } else if(len2 % 2 !== 0) {\n            alert(`There is an odd number of ${this.props.config.numDivisions === 2 ? `${this.props.config.divisionNames![1]} ` : \"\"}teams\\u2014add or remove a team to generate the draw.`);\n            return false;\n        }\n\n        // Select only the judges that are available this round\n        if(round === 1) {\n            judges = judges.filter(el => el.atRound1 === true);\n        } else if(round === 2) {\n            judges = judges.filter(el => el.atRound2 === true);\n        } else {\n            judges = judges.filter(el => el.atRound3 === true);\n        }\n\n        // Split chairs and wings\n        const chairs = judges.filter(el => el.canChair === true);\n        let wings = judges.filter(el => el.canChair === false);\n\n        // Check whether there are enough chairs\n        const totalTeams = len1 + len2;\n        if(chairs.length < totalTeams / 2) {\n            alert(\"There are not enough chairs to adjudicate every room. Please add some more.\");\n            return false;\n        }\n\n        // Shuffle chairs for random picking\n        for (let i = chairs.length - 1; i > 0; i--) {\n            const j = Math.floor(Math.random() * (i + 1));\n            [chairs[i], chairs[j]] = [chairs[j], chairs[i]];\n        }\n\n        // Select chairs and put the rest as wings\n        while(chairs.length > totalTeams / 2) {\n            wings.push(chairs.pop()!);\n        }\n\n        // Generate pairings\n        let roomCounter = JSON.parse(localStorage.getItem(\"roomCounter\")!);\n        let roomsOne = [];\n        let roomsTwo = [];\n        let t1 = teamsOne.slice(0);\n        let t2 = teamsTwo.slice(0);\n\n        if(round === 1) {\n            // Generate lists of teams in random order\n            for (let i = len1 - 1; i > 0; i--) {\n                const j = Math.floor(Math.random() * (i + 1));\n                [t1[i], t1[j]] = [t1[j], t1[i]];\n            }\n            for (let i = len2 - 1; i > 0; i--) {\n                const j = Math.floor(Math.random() * (i + 1));\n                [t2[i], t2[j]] = [t2[j], t2[i]];\n            }\n        } else {\n            // Generate lists of teams in order of team wins, then total team points\n            t1.sort((a, b) => {\n                if(a.totalWins < b.totalWins) {\n                    return 1;\n                } else if(a.totalWins > b.totalWins) {\n                    return -1;\n                } else {\n                    if(a.totalPoints < b.totalPoints) {\n                        return 1;\n                    } else if(a.totalPoints > b.totalPoints) {\n                        return -1;\n                    } else {\n                        return 1;\n                    }\n                }\n            });\n            t2.sort((a, b) => {\n                if(a.totalWins < b.totalWins) {\n                    return 1;\n                } else if(a.totalWins > b.totalWins) {\n                    return -1;\n                } else {\n                    if(a.totalPoints < b.totalPoints) {\n                        return 1;\n                    } else if(a.totalPoints > b.totalPoints) {\n                        return -1;\n                    } else {\n                        return 1;\n                    }\n                }\n            });\n        }\n\n        // For round 2, make sure everyone is on another side\n        if(round === 2) {\n            t1.forEach((team, index) => {\n                if(index % 2 === 0 && team.sideRound1 === \"prop\") {\n                    for(let i = index + 1; i < len1; i++) {\n                        if(t1[i].sideRound1 === \"opp\") {\n                            [t1[index], t1[i]] = [t1[i], t1[index]];\n                            break;\n                        }\n                    }\n                } else if(index % 2 === 1 && team.sideRound1 === \"opp\") {\n                    for(let i = index + 1; i < len1; i++) {\n                        if(t1[i].sideRound1 === \"prop\") {\n                            [t1[index], t1[i]] = [t1[i], t1[index]];\n                            break;\n                        }\n                    }\n                }\n            });\n            t2.forEach((team, index) => {\n                if(index % 2 === 0 && team.sideRound1 === \"prop\") {\n                    for(let i = index + 1; i < len2; i++) {\n                        if(t2[i].sideRound1 === \"opp\") {\n                            [t2[index], t2[i]] = [t2[i], t2[index]];\n                            break;\n                        }\n                    }\n                } else if(index % 2 === 1 && team.sideRound1 === \"opp\") {\n                    for(let i = index + 1; i < len2; i++) {\n                        if(t2[i].sideRound1 === \"prop\") {\n                            [t2[index], t2[i]] = [t2[i], t2[index]];\n                            break;\n                        }\n                    }\n                }\n            });\n        }\n\n        // For round 3, make sure teams don't get the same opponent\n        // CURRENTLY MAKES THE DRAW CRASH <3\n        // if(round === 3) {\n        //     for(let i = 0; i < t1.length; i += 2) {\n        //         if(t1[i].opponents[1] === t1[i + 1].teamID) {\n        //             [t1[i], t1[i - 1]] = [t1[i - 1], t1[i]];\n        //             break;\n        //         }\n        //     }\n        //     for(let i = 1; i < t2.length; i += 2) {\n        //         if(t2[i].opponents[1] === t2[i + 1].teamID) {\n        //             [t2[i], t2[i - 1]] = [t2[i - 1], t2[i]];\n        //             break;\n        //         }\n        //     }\n        // }\n\n        // Distribute teams and chairs\n        let currProp, currOpp, currChair;\n        for (let i = 0; i < len1; i += 2) {\n            if(round === 1) {\n                t1[i].sideRound1 = \"prop\";\n                t1[i + 1].sideRound1 = \"opp\";\n            }\n\n            currProp = t1[i].teamID;\n            currOpp = t1[i + 1].teamID;\n\n            t1[i].opponents[round - 1] = currOpp;\n            t1[i + 1].opponents[round - 1] = currProp;\n\n            currChair = chairs.pop()!.judgeID;\n\n            const newRoom: Room = {\n                roomID: roomCounter++,\n                name: \"\",\n                prop: currProp,\n                opp: currOpp,\n                chair: currChair,\n                wings: []\n            }\n            roomsOne[i / 2] = newRoom;\n        }\n        for (let i = 0; i < len2; i += 2) {\n            if(round === 1) {\n                t2[i].sideRound1 = \"prop\";\n                t2[i + 1].sideRound1 = \"opp\";\n            }\n\n            currProp = t2[i].teamID;\n            currOpp = t2[i + 1].teamID;\n\n            t2[i].opponents[round - 1] = currOpp;\n            t2[i + 1].opponents[round - 1] = currProp;\n\n            currChair = chairs.pop()!.judgeID;\n\n            const newRoom: Room = {\n                roomID: roomCounter++,\n                name: \"\",\n                prop: currProp,\n                opp: currOpp,\n                chair: currChair,\n                wings: []\n            }\n            roomsTwo[i / 2] = newRoom;\n        }\n\n        // Add wings\n        while(wings.length > 0) {\n            for (let i = 0; i < roomsOne.length; i++) {\n                roomsOne[i].wings.push(wings.pop()!.judgeID);\n                if(wings.length === 0) {\n                    break;\n                }\n            }\n            if(wings.length === 0) {\n                break;\n            }\n            for (let i = 0; i < roomsTwo.length; i++) {\n                roomsTwo[i].wings.push(wings.pop()!.judgeID);\n                if(wings.length === 0) {\n                    break;\n                }\n            }\n        }\n\n        // Randomize row order\n        for (let i = roomsOne.length - 1; i > 0; i--) {\n            const j = Math.floor(Math.random() * (i + 1));\n            [roomsOne[i], roomsOne[j]] = [roomsOne[j], roomsOne[i]];\n        }\n        for (let i = roomsTwo.length - 1; i > 0; i--) {\n            const j = Math.floor(Math.random() * (i + 1));\n            [roomsTwo[i], roomsTwo[j]] = [roomsTwo[j], roomsTwo[i]];\n        }\n\n        // Save in storage\n        const drawr: Draw = {\n            generated: true,\n            roomsOne: roomsOne,\n            roomsTwo: roomsTwo\n        }\n        if(round === 1) {\n            draws[0] = drawr;\n        } else if(round === 2) {\n            draws[1] = drawr;\n        } else {\n            draws[2] = drawr;\n        }\n        localStorage.setItem(\"draws\", JSON.stringify(draws));\n\n        // Update team values\n        t1.forEach(team => {\n            const i = teamsOne.indexOf(team);\n            teamsOne[i] = team;\n        });\n        localStorage.setItem(\"teams_one\", JSON.stringify(teamsOne));\n        t2.forEach(team => {\n            const i = teamsTwo.indexOf(team);\n            teamsTwo[i] = team;\n        });\n        localStorage.setItem(\"teams_two\", JSON.stringify(teamsTwo));\n\n        // Update local state\n        this.setState({roomsOne: roomsOne});\n        this.setState({roomsTwo: roomsTwo});\n        this.setState({generated: true});\n\n        localStorage.setItem(\"roomCounter\", JSON.stringify(roomCounter));\n    }\n\n    deleteDraw() {\n        const round = this.props.round;\n        let draws = this.props.draws;\n\n        if(round === 1 && (draws[1].generated || draws[2].generated)) {\n            alert(\"You can't delete a draw after you've generated the next one.\");\n            return false;\n        } else if(round === 2 && draws[2].generated) {\n            alert(\"You can't delete a draw after you've generated the next one.\");\n            return false;\n        }\n\n        let conf = window.confirm(`Are you sure you want to delete the draw for round ${round}?`);\n        if(!conf) return false;\n\n        const draw: Draw = {\n            generated: false,\n            roomsOne: [],\n            roomsTwo: []\n        }\n        if(round === 1) {\n            draws[0] = draw;\n        } else if(round === 2) {\n            draws[1] = draw;\n        } else {\n            draws[2] = draw;\n        }\n        localStorage.setItem(\"draws\", JSON.stringify(draws));\n\n        this.setState({roomsOne: []});\n        this.setState({roomsTwo: []});\n        this.setState({generated: false});\n    }\n\n\n    updateRooms(room: Room, div: number) {\n        const draws = JSON.parse(localStorage.getItem(\"draws\")!);\n        let rooms;\n        if(div === 1) {\n            rooms = this.state.roomsOne;\n        } else {\n            rooms = this.state.roomsTwo;\n        }\n\n        const index = rooms.indexOf(room);\n        rooms[index] = room;\n\n        if(div === 1) {\n            this.setState({roomsOne: rooms});\n            draws[this.props.round - 1].roomsOne = rooms;\n        } else {\n            this.setState({roomsTwo: rooms});\n            draws[this.props.round - 1].roomsTwo = rooms;\n        }\n        localStorage.setItem(\"draws\", JSON.stringify(draws));\n    }\n\n\n    fullScreenDraw() {\n        this.setState({fullScreen: true});\n        document.documentElement.requestFullscreen();\n    }\n\n    modalHide() {\n        this.setState({fullScreen: false});\n        if(document.fullscreenElement !== null) {\n            document.exitFullscreen();\n        }\n    }\n\n\n    render() {\n        let tables;\n        if(!this.state.generated) {\n            tables = <div className=\"draw-placeholder\"></div>;\n        } else {\n            tables = (\n                <div>\n                    <h3>{this.props.config.numDivisions === 2 ? this.props.config.divisionNames![0] : \"Draw\"}</h3>\n                    <Table className=\"table-no-top-margin draw-table-one\" hover striped>\n                        <thead>\n                            <tr>\n                                <th>Room</th>\n                                <th className=\"draw-table-team-cell\">Proposition</th>\n                                <th className=\"draw-table-team-cell\">Opposition</th>\n                                <th>Judges</th>\n                            </tr>\n                        </thead>\n                        <tbody>\n                            {\n                                this.state.roomsOne.map((room, index) => {\n                                    return <RoundRow \n                                            key={`one-room-${index}`}\n                                            room={room}\n                                            div={1}\n                                            round={this.props.round}\n                                            speakers={this.props.speakersOne}\n                                            teams={this.props.teamsOne}\n                                            judges={this.props.judges}\n                                            draw={this.props.draws[this.props.round - 1]}\n                                            updateRooms={this.updateRooms} />;\n                                })\n                            }\n                        </tbody>\n                    </Table>\n                    \n                    <h3>{this.props.config.numDivisions === 2 ? this.props.config.divisionNames![1] : \"\"}</h3>\n                    <Table className={`table-no-top-margin ${this.props.config.numDivisions === 1 ? \"hidden\" : \"\"}`} hover striped>\n                        <thead>\n                            <tr>\n                                <th>Room</th>\n                                <th className=\"draw-table-team-cell\">Proposition</th>\n                                <th className=\"draw-table-team-cell\">Opposition</th>\n                                <th>Judges</th>\n                            </tr>\n                        </thead>\n                        <tbody>\n                            {\n                                this.state.roomsTwo.map((room, index) => {\n                                    return <RoundRow \n                                            key={`two-room-${index}`}\n                                            room={room}\n                                            div={2}\n                                            round={this.props.round}\n                                            speakers={this.props.speakersTwo}\n                                            teams={this.props.teamsTwo}\n                                            judges={this.props.judges}\n                                            draw={this.props.draws[this.props.round - 1]}\n                                            updateRooms={this.updateRooms} />;\n                                })\n                            }\n                        </tbody>\n                    </Table>\n                </div>\n            );\n        }\n\n        return (\n            <div>\n                <h2>Round {this.props.round}</h2>\n                <Row className=\"draw-header\">\n                    <Col>\n                        <Button\n                            onClick={this.generateDraw}\n                            className={this.state.generated ? \"hidden\" : \"\"}>\n                            <Bullseye className=\"btn-icon\"/>\n                            Generate draw\n                        </Button>\n                        <Button\n                            variant=\"secondary\"\n                            onClick={this.generateDraw}\n                            className={!this.state.generated ? \"hidden\" : \"\"}>\n                            <ArrowRepeat className=\"btn-icon\" />\n                            Regenerate draw\n                        </Button>\n                        <Button\n                            variant=\"danger\"\n                            onClick={this.deleteDraw}\n                            className={!this.state.generated ? \"hidden\" : \"\"}>\n                            <Trash className=\"btn-icon\" />\n                            Delete draw\n                        </Button>\n                        <Button\n                            variant=\"primary\"\n                            onClick={this.fullScreenDraw}\n                            className={!this.state.generated ? \"hidden\" : \"\"}>\n                            <ArrowsAngleExpand className=\"btn-icon\" />\n                            Display fullscreen\n                        </Button>\n                    </Col>\n                </Row>\n                <Row>\n                    <Col lg={10} xl={9} className=\"table-col\">\n                        {tables}\n                    </Col>\n                </Row>\n\n                <Modal\n                    show={this.state.fullScreen}\n                    onHide={this.modalHide}\n                    backdrop=\"static\"\n                    size=\"xl\"\n                    className=\"draw-modal\"\n                    dialogClassName=\"draw-modal-dialog\"\n                    backdropClassName=\"draw-modal-backdrop\">\n                    <Modal.Header closeButton>\n                        Draw Round {this.props.round}\n                    </Modal.Header>\n                    <Modal.Body>\n                        {tables}\n                    </Modal.Body>\n                </Modal>\n            </div>\n        );\n    }\n}\n\nexport default Round;","import React from 'react';\nimport Round from './Round';\nimport { Config } from '../types/Config';\nimport { Speaker } from '../types/Speaker';\nimport { Team } from '../types/Team';\nimport { Judge } from '../types/Judge';\nimport { Draw } from '../types/Draw';\nimport Tab from 'react-bootstrap/Tab';\nimport Row from 'react-bootstrap/Row';\nimport Col from 'react-bootstrap/Col';\nimport Nav from 'react-bootstrap/Nav';\nimport { CircleHalf } from 'react-bootstrap-icons';\n\n\ntype DrawsProps = {\n    config: Config,\n    speakersOne: Speaker[],\n    speakersTwo: Speaker[],\n    teamsOne: Team[],\n    teamsTwo: Team[],\n    judges: Judge[],\n    draws: Draw[]\n}\n\nclass Draws extends React.Component<DrawsProps> {\n    render() {\n        return (\n            <Tab.Container id={`draw-view`} defaultActiveKey=\"round-1\" transition={false}>\n                <Row>\n                    <Col md={3} lg={2}>\n                        <Nav variant=\"pills\" className=\"sub-nav\">\n                            {[1, 2, 3].map(round => {\n                                return (\n                                    <Nav.Item key={`draw-nav-${round}`}>\n                                        <Nav.Link eventKey={`round-${round}`} className=\"sub-nav-link\">\n                                            <CircleHalf className=\"btn-icon\" />\n                                            Round {round}\n                                        </Nav.Link>\n                                    </Nav.Item>\n                                );\n                            })}\n                        </Nav>\n                    </Col>\n                    <Col md={9} lg={10}>\n                        <Tab.Content>\n                            {[1, 2, 3].map(round => {\n                                return (\n                                    <Tab.Pane key={`draw-pane-${round}`} eventKey={`round-${round}`}>\n                                        <Round\n                                            round={round}\n                                            config={this.props.config}\n                                            speakersOne={this.props.speakersOne}\n                                            speakersTwo={this.props.speakersTwo}\n                                            teamsOne={this.props.teamsOne}\n                                            teamsTwo={this.props.teamsTwo}\n                                            judges={this.props.judges}\n                                            draws={this.props.draws} />\n                                    </Tab.Pane>\n                                )\n                            })}\n                        </Tab.Content>\n                    </Col>\n                </Row>\n            </Tab.Container>\n        );\n    }\n}\n\nexport default Draws;","import React from 'react';\nimport './App.scss';\nimport logo from './images/logo.svg';\nimport pkg from '../package.json';\nimport SetupScreen from './setup/SetupScreen';\nimport Home from './home/Home';\nimport Participants from './participants/Participants';\nimport Judges from './judges/Judges';\nimport Draws from './draws/Draws';\nimport { Speaker } from './types/Speaker';\nimport { Team } from './types/Team';\nimport { Judge } from './types/Judge';\nimport { Draw } from './types/Draw';\nimport { Config } from './types/Config';\nimport Container from 'react-bootstrap/Container';\nimport Tab from 'react-bootstrap/Tab';\nimport Nav from 'react-bootstrap/Nav';\nimport Collapse from 'react-bootstrap/Collapse';\nimport { List } from 'react-bootstrap-icons';\n\n\ntype AppProps = {}\n\ntype AppState = {\n    showMenu: boolean,\n    init: boolean,\n    tournamentName: string,\n    config: Config,\n    speakersOne: Speaker[],\n    speakersTwo: Speaker[],\n    teamsOne: Team[],\n    teamsTwo: Team[],\n    judges: Judge[],\n    draws: Draw[]\n}\n\nconst s = JSON.stringify;\n\nclass App extends React.Component<AppProps, AppState> {\n    constructor(props: AppProps) {\n        super(props);\n\n        if(!localStorage.getItem(\"init\")) {\n            localStorage.setItem(\"init\", s(false));\n        }\n        if(!localStorage.getItem(\"tournamentName\")) {\n            localStorage.setItem(\"tournamentName\", s(\"New tournament\"));\n        }\n        if(!localStorage.getItem(\"config\")) {\n            localStorage.setItem(\"config\", s({version: pkg.version, numDivisions: 0}));\n        }\n        if(!localStorage.getItem(\"speakersOne\")) {\n            localStorage.setItem(\"speakersOne\", s([]));\n        }\n        if(!localStorage.getItem(\"teamsOne\")) {\n            localStorage.setItem(\"teamsOne\", s([]));\n        }\n        if(!localStorage.getItem(\"speakersTwo\")) {\n            localStorage.setItem(\"speakersTwo\", s([]));\n        }\n        if(!localStorage.getItem(\"teamsTwo\")) {\n            localStorage.setItem(\"teamsTwo\", s([]));\n        }\n        if(!localStorage.getItem(\"speakerCounter\")) {\n            localStorage.setItem(\"speakerCounter\", s(0));\n        }\n        if(!localStorage.getItem(\"teamCounter\")) {\n            localStorage.setItem(\"teamCounter\", s(0));\n        }\n        if(!localStorage.getItem(\"judges\")) {\n            localStorage.setItem(\"judges\", s([]));\n        }\n        if(!localStorage.getItem(\"judgeCounter\")) {\n            localStorage.setItem(\"judgeCounter\", s(0));\n        }\n        if(!localStorage.getItem(\"draws\")) {\n            localStorage.setItem(\"draws\", s([\n                {generated: false, roomsOne: [], roomsTwo: []},\n                {generated: false, roomsOne: [], roomsTwo: []},\n                {generated: false, roomsOne: [], roomsTwo: []}\n            ]));\n        }\n        if(!localStorage.getItem(\"roomCounter\")) {\n            localStorage.setItem(\"roomCounter\", s(0));\n        }\n\n        this.state = {\n            showMenu: false,\n            init: JSON.parse(localStorage.getItem(\"init\")!),\n            tournamentName: JSON.parse(localStorage.getItem(\"tournamentName\")!),\n            config: JSON.parse(localStorage.getItem(\"config\")!),\n            speakersOne: JSON.parse(localStorage.getItem(\"speakersOne\")!),\n            speakersTwo: JSON.parse(localStorage.getItem(\"speakersTwo\")!),\n            teamsOne: JSON.parse(localStorage.getItem(\"teamsOne\")!),\n            teamsTwo: JSON.parse(localStorage.getItem(\"teamsTwo\")!),\n            judges: JSON.parse(localStorage.getItem(\"judges\")!),\n            draws: JSON.parse(localStorage.getItem(\"draws\")!)\n        }\n\n        this.toggleMenu = this.toggleMenu.bind(this);\n\n        this.updateStorage = this.updateStorage.bind(this);\n        this.updateTournamentName = this.updateTournamentName.bind(this);\n        this.updateInit = this.updateInit.bind(this);\n        this.updateConfig = this.updateConfig.bind(this);\n        this.updateSpeakersOne = this.updateSpeakersOne.bind(this);\n        this.updateSpeakersTwo = this.updateSpeakersTwo.bind(this);\n        this.updateTeamsOne = this.updateTeamsOne.bind(this);\n        this.updateTeamsTwo = this.updateTeamsTwo.bind(this);\n        this.updateJudges = this.updateJudges.bind(this);\n\n        this.initializeTournament = this.initializeTournament.bind(this);\n        this.getTotalTeams = this.getTotalTeams.bind(this);\n\n        document.title = `${JSON.parse(localStorage.getItem(\"tournamentName\")!)} - TacoTab`;\n    }\n\n\n    // Toggle menu\n    toggleMenu() {\n        if(this.state.showMenu) {\n            this.setState({ showMenu: false });\n        } else {\n            this.setState({ showMenu: true });\n        }\n    }\n\n\n    // Global methods to update local storage and state\n    updateStorage = (key: string) => {\n        return (value: any) => {\n            localStorage.setItem(key, JSON.stringify(value));\n            this.setState<never>({ [key]: value })\n        }\n    };\n\n    updateTournamentName = (name: string) => {\n        this.updateStorage(\"tournamentName\")(name)\n        document.title = `${name} - TacoTab`;\n    }\n\n    updateInit = this.updateStorage(\"init\");\n    updateConfig = this.updateStorage(\"config\");\n    updateSpeakersOne = this.updateStorage(\"speakersOne\");\n    updateSpeakersTwo = this.updateStorage(\"speakersTwo\");\n    updateTeamsOne = this.updateStorage(\"teamsOne\");\n    updateTeamsTwo = this.updateStorage(\"teamsTwo\");\n    updateJudges = this.updateStorage(\"judges\");\n\n\n    // Global helper methods\n    initializeTournament = (\n        tournamentName: string,\n        numDivisions: number,\n        divisionNames: string[]) => {\n\n            this.updateTournamentName(tournamentName);\n            \n            let config: Config = {\n                version: pkg.version,\n                numDivisions: numDivisions\n            }\n            if(numDivisions !== 1) {\n                config.divisionNames = [...divisionNames];\n            }\n            this.updateConfig(config);\n\n            this.updateInit(true);\n    }\n\n    getTotalTeams() {\n        return this.state.teamsOne.length + this.state.teamsTwo.length;\n    }\n\n\n\n    render() {\n        let participants_nav, participants_panes;\n        if(this.state.config.numDivisions !== 2) {\n            participants_nav = (\n                <Nav.Item>\n                    <Nav.Link eventKey=\"participants\" title=\"Participants\">Participants</Nav.Link>\n                </Nav.Item>\n            );\n            participants_panes = (\n                <Tab.Pane eventKey=\"participants\">\n                    <Participants\n                        div={1}\n                        speakers={this.state.speakersOne}\n                        teams={this.state.teamsOne}\n                        updateSpeakers={this.updateSpeakersOne}\n                        updateTeams={this.updateTeamsOne} />\n                </Tab.Pane>\n            );\n        } else {\n            participants_nav = (\n                <>\n                    <Nav.Item>\n                        <Nav.Link eventKey=\"divone\" title={this.state.config.divisionNames![0]}>{this.state.config.divisionNames![0]}</Nav.Link>\n                    </Nav.Item>\n                    <Nav.Item>\n                        <Nav.Link eventKey=\"divtwo\" title={this.state.config.divisionNames![1]}>{this.state.config.divisionNames![1]}</Nav.Link>\n                    </Nav.Item>\n                </>\n            );\n            participants_panes = (\n                <>\n                    <Tab.Pane eventKey=\"divone\">\n                        <Participants\n                            div={1}\n                            speakers={this.state.speakersOne}\n                            teams={this.state.teamsOne}\n                            updateSpeakers={this.updateSpeakersOne}\n                            updateTeams={this.updateTeamsOne} />\n                    </Tab.Pane>\n                    <Tab.Pane eventKey=\"divtwo\">\n                        <Participants\n                            div={2}\n                            speakers={this.state.speakersTwo}\n                            teams={this.state.teamsTwo}\n                            updateSpeakers={this.updateSpeakersTwo}\n                            updateTeams={this.updateTeamsTwo} />\n                    </Tab.Pane>\n                </>\n            );\n        }\n\n\n        return (\n            <>\n            <Container fluid className=\"app\">\n                <div id=\"logo\">\n                    <img src={logo} alt=\"TacoTab logo\" />\n                    <h1>TacoTab</h1>\n                </div>\n\n                <div id=\"hamburger\">\n                    <List \n                        onClick={this.toggleMenu}\n                        role=\"button\"\n                        aria-controls=\"app-nav\"\n                        aria-expanded={this.state.showMenu} />\n                </div>\n\n                <Tab.Container id=\"app-nav\" defaultActiveKey=\"home\" transition={false}>\n                    <Collapse in={this.state.showMenu}>\n                        <Nav className=\"main-nav\">\n                            <Nav.Item>\n                                <Nav.Link eventKey=\"home\" title=\"Home\">Home</Nav.Link>\n                            </Nav.Item>\n                            {participants_nav}\n                            <Nav.Item>\n                                <Nav.Link eventKey=\"judges\" title=\"Judges\">Judges</Nav.Link>\n                            </Nav.Item>\n                            <Nav.Item>\n                                <Nav.Link eventKey=\"draw\" title=\"Draw\">Draw</Nav.Link>\n                            </Nav.Item>\n                        </Nav>\n                    </Collapse>\n                    <Tab.Content>\n                        <Tab.Pane eventKey=\"home\">\n                            <Home\n                                tournamentName={this.state.tournamentName}\n                                config={this.state.config}\n                                updateTournamentName={this.updateTournamentName}\n                                updateConfig={this.updateConfig} />\n                        </Tab.Pane>\n                        {participants_panes}\n                        <Tab.Pane eventKey=\"judges\">\n                            <Judges\n                                judges={this.state.judges}\n                                updateJudges={this.updateJudges}\n                                getTotalTeams={this.getTotalTeams} />\n                        </Tab.Pane>\n                        <Tab.Pane eventKey=\"draw\">\n                            <Draws\n                                config={this.state.config}\n                                speakersOne={this.state.speakersOne}\n                                speakersTwo={this.state.speakersTwo}\n                                teamsOne={this.state.teamsOne}\n                                teamsTwo={this.state.teamsTwo}\n                                judges={this.state.judges}\n                                draws={this.state.draws} />\n                        </Tab.Pane>\n                    </Tab.Content>\n                </Tab.Container>\n            </Container>\n\n            <SetupScreen\n                init={this.state.init}\n                initializeTournament={this.initializeTournament} />\n            </>\n        );\n    }\n}\n\nexport default App;","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\ntype Config = {\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\n};\n\nexport function register(config?: Config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(\n      process.env.PUBLIC_URL,\n      window.location.href\n    );\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl: string, config?: Config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './custom.scss';\nimport './index.scss';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\nserviceWorker.register();\n"],"sourceRoot":""}